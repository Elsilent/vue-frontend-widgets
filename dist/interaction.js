(()=>{var e={356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var i=s(601),l=s.n(i),n=s(314),a=s.n(n)()(l());a.push([e.id,'.treeselect-input{width:100%;box-sizing:border-box;border:1px solid #d9d9d9;border-radius:4px;display:flex;align-items:center;flex-wrap:wrap;min-height:38px;padding:2px 4px;padding-right:40px;position:relative;min-height:40px;background-color:#fff;cursor:text}.treeselect-input--unsearchable{cursor:default}.treeselect-input--unsearchable .treeselect-input__edit{caret-color:rgba(0,0,0,0);cursor:default}.treeselect-input--unsearchable .treeselect-input__edit:focus{position:absolute;z-index:-1;left:0;min-width:0;width:0}.treeselect-input--value-not-selected .treeselect-input__edit,.treeselect-input--value-not-selected.treeselect-input--unsearchable .treeselect-input__edit:focus{z-index:auto;position:static;width:100%;max-width:100%}.treeselect-input--value-not-selected .treeselect-input__tags{gap:0}[dir=rtl] .treeselect-input{padding-right:4px;padding-left:40px}[dir=rtl] .treeselect-input__operators{right:unset;left:2px}.treeselect-input__tags{display:inline-flex;align-items:center;flex-wrap:wrap;gap:4px;max-width:100%;width:100%;box-sizing:border-box}.treeselect-input__tags-element{color:#fff;display:inline-flex;align-items:center;background-color:#666ee8;border:1px solid #3a44e1;cursor:pointer;padding:2px 6px;border-radius:4px;font-size:14px;line-height:1.8;max-width:100%;box-sizing:border-box}.treeselect-input__tags-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.treeselect-input__tags-cross{display:flex;margin-left:2px}.treeselect-input__tags-cross::after{color:#fff;content:"×";cursor:pointer;display:block;font-weight:700;margin-left:5px}.treeselect-input__tags-cross svg{display:none}.treeselect-input__tags-count{font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.treeselect-input__edit{flex:1;border:none;font-size:14px;text-overflow:ellipsis;width:100%;max-width:calc(100% - 45px);padding:0;position:absolute;z-index:-1;min-width:0}.treeselect-input__edit:focus{outline:none;min-width:30px;max-width:100%;z-index:auto;position:static}.treeselect-input__operators{display:flex;max-width:40px;position:absolute;right:2px}.treeselect-input__clear{display:flex;cursor:pointer}.treeselect-input__clear svg{display:none}.treeselect-input__clear::after{content:"×";display:block;cursor:pointer;font-weight:700;margin-right:10px}.treeselect-input__arrow{display:none}.treeselect-input__arrow svg{stroke:#c5c7cb;width:20px;min-width:20px;height:20px}.treeselect-input__arrow:hover svg{stroke:#838790}.treeselect-list{width:100%;box-sizing:border-box;border:1px solid #d7dde4;overflow-y:auto;background-color:#fff;max-height:300px}.treeselect-list__group-container{box-sizing:border-box}.treeselect-list__item{display:flex;align-items:center;box-sizing:border-box;cursor:pointer;height:30px}.treeselect-list__item:focus{outline:none}.treeselect-list__item--focused{background-color:#e0e0e0}.treeselect-list__item--hidden{display:none}.treeselect-list__item-icon{display:flex;align-items:center;cursor:pointer;height:20px;width:20px;min-width:20px}.treeselect-list__item-icon svg{pointer-events:none;width:100%;height:100%;stroke:#c5c7cb}.treeselect-list__item-icon *{pointer-events:none}.treeselect-list__item-icon:hover svg{stroke:#838790}.treeselect-list__item-checkbox-container{width:20px;height:20px;min-width:20px;border:1px solid #d7dde4;border-radius:3px;position:relative;background-color:#fff;pointer-events:none;box-sizing:border-box}.treeselect-list__item-checkbox-container svg{position:absolute;height:100%;width:100%}.treeselect-list__item-checkbox{margin:0;width:0;height:0;pointer-events:none;position:absolute;z-index:-1}.treeselect-list__item-checkbox-icon{position:absolute;height:100%;width:100%;left:0;top:0;text-align:left}.treeselect-list__item-label{width:100%;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap;font-size:14px;padding-left:5px;pointer-events:none;text-align:left}.treeselect-list__item-label-counter{margin-left:3px;color:#838790;font-size:13px}.treeselect-list__empty{display:flex;align-items:center;height:30px;padding-left:4px}.treeselect-list__empty--hidden{display:none}.treeselect-list__empty-icon{display:flex;align-items:center}.treeselect-list__empty-text{font-size:14px;padding-left:5px;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap}.treeselect-list__slot{position:sticky;box-sizing:border-box;width:100%;max-width:100%;bottom:0;background-color:#fff}.treeselect-list.treeselect-list--single-select .treeselect-list__item-checkbox-container{display:none}.treeselect-list.treeselect-list--disabled-branch-node .treeselect-list__item--group .treeselect-list__item-checkbox-container{display:none}.treeselect-list__item--checked{background-color:#e9f1f1}.treeselect-list.treeselect-list--single-select .treeselect-list__item--checked{background-color:rgba(0,0,0,0)}.treeselect-list.treeselect-list--single-select .treeselect-list__item--single-selected{background-color:#e9f1f1}.treeselect-list__item .treeselect-list__item-checkbox-container svg{stroke:rgba(0,0,0,0)}.treeselect-list__item--checked .treeselect-list__item-checkbox-container svg,.treeselect-list__item--partial-checked .treeselect-list__item-checkbox-container svg{stroke:#fff}.treeselect-list__item--checked .treeselect-list__item-checkbox-container,.treeselect-list__item--partial-checked .treeselect-list__item-checkbox-container{background-color:#52c67e}.treeselect-list__item--disabled .treeselect-list__item-checkbox-container{background-color:#e9f1f1}.treeselect-list__item--disabled .treeselect-list__item-label{color:#c5c7cb}.treeselect-list__item-label{margin:0 !important}[dir=rtl] .treeselect-list__item-checkbox-icon{text-align:right}[dir=rtl] .treeselect-list__item-label{text-align:right;padding-right:5px;padding-left:unset}[dir=rtl] .treeselect-list__item--closed .treeselect-list__item-icon{transform:rotate(180deg)}[dir=rtl] .treeselect-list__empty{padding-right:4px;padding-left:unset}[dir=rtl] .treeselect-list__empty-text{padding-right:5px;padding-left:unset}.treeselect{width:100%;position:relative;box-sizing:border-box}.treeselect--disabled{pointer-events:none}.treeselect-list{position:absolute;left:0;border-radius:4px;box-sizing:border-box;z-index:1000}.treeselect .treeselect-list{position:absolute}.treeselect .treeselect-list--static{position:static}.treeselect-input--opened.treeselect-input--top{border-top-color:rgba(0,0,0,0);border-top-left-radius:0;border-top-right-radius:0}.treeselect-input--opened.treeselect-input--bottom{border-bottom-color:rgba(0,0,0,0);border-bottom-left-radius:0;border-bottom-right-radius:0}.treeselect-list--top,.treeselect-list--top-to-body{border-bottom-color:#d7dde4;border-bottom-left-radius:0;border-bottom-right-radius:0}.treeselect-list--bottom,.treeselect-list--bottom-to-body{border-top-color:#d7dde4;border-top-left-radius:0;border-top-right-radius:0}.treeselect-list--top{left:0;bottom:100%}.treeselect-list--bottom{left:0;top:100%}',""]);const o=a},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",i=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),i&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),i&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,i,l,n){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);i&&a[h[0]]||(void 0!==n&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=n),s&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=s):h[2]=s),l&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=l):h[4]="".concat(l)),t.push(h))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},727:(e,t,s)=>{var i=s(356);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,s(534).A)("c0f78390",i,!1,{})},534:(e,t,s)=>{"use strict";function i(e,t){for(var s=[],i={},l=0;l<t.length;l++){var n=t[l],a=n[0],o={id:e+":"+l,css:n[1],media:n[2],sourceMap:n[3]};i[a]?i[a].parts.push(o):s.push(i[a]={id:a,parts:[o]})}return s}s.d(t,{A:()=>m});var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},a=l&&(document.head||document.getElementsByTagName("head")[0]),o=null,r=0,c=!1,h=function(){},d=null,u="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,s,l){c=s,d=l||{};var a=i(e,t);return f(a),function(t){for(var s=[],l=0;l<a.length;l++){var o=a[l];(r=n[o.id]).refs--,s.push(r)}for(t?f(a=i(e,t)):a=[],l=0;l<s.length;l++){var r;if(0===(r=s[l]).refs){for(var c=0;c<r.parts.length;c++)r.parts[c]();delete n[r.id]}}}}function f(e){for(var t=0;t<e.length;t++){var s=e[t],i=n[s.id];if(i){i.refs++;for(var l=0;l<i.parts.length;l++)i.parts[l](s.parts[l]);for(;l<s.parts.length;l++)i.parts.push(b(s.parts[l]));i.parts.length>s.parts.length&&(i.parts.length=s.parts.length)}else{var a=[];for(l=0;l<s.parts.length;l++)a.push(b(s.parts[l]));n[s.id]={id:s.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function b(e){var t,s,i=document.querySelector("style["+u+'~="'+e.id+'"]');if(i){if(c)return h;i.parentNode.removeChild(i)}if(p){var l=r++;i=o||(o=v()),t=k.bind(null,i,l,!1),s=k.bind(null,i,l,!0)}else i=v(),t=_.bind(null,i),s=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else s()}}var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function k(e,t,s,i){var l=s?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,l);else{var n=document.createTextNode(l),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function _(e,t){var s=t.css,i=t.media,l=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute(u,t.id),l&&(s+="\n/*# sourceURL="+l.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}}},t={};function s(i){var l=t[i];if(void 0!==l)return l.exports;var n=t[i]={id:i,exports:{}};return e[i](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";s.r(i),s.d(i,{Dropdown:()=>l,Input:()=>a,TreeMultiselect:()=>Zs});var e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{ref:"select2",staticClass:"dropdown",attrs:{id:e.id,multiple:e.multiple,name:e.name}},e._l(e.items,(function(t,i){return s("option",{key:i+"-"+e.value,staticClass:"dropdown-item",attrs:{"data-index":i},domProps:{selected:e.value===e.getItemValue(i)}},[e._t("item",null,{item:t})],2)})),0)};function t(e,t,s,i,l,n,a,o){var r,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),a?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=r):l&&(r=o?function(){l.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:l),r)if(c.functional){c._injectStyles=r;var h=c.render;c.render=function(e,t){return r.call(t),h(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,r):[r]}return{exports:e,options:c}}e._withStripped=!0;const l=t({destroyed(){$(this.$refs.select2).off().select2("destroy")},data:()=>({select2Object:void 0}),methods:{getItemValue(e){return Array.isArray(this.items)?this.items[e]:e},initSelect2(){const e={tags:this.tags,minimumResultsForSearch:this.minimumResultsForSearch};this.width&&(e.width=this.width);const t=$(this.$refs.select2).off().select2(e);this.select2Object=t,t.maximizeSelect2Height({cushion:50}),t.val(this.value),t.on("change",(()=>{const e=$(this.$refs.select2).children(":selected").data("index"),t=this.getItemValue(e);this.$emit("input",t),this.$emit("change",t)})),t||t.on("select2:open",(()=>{$(".select2-container--open .select2-dropdown--below").css("display",!this.tags||this.items.length>0?null:"none")}))}},mounted(){this.initSelect2()},props:{id:{type:String,default:"select2"},items:{type:[Array,Object],required:!0},minimumResultsForSearch:{type:Number,default:10},multiple:{type:Boolean,default:!1},name:{type:String,required:!1},width:{type:[Number,String],required:!1},tags:{type:Boolean,default:!1},value:{type:[Number,String,Boolean,Array],default:null}},watch:{options:{deep:!0,handler(){this.initSelect2()}},value(){$(this.$refs.select2).val(this.value)}}},e,[],!1,null,null,null).exports;var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{staticClass:"form-control",attrs:{type:e.type},domProps:{value:e.modelValue},on:{blur:function(t){return e.$emit("blur",t)},input:function(t){return e.$emit("update:modelValue",t.target.value)},focus:function(t){return e.$emit("focus",t)},keydown:function(t){return e.$emit("keydown",t)},keyup:function(t){return e.$emit("keyup",t)},mouseup:function(t){return e.$emit("mouseup",t)}}})};n._withStripped=!0;const a=t({props:{modelValue:{type:[Number,String],required:!1},type:{type:String,required:!1}}},n,[],!1,null,null,null).exports;var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"treeselect-container"},[void 0!==e.name?[s("input",{attrs:{name:e.name+"[]",type:"hidden"}}),e._l(e.values,(function(t){return s("input",{attrs:{name:e.name+"[]",type:"hidden"},domProps:{value:t}})}))]:e._e(),s("div",{ref:"treeselect"})],2)};o._withStripped=!0;var r=Object.defineProperty,c=(e,t,s)=>(((e,t,s)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s),h=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},d=(e,t,s)=>(h(e,t,"read from private field"),s?s.call(e):t.get(e)),u=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},p=(e,t,s,i)=>(h(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),m=(e,t,s)=>(h(e,t,"access private method"),s);const f={arrowUp:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>',attention:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',clear:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',cross:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>',partialCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 25 25" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg>'},v=(e,t)=>{if(t.innerHTML="","string"==typeof e)t.innerHTML=e;else{const s=e.cloneNode(!0);t.appendChild(s)}},b=e=>{const t=e?{...e}:{};return Object.keys(f).forEach((e=>{t[e]||(t[e]=f[e])})),t};var g,w,k,_,x,C,y,S,E,L,W,T,O,N,A,B,V,P,H,M,G,I,z,j,q,R,D,U,F,Y,J,X,K,Q,Z,ee,te,se,ie,le,ne,ae,oe,re,ce,he,de,ue,pe,me;class fe{constructor({value:e,showTags:t,tagsCountText:s,clearable:i,isAlwaysOpened:l,searchable:n,placeholder:a,disabled:o,isSingleSelect:r,id:h,ariaLabel:f,iconElements:v,inputCallback:b,searchCallback:S,openCallback:L,closeCallback:T,keydownCallback:N,focusCallback:B,blurCallback:M,nameChangeCallback:$}){u(this,x),u(this,y),u(this,E),u(this,W),u(this,O),u(this,A),u(this,V),u(this,H),u(this,G),u(this,z),u(this,q),u(this,D),u(this,F),u(this,J),u(this,K),u(this,Z),u(this,te),u(this,ie),u(this,ne),u(this,oe),u(this,ce),u(this,de),u(this,pe),c(this,"value"),c(this,"showTags"),c(this,"tagsCountText"),c(this,"clearable"),c(this,"isAlwaysOpened"),c(this,"searchable"),c(this,"placeholder"),c(this,"disabled"),c(this,"isSingleSelect"),c(this,"id"),c(this,"ariaLabel"),c(this,"iconElements"),c(this,"isOpened"),c(this,"searchText"),c(this,"srcElement"),u(this,g,void 0),u(this,w,void 0),u(this,k,void 0),u(this,_,void 0),c(this,"inputCallback"),c(this,"searchCallback"),c(this,"openCallback"),c(this,"closeCallback"),c(this,"keydownCallback"),c(this,"focusCallback"),c(this,"blurCallback"),c(this,"nameChangeCallback"),this.value=e,this.showTags=t,this.tagsCountText=s,this.searchable=n,this.placeholder=a,this.clearable=i,this.isAlwaysOpened=l,this.disabled=o,this.isSingleSelect=r,this.id=h,this.ariaLabel=f,this.iconElements=v,this.isOpened=!1,this.searchText="",p(this,g,m(this,G,I).call(this)),p(this,w,m(this,K,Q).call(this)),p(this,k,m(this,ie,le).call(this)),p(this,_,null),this.inputCallback=b,this.searchCallback=S,this.openCallback=L,this.closeCallback=T,this.keydownCallback=N,this.focusCallback=B,this.blurCallback=M,this.nameChangeCallback=$,this.srcElement=m(this,V,P).call(this,d(this,g),d(this,w),d(this,k)),m(this,x,C).call(this)}focus(){setTimeout((()=>d(this,w).focus()),0)}blur(){this.isOpened&&m(this,A,B).call(this),this.clearSearch(),d(this,w).blur()}updateValue(e){this.value=e,m(this,y,S).call(this),m(this,O,N).call(this)}removeItem(e){this.value=this.value.filter((t=>t.id!==e)),m(this,pe,me).call(this),m(this,y,S).call(this),m(this,O,N).call(this)}clear(){this.value=[],m(this,pe,me).call(this),m(this,y,S).call(this),this.clearSearch()}openClose(){m(this,A,B).call(this)}clearSearch(){this.searchText="",this.searchCallback(""),m(this,O,N).call(this)}}g=new WeakMap,w=new WeakMap,k=new WeakMap,_=new WeakMap,x=new WeakSet,C=function(){m(this,y,S).call(this),m(this,O,N).call(this),m(this,E,L).call(this)},y=new WeakSet,S=function(){if(d(this,g).innerHTML="",this.showTags){d(this,g).append(...m(this,z,j).call(this));const t=(e=this.value).reduce(((t,{name:s},i)=>(t+=s,i<e.length-1&&(t+=", "),t)),"");this.nameChangeCallback(t)}else{const e=m(this,J,X).call(this);d(this,g).appendChild(e),this.nameChangeCallback(e.innerText)}var e;d(this,g).appendChild(d(this,w))},E=new WeakSet,L=function(){const e=[];d(this,k).innerHTML="",this.clearable&&e.push(m(this,ne,ae).call(this)),this.isAlwaysOpened||e.push(m(this,ce,he).call(this,this.isOpened)),e.length&&d(this,k).append(...e)},W=new WeakSet,T=function(){if(!this.isAlwaysOpened&&d(this,_)){const e=this.isOpened?this.iconElements.arrowUp:this.iconElements.arrowDown;v(e,d(this,_))}},O=new WeakSet,N=function(){var e;null!=(e=this.value)&&e.length?(d(this,w).removeAttribute("placeholder"),this.srcElement.classList.remove("treeselect-input--value-not-selected")):(d(this,w).setAttribute("placeholder",this.placeholder),this.srcElement.classList.add("treeselect-input--value-not-selected")),this.searchable?this.srcElement.classList.remove("treeselect-input--unsearchable"):this.srcElement.classList.add("treeselect-input--unsearchable"),this.isSingleSelect?this.srcElement.classList.add("treeselect-input--is-single-select"):this.srcElement.classList.remove("treeselect-input--is-single-select"),d(this,w).value=this.searchText},A=new WeakSet,B=function(){this.isOpened=!this.isOpened,m(this,W,T).call(this),this.isOpened?this.openCallback():this.closeCallback()},V=new WeakSet,P=function(e,t,s){const i=document.createElement("div");return i.classList.add("treeselect-input"),i.setAttribute("tabindex","-1"),i.addEventListener("mousedown",(e=>m(this,H,M).call(this,e))),i.addEventListener("focus",(()=>this.focusCallback()),!0),i.addEventListener("blur",(()=>this.blurCallback()),!0),e.appendChild(t),i.append(e,s),i},H=new WeakSet,M=function(e){e.stopPropagation(),this.isOpened||m(this,A,B).call(this),this.focus()},G=new WeakSet,I=function(){const e=document.createElement("div");return e.classList.add("treeselect-input__tags"),e},z=new WeakSet,j=function(){return this.value.map((e=>{const t=document.createElement("div");t.classList.add("treeselect-input__tags-element"),t.setAttribute("tabindex","-1"),t.setAttribute("tag-id",e.id.toString()),t.setAttribute("title",e.name);const s=m(this,D,U).call(this,e.name),i=m(this,F,Y).call(this);return t.addEventListener("mousedown",(t=>m(this,q,R).call(this,t,e.id))),t.append(s,i),t}))},q=new WeakSet,R=function(e,t){e.preventDefault(),e.stopPropagation(),this.removeItem(t),this.focus()},D=new WeakSet,U=function(e){const t=document.createElement("span");return t.classList.add("treeselect-input__tags-name"),t.textContent=e,t},F=new WeakSet,Y=function(){const e=document.createElement("span");return e.classList.add("treeselect-input__tags-cross"),v(this.iconElements.cross,e),e},J=new WeakSet,X=function(){const e=document.createElement("span");if(e.classList.add("treeselect-input__tags-count"),!this.value.length)return e.textContent="",e.setAttribute("title",""),e;const t=1===this.value.length?this.value[0].name:`${this.value.length} ${this.tagsCountText}`;return e.textContent=t,e.setAttribute("title",t),e},K=new WeakSet,Q=function(){const e=document.createElement("input");return e.classList.add("treeselect-input__edit"),this.id&&e.setAttribute("id",this.id),(!this.searchable||this.disabled)&&e.setAttribute("readonly","readonly"),this.disabled&&e.setAttribute("tabindex","-1"),this.ariaLabel.length&&e.setAttribute("aria-label",this.ariaLabel),e.addEventListener("keydown",(e=>m(this,Z,ee).call(this,e))),e.addEventListener("input",(t=>m(this,te,se).call(this,t,e))),e},Z=new WeakSet,ee=function(e){e.stopPropagation();const t=e.key;"Backspace"===t&&!this.searchText.length&&this.value.length&&!this.showTags&&this.clear(),"Backspace"===t&&!this.searchText.length&&this.value.length&&this.removeItem(this.value[this.value.length-1].id),"Space"===e.code&&(!this.searchText||!this.searchable)&&m(this,A,B).call(this),("Enter"===t||"ArrowDown"===t||"ArrowUp"===t)&&e.preventDefault(),this.keydownCallback(e),"Tab"!==t&&this.focus()},te=new WeakSet,se=function(e,t){e.stopPropagation();const s=this.searchText,i=t.value.trim();if(0!==s.length||0!==i.length){if(this.searchable){const t=e.target.value;this.searchCallback(t),this.isOpened||m(this,A,B).call(this)}else t.value="";this.searchText=t.value}else t.value=""},ie=new WeakSet,le=function(){const e=document.createElement("div");return e.classList.add("treeselect-input__operators"),e},ne=new WeakSet,ae=function(){const e=document.createElement("span");return e.classList.add("treeselect-input__clear"),e.setAttribute("tabindex","-1"),v(this.iconElements.clear,e),e.addEventListener("mousedown",(e=>m(this,oe,re).call(this,e))),e},oe=new WeakSet,re=function(e){e.preventDefault(),e.stopPropagation(),(this.searchText.length||this.value.length)&&this.clear(),this.focus()},ce=new WeakSet,he=function(e){p(this,_,document.createElement("span")),d(this,_).classList.add("treeselect-input__arrow");const t=e?this.iconElements.arrowUp:this.iconElements.arrowDown;return v(t,d(this,_)),d(this,_).addEventListener("mousedown",(e=>m(this,de,ue).call(this,e))),d(this,_)},de=new WeakSet,ue=function(e){e.stopPropagation(),e.preventDefault(),this.focus(),m(this,A,B).call(this)},pe=new WeakSet,me=function(){this.inputCallback(this.value)};const ve=(e,t,s,i)=>{Ee(t);const l=t.filter((t=>!t.disabled&&e.some((e=>e===t.id))));s&&l.length?l[0].checked=!0:l.forEach((e=>{e.checked=!0;const s=be(e,t,i);e.checked=s}))},be=({id:e,checked:t},s,i)=>{const l=s.find((t=>t.id===e));if(!l)return!1;if(i)return l.checked=!l.disabled&&!!t,l.checked;const n=ge(!!t,l,s);return we(l,s),n},ge=(e,t,s)=>{if(!t.isGroup)return t.checked=!t.disabled&&!!e,t.isPartialChecked=!1,t.checked;const i=s.filter((e=>e.childOf===t.id));return!e||t.disabled||t.isPartialChecked?(t.checked=!1,t.isPartialChecked=!1,_e(t,i,s),t.checked):xe(i,s)?Ce(i)?(t.checked=!1,t.isPartialChecked=!1,t.disabled=!0,t.checked):(t.checked=!1,t.isPartialChecked=!0,i.forEach((t=>{ge(e,t,s)})),t.checked):(t.checked=!0,t.isPartialChecked=!1,_e(t,i,s),t.checked)},we=(e,t)=>{const s=t.find((t=>t.id===e.childOf));s&&(ke(s,t),we(s,t))},ke=(e,t)=>{const s=We(e,t);return Ce(s)?(e.checked=!1,e.isPartialChecked=!1,void(e.disabled=!0)):ye(s)?(e.checked=!0,void(e.isPartialChecked=!1)):Se(s)?(e.checked=!1,void(e.isPartialChecked=!0)):(e.checked=!1,void(e.isPartialChecked=!1))},_e=({checked:e,disabled:t},s,i)=>{s.forEach((s=>{s.disabled=!!t||!!s.disabled,s.checked=!!e&&!s.disabled,s.isPartialChecked=!1;const l=We(s,i);_e({checked:e,disabled:t},l,i)}))},xe=(e,t)=>!!e.some((e=>e.disabled))||e.some((e=>{if(e.isGroup){const s=We(e,t);return xe(s,t)}return!1})),Ce=e=>e.every((e=>!!e.disabled)),ye=e=>e.every((e=>!!e.checked)),Se=e=>e.some((e=>!!e.checked||!!e.isPartialChecked)),Ee=e=>{e.forEach((e=>{e.checked=!1,e.isPartialChecked=!1}))},Le=(e,t,s,i)=>e.reduce(((e,l)=>{var n;const a=!(null==(n=l.children)||!n.length),o=i>=t&&a,r=i>t;if(e.push({id:l.value,name:l.name,childOf:s,isGroup:a,checked:!1,isPartialChecked:!1,level:i,isClosed:o,hidden:r,disabled:l.disabled??!1}),a){const s=Le(l.children,t,l.value,i+1);e.push(...s)}return e}),[]),We=({id:e},t)=>t.filter((t=>t.childOf===e)),Te=(e,{id:t,isClosed:s})=>{We({id:t},e).forEach((t=>{t.hidden=s??!1,t.isGroup&&!t.isClosed&&Te(e,{id:t.id,isClosed:s})}))},Oe=(e,t)=>t.reduce(((s,i)=>(i.childOf===e&&(s.push(i),i.isGroup&&s.push(...Oe(i.id,t))),s)),[]),Ne=(e,t)=>t.reduce(((s,i)=>(i.id===e&&(s.push(i),i.childOf&&s.push(...Ne(i.childOf,t))),s)),[]),Ae=(e,t,s,i,l)=>{e.forEach((n=>{const a=t.querySelector(`[input-id="${n.id}"]`),o=ze(a);a.checked=n.checked,Be(n,o,i),Ve(n,o),Pe(n,o),He(n,o,s),Me(n,o),Ge(n,o,e,l),$e(n,a,s)})),Ie(e,t)},Be=(e,t,s)=>{e.checked?t.classList.add("treeselect-list__item--checked"):t.classList.remove("treeselect-list__item--checked"),Array.isArray(s)&&s[0]===e.id&&!e.disabled?t.classList.add("treeselect-list__item--single-selected"):t.classList.remove("treeselect-list__item--single-selected")},Ve=(e,t)=>{e.isPartialChecked?t.classList.add("treeselect-list__item--partial-checked"):t.classList.remove("treeselect-list__item--partial-checked")},Pe=(e,t)=>{e.disabled?t.classList.add("treeselect-list__item--disabled"):t.classList.remove("treeselect-list__item--disabled")},He=(e,t,s)=>{if(e.isGroup){const i=t.querySelector(".treeselect-list__item-icon"),l=e.isClosed?s.arrowRight:s.arrowDown;v(l,i),e.isClosed?t.classList.add("treeselect-list__item--closed"):t.classList.remove("treeselect-list__item--closed")}},Me=(e,t)=>{e.hidden?t.classList.add("treeselect-list__item--hidden"):t.classList.remove("treeselect-list__item--hidden")},$e=(e,t,s)=>{const i=t.parentNode.querySelector(".treeselect-list__item-checkbox-icon");e.checked?v(s.check,i):e.isPartialChecked?v(s.partialCheck,i):i.innerHTML=""},Ge=(e,t,s,i)=>{if(0===e.level){const l=s.some((t=>t.isGroup&&t.level===e.level)),n=!e.isGroup&&l?"20px":"5px",a=e.isGroup?"0":n;i?t.style.paddingRight=a:t.style.paddingLeft=a}else{const s=e.isGroup?20*e.level+"px":20*e.level+20+"px";i?t.style.paddingRight=s:t.style.paddingLeft=s}t.setAttribute("level",e.level.toString()),t.setAttribute("group",e.isGroup.toString())},Ie=(e,t)=>{const s=e.some((e=>!e.hidden)),i=t.querySelector(".treeselect-list__empty");s?i.classList.add("treeselect-list__empty--hidden"):i.classList.remove("treeselect-list__empty--hidden")},ze=e=>e.parentNode.parentNode,je=(e,t)=>t.find((t=>t.id.toString()===e));var qe,Re,De,Ue,Fe,Ye,Je,Xe,Ke,Qe,Ze,et,tt,st,it,lt,nt,at,ot,rt,ct,ht,dt,ut,pt,mt,ft,vt,bt,gt,wt,kt,_t,xt,Ct,yt,St,Et,Lt,Wt,Tt,Ot,Nt,At,Bt,Vt,Pt,Ht,Mt,$t,Gt,It,zt,jt;class qt{constructor({options:e,value:t,openLevel:s,listSlotHtmlComponent:i,emptyText:l,isSingleSelect:n,iconElements:a,showCount:o,disabledBranchNode:r,expandSelected:h,isIndependentNodes:d,rtl:p,inputCallback:f,arrowClickCallback:v,mouseupCallback:b}){u(this,Fe),u(this,Je),u(this,Ke),u(this,Ze),u(this,tt),u(this,it),u(this,nt),u(this,ot),u(this,ct),u(this,dt),u(this,pt),u(this,ft),u(this,bt),u(this,wt),u(this,_t),u(this,Ct),u(this,St),u(this,Lt),u(this,Tt),u(this,Nt),u(this,Bt),u(this,Pt),u(this,Mt),u(this,Gt),u(this,zt),c(this,"options"),c(this,"value"),c(this,"openLevel"),c(this,"listSlotHtmlComponent"),c(this,"emptyText"),c(this,"isSingleSelect"),c(this,"showCount"),c(this,"disabledBranchNode"),c(this,"expandSelected"),c(this,"isIndependentNodes"),c(this,"rtl"),c(this,"iconElements"),c(this,"searchText"),c(this,"flattedOptions"),c(this,"flattedOptionsBeforeSearch"),c(this,"selectedNodes"),c(this,"srcElement"),c(this,"inputCallback"),c(this,"arrowClickCallback"),c(this,"mouseupCallback"),u(this,qe,null),u(this,Re,!0),u(this,De,[]),u(this,Ue,!0),this.options=e,this.value=t,this.openLevel=s??0,this.listSlotHtmlComponent=i??null,this.emptyText=l??"No results found...",this.isSingleSelect=n??!1,this.showCount=o??!1,this.disabledBranchNode=r??!1,this.expandSelected=h??!1,this.isIndependentNodes=d??!1,this.rtl=p??!1,this.iconElements=a,this.searchText="",this.flattedOptions=((e,t,s)=>((e,t)=>(e.filter((e=>!!e.disabled)).forEach((({id:s})=>be({id:s,checked:!1},e,t))),e))(Le(e,t,"",0),s))(this.options,this.openLevel,this.isIndependentNodes),this.flattedOptionsBeforeSearch=this.flattedOptions,this.selectedNodes={nodes:[],groupedNodes:[],allNodes:[]},this.srcElement=m(this,Ke,Qe).call(this),this.inputCallback=f,this.arrowClickCallback=v,this.mouseupCallback=b,(e=>{const{duplications:t}=e.reduce(((e,t)=>(e.allItems.some((e=>e.toString()===t.id.toString()))&&e.duplications.push(t.id),e.allItems.push(t.id),e)),{duplications:[],allItems:[]});t.length&&console.error(`Validation: You have duplicated values: ${t.join(", ")}! You should use unique values.`)})(this.flattedOptions)}updateValue(e){this.value=e,p(this,De,this.isSingleSelect?this.value:[]),((e,t,s,i,l,n,a,o,r,c)=>{ve(e,t,l,r),o&&a&&(e=>{e.filter((e=>e.isGroup&&!e.disabled&&(e.checked||e.isPartialChecked))).forEach((t=>{t.isClosed=!1,Te(e,t)}))})(t),Ae(t,s,i,n,c)})(e,this.flattedOptions,this.srcElement,this.iconElements,this.isSingleSelect,d(this,De),this.expandSelected,d(this,Ue),this.isIndependentNodes,this.rtl),p(this,Ue,!1),m(this,Gt,It).call(this)}updateSearchValue(e){if(e===this.searchText)return;const t=""===this.searchText&&""!==e;this.searchText=e,t&&(this.flattedOptionsBeforeSearch=JSON.parse(JSON.stringify(this.flattedOptions))),""===this.searchText&&(this.flattedOptions=this.flattedOptionsBeforeSearch.map((e=>{const t=this.flattedOptions.find((t=>t.id===e.id));return t.isClosed=e.isClosed,t.hidden=e.hidden,t})),this.flattedOptionsBeforeSearch=[]),this.searchText&&((e,t)=>{const s=((e,t)=>e.reduce(((s,i)=>{if(i.name.toLowerCase().includes(t.toLowerCase())){if(s.push(i),i.isGroup){const t=Oe(i.id,e);s.push(...t)}if(i.childOf){const t=Ne(i.childOf,e);s.push(...t)}}return s}),[]))(e,t);e.forEach((t=>{s.some((({id:e})=>e===t.id))?(t.isGroup&&(t.isClosed=!1,Te(e,t)),t.hidden=!1):t.hidden=!0}))})(this.flattedOptions,e),Ae(this.flattedOptions,this.srcElement,this.iconElements,d(this,De),this.rtl),this.focusFirstListElement()}callKeyAction(e){p(this,Re,!1);const t=this.srcElement.querySelector(".treeselect-list__item--focused");if(null==t?void 0:t.classList.contains("treeselect-list__item--hidden"))return;const s=e.key;"Enter"===s&&t&&t.dispatchEvent(new Event("mousedown")),("ArrowLeft"===s||"ArrowRight"===s)&&m(this,Fe,Ye).call(this,t,e),("ArrowDown"===s||"ArrowUp"===s)&&m(this,Je,Xe).call(this,t,s)}focusFirstListElement(){const e="treeselect-list__item--focused",t=this.srcElement.querySelector(`.${e}`),s=Array.from(this.srcElement.querySelectorAll(".treeselect-list__item-checkbox")).filter((e=>"none"!==window.getComputedStyle(ze(e)).display));s.length&&(t&&t.classList.remove(e),ze(s[0]).classList.add(e))}isLastFocusedElementExist(){return!!d(this,qe)}}qe=new WeakMap,Re=new WeakMap,De=new WeakMap,Ue=new WeakMap,Fe=new WeakSet,Ye=function(e,t){if(!e)return;const s=t.key,i=e.querySelector(".treeselect-list__item-checkbox").getAttribute("input-id"),l=je(i,this.flattedOptions),n=e.querySelector(".treeselect-list__item-icon");"ArrowLeft"===s&&!l.isClosed&&l.isGroup&&(n.dispatchEvent(new Event("mousedown")),t.preventDefault()),"ArrowRight"===s&&l.isClosed&&l.isGroup&&(n.dispatchEvent(new Event("mousedown")),t.preventDefault())},Je=new WeakSet,Xe=function(e,t){var s;const i=Array.from(this.srcElement.querySelectorAll(".treeselect-list__item-checkbox")).filter((e=>"none"!==window.getComputedStyle(ze(e)).display));if(i.length)if(e){const e=i.findIndex((e=>ze(e).classList.contains("treeselect-list__item--focused")));ze(i[e]).classList.remove("treeselect-list__item--focused");const l="ArrowDown"===t?e+1:e-1,n="ArrowDown"===t?0:i.length-1,a=i[l]??i[n],o=!i[l],r=ze(a);r.classList.add("treeselect-list__item--focused");const c=this.srcElement.getBoundingClientRect(),h=r.getBoundingClientRect();if(o&&"ArrowDown"===t)return void this.srcElement.scroll(0,0);if(o&&"ArrowUp"===t)return void this.srcElement.scroll(0,this.srcElement.scrollHeight);const d=(null==(s=this.listSlotHtmlComponent)?void 0:s.clientHeight)??0;if(c.y+c.height<h.y+h.height+d)return void this.srcElement.scroll(0,this.srcElement.scrollTop+h.height);if(c.y>h.y)return void this.srcElement.scroll(0,this.srcElement.scrollTop-h.height)}else ze(i[0]).classList.add("treeselect-list__item--focused")},Ke=new WeakSet,Qe=function(){const e=m(this,Ze,et).call(this),t=m(this,nt,at).call(this,this.options);e.append(...t);const s=m(this,ct,ht).call(this);e.append(s);const i=m(this,ot,rt).call(this);return i&&e.append(i),e},Ze=new WeakSet,et=function(){const e=document.createElement("div");return e.classList.add("treeselect-list"),this.isSingleSelect&&e.classList.add("treeselect-list--single-select"),this.disabledBranchNode&&e.classList.add("treeselect-list--disabled-branch-node"),e.addEventListener("mouseout",(e=>m(this,tt,st).call(this,e))),e.addEventListener("mousemove",(()=>m(this,it,lt).call(this))),e.addEventListener("mouseup",(()=>this.mouseupCallback()),!0),e},tt=new WeakSet,st=function(e){e.stopPropagation(),d(this,qe)&&d(this,Re)&&d(this,qe).classList.add("treeselect-list__item--focused")},it=new WeakSet,lt=function(){p(this,Re,!0)},nt=new WeakSet,at=function(e){return e.reduce(((e,t)=>{var s;if(null!=(s=t.children)&&s.length){const s=m(this,dt,ut).call(this,t),i=m(this,nt,at).call(this,t.children);return s.append(...i),e.push(s),e}const i=m(this,pt,mt).call(this,t,!1);return e.push(i),e}),[])},ot=new WeakSet,rt=function(){if(!this.listSlotHtmlComponent)return null;const e=document.createElement("div");return e.classList.add("treeselect-list__slot"),e.appendChild(this.listSlotHtmlComponent),e},ct=new WeakSet,ht=function(){const e=document.createElement("div");e.classList.add("treeselect-list__empty"),e.setAttribute("title",this.emptyText);const t=document.createElement("span");t.classList.add("treeselect-list__empty-icon"),v(this.iconElements.attention,t);const s=document.createElement("span");return s.classList.add("treeselect-list__empty-text"),s.textContent=this.emptyText,e.append(t,s),e},dt=new WeakSet,ut=function(e){const t=document.createElement("div");t.setAttribute("group-container-id",e.value.toString()),t.classList.add("treeselect-list__group-container");const s=m(this,pt,mt).call(this,e,!0);return t.appendChild(s),t},pt=new WeakSet,mt=function(e,t){const s=m(this,ft,vt).call(this,e);if(t){const e=m(this,Ct,yt).call(this);s.appendChild(e),s.classList.add("treeselect-list__item--group")}const i=m(this,Lt,Wt).call(this,e),l=m(this,Tt,Ot).call(this,e,t);return s.append(i,l),s},ft=new WeakSet,vt=function(e){const t=document.createElement("div");return((e,t)=>{t&&Object.keys(t).forEach((s=>{const i=t[s];"string"==typeof i&&e.setAttribute(s,i)}))})(t,e.htmlAttr),t.setAttribute("tabindex","-1"),t.setAttribute("title",e.name),t.classList.add("treeselect-list__item"),t.addEventListener("mouseover",(()=>m(this,bt,gt).call(this,t)),!0),t.addEventListener("mouseout",(()=>m(this,wt,kt).call(this,t)),!0),t.addEventListener("mousedown",(t=>m(this,_t,xt).call(this,t,e))),t},bt=new WeakSet,gt=function(e){d(this,Re)&&m(this,Mt,$t).call(this,!0,e)},wt=new WeakSet,kt=function(e){d(this,Re)&&(m(this,Mt,$t).call(this,!1,e),p(this,qe,e))},_t=new WeakSet,xt=function(e,t){var s;if(e.preventDefault(),e.stopPropagation(),null==(s=this.flattedOptions.find((e=>e.id===t.value)))?void 0:s.disabled)return;const i=e.target.querySelector(".treeselect-list__item-checkbox");i.checked=!i.checked,m(this,Bt,Vt).call(this,i,t)},Ct=new WeakSet,yt=function(){const e=document.createElement("span");return e.setAttribute("tabindex","-1"),e.classList.add("treeselect-list__item-icon"),v(this.iconElements.arrowDown,e),e.addEventListener("mousedown",(e=>m(this,St,Et).call(this,e))),e},St=new WeakSet,Et=function(e){e.preventDefault(),e.stopPropagation(),m(this,Pt,Ht).call(this,e)},Lt=new WeakSet,Wt=function(e){const t=document.createElement("div");t.classList.add("treeselect-list__item-checkbox-container");const s=document.createElement("span");s.classList.add("treeselect-list__item-checkbox-icon"),s.innerHTML="";const i=document.createElement("input");return i.setAttribute("tabindex","-1"),i.setAttribute("type","checkbox"),i.setAttribute("input-id",e.value.toString()),i.classList.add("treeselect-list__item-checkbox"),t.append(s,i),t},Tt=new WeakSet,Ot=function(e,t){const s=document.createElement("label");if(s.textContent=e.name,s.classList.add("treeselect-list__item-label"),t&&this.showCount){const t=m(this,Nt,At).call(this,e);s.appendChild(t)}return s},Nt=new WeakSet,At=function(e){const t=document.createElement("span"),s=this.flattedOptions.filter((t=>t.childOf===e.value));return t.textContent=`(${s.length})`,t.classList.add("treeselect-list__item-label-counter"),t},Bt=new WeakSet,Vt=function(e,t){const s=this.flattedOptions.find((e=>e.id===t.value));if(s){if(null!=s&&s.isGroup&&this.disabledBranchNode){const t=ze(e).querySelector(".treeselect-list__item-icon");return void(null==t||t.dispatchEvent(new Event("mousedown")))}if(this.isSingleSelect){const[e]=d(this,De);if(s.id===e)return;p(this,De,[s.id]),ve([s.id],this.flattedOptions,this.isSingleSelect,this.isIndependentNodes)}else{s.checked=e.checked;const t=be(s,this.flattedOptions,this.isIndependentNodes);e.checked=t}Ae(this.flattedOptions,this.srcElement,this.iconElements,d(this,De),this.rtl),m(this,zt,jt).call(this)}},Pt=new WeakSet,Ht=function(e){var t,s;const i=null==(s=null==(t=e.target)?void 0:t.parentNode)?void 0:s.querySelector("[input-id]"),l=(null==i?void 0:i.getAttribute("input-id"))??null,n=je(l,this.flattedOptions);n&&(n.isClosed=!n.isClosed,Te(this.flattedOptions,n),Ae(this.flattedOptions,this.srcElement,this.iconElements,d(this,De),this.rtl),this.arrowClickCallback(n.id,n.isClosed))},Mt=new WeakSet,$t=function(e,t){const s="treeselect-list__item--focused";if(e){const e=Array.from(this.srcElement.querySelectorAll(`.${s}`));e.length&&e.forEach((e=>e.classList.remove(s))),t.classList.add(s)}else t.classList.remove(s)},Gt=new WeakSet,It=function(){const{ungroupedNodes:e,groupedNodes:t,allNodes:s}=(e=>{const{ungroupedNodes:t,allGroupedNodes:s,allNodes:i}=e.reduce(((e,t)=>(t.checked&&(e.allNodes.push(t),t.isGroup?e.allGroupedNodes.push(t):e.ungroupedNodes.push(t)),e)),{ungroupedNodes:[],allGroupedNodes:[],allNodes:[]});return{ungroupedNodes:t,groupedNodes:i.filter((e=>!s.some((({id:t})=>t===e.childOf)))),allNodes:i}})(this.flattedOptions);this.selectedNodes={nodes:e,groupedNodes:t,allNodes:s}},zt=new WeakSet,jt=function(){m(this,Gt,It).call(this),this.inputCallback(this.selectedNodes),this.value=this.selectedNodes.nodes.map((e=>e.id))};const Rt=({parentHtmlContainer:e,staticList:t,appendToBody:s,isSingleSelect:i,value:l,direction:n})=>{e||console.error("Validation: parentHtmlContainer prop is required!"),t&&s&&console.error("Validation: You should set staticList to false if you use appendToBody!"),i&&Array.isArray(l)&&console.error("Validation: if you use isSingleSelect prop, you should pass a single value!"),!i&&!Array.isArray(l)&&console.error("Validation: you should pass an array as a value!"),n&&"auto"!==n&&"bottom"!==n&&"top"!==n&&console.error("Validation: you should pass (auto | top | bottom | undefined) as a value for the direction prop!")},Dt=e=>e.map((e=>e.id));var Ut,Ft,Yt,Jt,Xt,Kt,Qt,Zt,es,ts,ss,is,ls,ns,as,os,rs,cs,hs,ds,us,ps,ms,fs,vs,bs,gs,ws,ks,_s,xs,Cs,ys,Ss,Es,Ls,Ws,Ts,Os,Ns,As,Bs,Vs,Ps,Hs,Ms,$s,Gs,Is,zs,js,qs,Rs,Ds,Us,Fs,Ys,Js,Xs;class Ks{constructor({parentHtmlContainer:e,value:t,options:s,openLevel:i,appendToBody:l,alwaysOpen:n,showTags:a,tagsCountText:o,clearable:r,searchable:h,placeholder:d,grouped:p,isGroupedValue:f,listSlotHtmlComponent:v,disabled:g,emptyText:w,staticList:k,id:_,ariaLabel:x,isSingleSelect:C,showCount:y,disabledBranchNode:S,direction:E,expandSelected:L,saveScrollPosition:W,isIndependentNodes:T,rtl:O,iconElements:N,inputCallback:A,openCallback:B,closeCallback:V,nameChangeCallback:P,searchCallback:H,openCloseGroupCallback:M}){u(this,ts),u(this,is),u(this,ns),u(this,os),u(this,cs),u(this,ds),u(this,ps),u(this,fs),u(this,bs),u(this,ws),u(this,_s),u(this,Cs),u(this,Ss),u(this,Ls),u(this,Ts),u(this,Ns),u(this,Bs),u(this,Ps),u(this,Ms),u(this,Gs),u(this,zs),u(this,qs),u(this,Ds),u(this,Fs),u(this,Js),c(this,"parentHtmlContainer"),c(this,"value"),c(this,"options"),c(this,"openLevel"),c(this,"appendToBody"),c(this,"alwaysOpen"),c(this,"showTags"),c(this,"tagsCountText"),c(this,"clearable"),c(this,"searchable"),c(this,"placeholder"),c(this,"grouped"),c(this,"isGroupedValue"),c(this,"listSlotHtmlComponent"),c(this,"disabled"),c(this,"emptyText"),c(this,"staticList"),c(this,"id"),c(this,"ariaLabel"),c(this,"isSingleSelect"),c(this,"showCount"),c(this,"disabledBranchNode"),c(this,"direction"),c(this,"expandSelected"),c(this,"saveScrollPosition"),c(this,"isIndependentNodes"),c(this,"rtl"),c(this,"iconElements"),c(this,"inputCallback"),c(this,"openCallback"),c(this,"closeCallback"),c(this,"nameChangeCallback"),c(this,"searchCallback"),c(this,"openCloseGroupCallback"),c(this,"ungroupedValue"),c(this,"groupedValue"),c(this,"allValue"),c(this,"isListOpened"),c(this,"selectedName"),c(this,"srcElement"),u(this,Ut,null),u(this,Ft,null),u(this,Yt,null),u(this,Jt,0),u(this,Xt,0),u(this,Kt,null),u(this,Qt,null),u(this,Zt,null),u(this,es,null),Rt({parentHtmlContainer:e,value:t,staticList:k,appendToBody:l,isSingleSelect:C}),this.parentHtmlContainer=e,this.value=[],this.options=s??[],this.openLevel=i??0,this.appendToBody=l??!1,this.alwaysOpen=!(!n||g),this.showTags=a??!0,this.tagsCountText=o??"elements selected",this.clearable=r??!0,this.searchable=h??!0,this.placeholder=d??"Search...",this.grouped=p??!0,this.isGroupedValue=f??!1,this.listSlotHtmlComponent=v??null,this.disabled=g??!1,this.emptyText=w??"No results found...",this.staticList=!(!k||this.appendToBody),this.id=_??"",this.ariaLabel=x??"",this.isSingleSelect=C??!1,this.showCount=y??!1,this.disabledBranchNode=S??!1,this.direction=E??"auto",this.expandSelected=L??!1,this.saveScrollPosition=W??!0,this.isIndependentNodes=T??!1,this.rtl=O??!1,this.iconElements=b(N),this.inputCallback=A,this.openCallback=B,this.closeCallback=V,this.nameChangeCallback=P,this.searchCallback=H,this.openCloseGroupCallback=M,this.ungroupedValue=[],this.groupedValue=[],this.allValue=[],this.isListOpened=!1,this.selectedName="",this.srcElement=null,m(this,ts,ss).call(this,t)}mount(){Rt({parentHtmlContainer:this.parentHtmlContainer,value:this.value,staticList:this.staticList,appendToBody:this.appendToBody,isSingleSelect:this.isSingleSelect}),this.iconElements=b(this.iconElements),m(this,ts,ss).call(this,this.value)}updateValue(e){const t=(i=e)?Array.isArray(i)?i:[i]:[],s=d(this,Ut);var i;s&&(s.updateValue(t),m(this,bs,gs).call(this,null==s?void 0:s.selectedNodes))}destroy(){this.srcElement&&(m(this,Ls,Ws).call(this),this.srcElement.innerHTML="",this.srcElement=null,m(this,Ps,Hs).call(this,!0))}focus(){d(this,Ft)&&d(this,Ft).focus()}toggleOpenClose(){d(this,Ft)&&(d(this,Ft).openClose(),d(this,Ft).focus())}scrollWindowHandler(){this.updateListPosition()}focusWindowHandler(e){var t,s,i;(null==(t=this.srcElement)?void 0:t.contains(e.target))||(null==(s=d(this,Ut))?void 0:s.srcElement.contains(e.target))||(null==(i=d(this,Ft))||i.blur(),m(this,Ps,Hs).call(this,!1),m(this,Ns,As).call(this,!1))}blurWindowHandler(){var e;null==(e=d(this,Ft))||e.blur(),m(this,Ps,Hs).call(this,!1),m(this,Ns,As).call(this,!1)}updateListPosition(){var e;const t=this.srcElement,s=null==(e=d(this,Ut))?void 0:e.srcElement;if(!t||!s)return;const{height:i}=s.getBoundingClientRect(),{x:l,y:n,height:a,width:o}=t.getBoundingClientRect(),r=window.innerHeight-n-a;let c=n>r&&n>=i&&r<i;if("auto"!==this.direction&&(c="top"===this.direction),this.appendToBody){("0px"!==s.style.top||"0px"!==s.style.left)&&(s.style.top="0px",s.style.left="0px");const e=l+window.scrollX,t=c?n+window.scrollY-i:n+window.scrollY+a;s.style.transform=`translate(${e}px,${t}px)`,s.style.width=`${o}px`}const h=c?"top":"bottom";s.getAttribute("direction")!==h&&(s.setAttribute("direction",h),m(this,Ts,Os).call(this,c,this.appendToBody))}}Ut=new WeakMap,Ft=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,es=new WeakMap,ts=new WeakSet,ss=function(e){var t;this.destroy();const{container:s,list:i,input:l}=m(this,ns,as).call(this);this.srcElement=s,p(this,Ut,i),p(this,Ft,l),p(this,Kt,this.scrollWindowHandler.bind(this)),p(this,Qt,this.scrollWindowHandler.bind(this)),p(this,Zt,this.focusWindowHandler.bind(this)),p(this,es,this.blurWindowHandler.bind(this)),this.alwaysOpen&&(null==(t=d(this,Ft))||t.openClose()),this.disabled?this.srcElement.classList.add("treeselect--disabled"):this.srcElement.classList.remove("treeselect--disabled"),this.updateValue(e??this.value)},is=new WeakSet,ls=function({groupedNodes:e,nodes:t,allNodes:s}){this.ungroupedValue=t?Dt(t):[],this.groupedValue=e?Dt(e):[],this.allValue=s?Dt(s):[];let i=[];i=this.isIndependentNodes||this.isSingleSelect?this.allValue:this.isGroupedValue?this.groupedValue:this.ungroupedValue,this.value=((e,t)=>{if(this.isSingleSelect){const[t]=e;return t??null}return e})(i)},ns=new WeakSet,as=function(){const e=this.parentHtmlContainer;e.classList.add("treeselect"),this.rtl&&e.setAttribute("dir","rtl");const t=new qt({value:[],options:this.options,openLevel:this.openLevel,listSlotHtmlComponent:this.listSlotHtmlComponent,emptyText:this.emptyText,isSingleSelect:this.isSingleSelect,showCount:this.showCount,disabledBranchNode:this.disabledBranchNode,expandSelected:this.expandSelected,isIndependentNodes:this.isIndependentNodes,rtl:this.rtl,iconElements:this.iconElements,inputCallback:e=>m(this,ws,ks).call(this,e),arrowClickCallback:(e,t)=>m(this,_s,xs).call(this,e,t),mouseupCallback:()=>{var e;return null==(e=d(this,Ft))?void 0:e.focus()}}),s=new fe({value:[],showTags:this.showTags,tagsCountText:this.tagsCountText,clearable:this.clearable,isAlwaysOpened:this.alwaysOpen,searchable:this.searchable,placeholder:this.placeholder,disabled:this.disabled,isSingleSelect:this.isSingleSelect,id:this.id,ariaLabel:this.ariaLabel,iconElements:this.iconElements,inputCallback:e=>m(this,os,rs).call(this,e),searchCallback:e=>m(this,ds,us).call(this,e),openCallback:()=>m(this,Ss,Es).call(this),closeCallback:()=>m(this,Ls,Ws).call(this),keydownCallback:e=>m(this,cs,hs).call(this,e),focusCallback:()=>m(this,ps,ms).call(this),blurCallback:()=>m(this,fs,vs).call(this),nameChangeCallback:e=>m(this,Cs,ys).call(this,e)});return this.appendToBody&&p(this,Yt,new ResizeObserver((()=>this.updateListPosition()))),e.append(s.srcElement),{container:e,list:t,input:s}},os=new WeakSet,rs=function(e){var t,s;const i=Dt(e);null==(t=d(this,Ut))||t.updateValue(i);const l=(null==(s=d(this,Ut))?void 0:s.selectedNodes)??{};m(this,is,ls).call(this,l),m(this,Gs,Is).call(this)},cs=new WeakSet,hs=function(e){var t;this.isListOpened&&(null==(t=d(this,Ut))||t.callKeyAction(e))},ds=new WeakSet,us=function(e){d(this,Xt)&&clearTimeout(d(this,Xt)),p(this,Xt,window.setTimeout((()=>{var t;null==(t=d(this,Ut))||t.updateSearchValue(e),this.updateListPosition()}),350)),m(this,Fs,Ys).call(this,e)},ps=new WeakSet,ms=function(){m(this,Ns,As).call(this,!0),d(this,Zt)&&d(this,Zt)&&d(this,es)&&(document.addEventListener("mousedown",d(this,Zt),!0),document.addEventListener("focus",d(this,Zt),!0),window.addEventListener("blur",d(this,es)))},fs=new WeakSet,vs=function(){setTimeout((()=>{var e,t;const s=null==(e=d(this,Ft))?void 0:e.srcElement.contains(document.activeElement),i=null==(t=d(this,Ut))?void 0:t.srcElement.contains(document.activeElement);!s&&!i&&this.blurWindowHandler()}),1)},bs=new WeakSet,gs=function(e){var t;if(!e)return;let s=[];s=this.isIndependentNodes||this.isSingleSelect?e.allNodes:this.grouped?e.groupedNodes:e.nodes,null==(t=d(this,Ft))||t.updateValue(s),m(this,is,ls).call(this,e)},ws=new WeakSet,ks=function(e){var t,s,i;m(this,bs,gs).call(this,e),this.isSingleSelect&&!this.alwaysOpen&&(null==(t=d(this,Ft))||t.openClose(),null==(s=d(this,Ft))||s.clearSearch()),null==(i=d(this,Ft))||i.focus(),m(this,Gs,Is).call(this)},_s=new WeakSet,xs=function(e,t){var s;null==(s=d(this,Ft))||s.focus(),this.updateListPosition(),m(this,Js,Xs).call(this,e,t)},Cs=new WeakSet,ys=function(e){this.selectedName!==e&&(this.selectedName=e,m(this,zs,js).call(this))},Ss=new WeakSet,Es=function(){var e;this.isListOpened=!0,d(this,Kt)&&d(this,Qt)&&(window.addEventListener("scroll",d(this,Kt),!0),window.addEventListener("resize",d(this,Qt))),d(this,Ut)&&this.srcElement&&(this.appendToBody?(document.body.appendChild(d(this,Ut).srcElement),null==(e=d(this,Yt))||e.observe(this.srcElement)):this.srcElement.appendChild(d(this,Ut).srcElement),this.updateListPosition(),m(this,Bs,Vs).call(this,!0),m(this,Ms,$s).call(this),m(this,qs,Rs).call(this))},Ls=new WeakSet,Ws=function(){var e;this.alwaysOpen||(this.isListOpened=!1,d(this,Kt)&&d(this,Qt)&&(window.removeEventListener("scroll",d(this,Kt),!0),window.removeEventListener("resize",d(this,Qt))),!d(this,Ut)||!this.srcElement)||!(this.appendToBody?document.body.contains(d(this,Ut).srcElement):this.srcElement.contains(d(this,Ut).srcElement))||(p(this,Jt,d(this,Ut).srcElement.scrollTop),this.appendToBody?(document.body.removeChild(d(this,Ut).srcElement),null==(e=d(this,Yt))||e.disconnect()):this.srcElement.removeChild(d(this,Ut).srcElement),m(this,Bs,Vs).call(this,!1),m(this,Ds,Us).call(this))},Ts=new WeakSet,Os=function(e,t){if(!d(this,Ut)||!d(this,Ft))return;const s=t?"treeselect-list--top-to-body":"treeselect-list--top",i=t?"treeselect-list--bottom-to-body":"treeselect-list--bottom";e?(d(this,Ut).srcElement.classList.add(s),d(this,Ut).srcElement.classList.remove(i),d(this,Ft).srcElement.classList.add("treeselect-input--top"),d(this,Ft).srcElement.classList.remove("treeselect-input--bottom")):(d(this,Ut).srcElement.classList.remove(s),d(this,Ut).srcElement.classList.add(i),d(this,Ft).srcElement.classList.remove("treeselect-input--top"),d(this,Ft).srcElement.classList.add("treeselect-input--bottom"))},Ns=new WeakSet,As=function(e){!d(this,Ft)||!d(this,Ut)||(e?(d(this,Ft).srcElement.classList.add("treeselect-input--focused"),d(this,Ut).srcElement.classList.add("treeselect-list--focused")):(d(this,Ft).srcElement.classList.remove("treeselect-input--focused"),d(this,Ut).srcElement.classList.remove("treeselect-list--focused")))},Bs=new WeakSet,Vs=function(e){var t,s,i,l;e?null==(t=d(this,Ft))||t.srcElement.classList.add("treeselect-input--opened"):null==(s=d(this,Ft))||s.srcElement.classList.remove("treeselect-input--opened"),this.staticList?null==(i=d(this,Ut))||i.srcElement.classList.add("treeselect-list--static"):null==(l=d(this,Ut))||l.srcElement.classList.remove("treeselect-list--static")},Ps=new WeakSet,Hs=function(e){!d(this,Kt)||!d(this,Qt)||!d(this,Zt)||!d(this,es)||((!this.alwaysOpen||e)&&(window.removeEventListener("scroll",d(this,Kt),!0),window.removeEventListener("resize",d(this,Qt))),document.removeEventListener("mousedown",d(this,Zt),!0),document.removeEventListener("focus",d(this,Zt),!0),window.removeEventListener("blur",d(this,es)))},Ms=new WeakSet,$s=function(){var e,t,s;const i=null==(e=d(this,Ut))?void 0:e.isLastFocusedElementExist();this.saveScrollPosition&&i?null==(t=d(this,Ut))||t.srcElement.scroll(0,d(this,Jt)):null==(s=d(this,Ut))||s.focusFirstListElement()},Gs=new WeakSet,Is=function(){var e;null==(e=this.srcElement)||e.dispatchEvent(new CustomEvent("input",{detail:this.value})),this.inputCallback&&this.inputCallback(this.value)},zs=new WeakSet,js=function(){var e;null==(e=this.srcElement)||e.dispatchEvent(new CustomEvent("name-change",{detail:this.selectedName})),this.nameChangeCallback&&this.nameChangeCallback(this.selectedName)},qs=new WeakSet,Rs=function(){var e;this.alwaysOpen||(null==(e=this.srcElement)||e.dispatchEvent(new CustomEvent("open",{detail:this.value})),this.openCallback&&this.openCallback(this.value))},Ds=new WeakSet,Us=function(){var e;this.alwaysOpen||(null==(e=this.srcElement)||e.dispatchEvent(new CustomEvent("close",{detail:this.value})),this.closeCallback&&this.closeCallback(this.value))},Fs=new WeakSet,Ys=function(e){var t;const s=(null==e?void 0:e.trim())??"";null==(t=this.srcElement)||t.dispatchEvent(new CustomEvent("search",{detail:s})),this.searchCallback&&this.searchCallback(s)},Js=new WeakSet,Xs=function(e,t){var s;null==(s=this.srcElement)||s.dispatchEvent(new CustomEvent("open-close-group",{detail:{groupId:e,isClosed:t}})),this.openCloseGroupCallback&&this.openCloseGroupCallback(e,t)};const Qs={data:()=>({treeselect:void 0,values:void 0}),mounted(){this.values=this.modelValue,this.treeselect=new Ks({parentHtmlContainer:this.$refs.treeselect,options:this.items,value:this.modelValue,appendToBody:!0,inputCallback:e=>{this.$emit("update:modelValue",e),this.values=[...e]}})},props:{items:{type:Array,required:!0},modelValue:{type:Array,default:()=>[]},name:{type:String,required:!1}},watch:{items(){this.treeselect.options=this.items,this.treeselect.mount()},modelValue(){this.values=[...this.modelValue],this.treeselect.updateValue(this.modelValue)}}};s(727);const Zs=t(Qs,o,[],!1,null,null,null).exports})();var l=exports;for(var n in i)l[n]=i[n];i.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})})();