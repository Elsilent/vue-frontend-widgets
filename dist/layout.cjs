"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),B=require("./Icon-a896463e.cjs"),I=require("./Logo-8bf77bab.cjs"),b=require("./PopoverMenu-e979b6ef.cjs"),k=require("./_plugin-vue_export-helper-f246444f.cjs"),S=require("./Input-df2d695a.cjs"),$=require("./Form-64f75be2.cjs"),h=require("./Info-ad8c31fe.cjs"),E=require("./marker.cjs"),T=require("./BrandText-9e6e16c6.cjs"),L=require("./utils/error.cjs"),g=require("./match-5382edcf.cjs"),x=require("./undefined_theme-019f6866.cjs");require("./Popover-eb6b32e2.cjs");const q=e.defineComponent({__name:"AccountMenu",props:{avatar:{},menuItems:{}},setup(s){const d=s,{avatar:n,menuItems:l}=e.toRefs(d),m=e.computed(()=>n&&n.value&&"icon"in n.value?n.value.icon:void 0),a=e.computed(()=>n&&n.value&&"iconBackend"in n.value?n.value.iconBackend:void 0),c=e.computed(()=>n&&n.value&&"label"in n.value?n.value.label:void 0),u=e.computed(()=>n&&n.value&&"source"in n.value?n.value.source:void 0),i=e.ref(),r=e.ref(!1),p=t=>{var v;t&&((v=i.value)!=null&&v.$el.contains(t.target))||(r.value=!1,window.removeEventListener("mousedown",p))},f=()=>{r.value=!0,window.addEventListener("mousedown",p)},o=t=>{l.value[t].handler(),p()};return e.onUnmounted(()=>{window.removeEventListener("mousedown",p)}),(t,v)=>(e.openBlock(),e.createBlock(B.Align,{class:"account-menu",ref_key:"accountMenu",ref:i},{default:e.withCtx(()=>[e.createVNode(I.Avatar,{onClick:v[0]||(v[0]=()=>f()),icon:m.value,iconBackend:a.value,label:c.value,source:u.value},null,8,["icon","iconBackend","label","source"]),e.createVNode(b.PopoverMenu,{class:"account-menu",onSelect:v[1]||(v[1]=w=>o(w)),items:e.unref(l),visible:r.value},null,8,["items","visible"])]),_:1},512))}});const z=k._export_sfc(q,[["__scopeId","data-v-1e965d9d"]]),A=e.defineComponent({__name:"CurrencySelector",props:{currencies:{},modelValue:{}},emits:["update:modelValue"],setup(s,{emit:d}){const n=s,{currencies:l,modelValue:m}=e.toRefs(n),a=e.ref(),c=e.ref(!1),u=e.computed(()=>l.value.reduce((o,t)=>(o[t.code]={label:t.label},o),{})??{}),i=e.computed(()=>l.value.find(({code:o})=>m.value===o)),r=o=>{var t;o&&((t=a.value)!=null&&t.$el.contains(o.target))||(console.log("hi"),c.value=!1,window.removeEventListener("mousedown",r))},p=()=>{c.value=!0,window.addEventListener("mousedown",r)},f=o=>{d("update:modelValue",o),r()};return e.onUnmounted(()=>{window.removeEventListener("mousedown",r)}),(o,t)=>(e.openBlock(),e.createBlock(B.Align,{class:"currency-selector",ref_key:"currencySelector",ref:a,horizontal:"center"},{default:e.withCtx(()=>{var v;return[e.createVNode(b.Button,{class:"currency-button",onClick:t[0]||(t[0]=()=>p()),label:(v=i.value)==null?void 0:v.symbol,mood:"neutral",outline:"",size:"large-3",shape:"round"},null,8,["label"]),e.createVNode(b.PopoverMenu,{class:"currency-menu no-spacing",onSelect:t[1]||(t[1]=w=>f(w)),items:u.value,visible:c.value},null,8,["items","visible"])]}),_:1},512))}});const F=k._export_sfc(A,[["__scopeId","data-v-6ae04671"]]),U=e.defineComponent({__name:"Form",props:{fields:{},values:{}},setup(s){const d=s,{fields:n}=e.toRefs(d);return(l,m)=>(e.openBlock(),e.createBlock($.GenericForm,{fields:e.unref(n),values:l.values},{"field(dropdown)":e.withCtx(({code:a,label:c,options:u,value:i})=>[c?(e.openBlock(),e.createBlock(h.Info,{key:0,class:"label"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c),1)]),_:2},1024)):e.createCommentVNode("",!0),e.createVNode(S.Dropdown,{"onUpdate:modelValue":r=>l.$emit(`update:${a}`,r),items:u.items,modelValue:i},null,8,["onUpdate:modelValue","items","modelValue"])]),"field(info)":e.withCtx(({label:a})=>[e.createVNode(h.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a),1)]),_:2},1024)]),"field(input)":e.withCtx(({code:a,label:c,value:u})=>[c?(e.openBlock(),e.createBlock(h.Info,{key:0,class:"label"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c),1)]),_:2},1024)):e.createCommentVNode("",!0),e.createVNode(S.Input,{"onUpdate:modelValue":i=>l.$emit(`update:${a}`,i),modelValue:u},null,8,["onUpdate:modelValue","modelValue"])]),_:1},8,["fields","values"]))}});const R=k._export_sfc(U,[["__scopeId","data-v-39d44946"]]),D=e.defineComponent({__name:"Header",setup(s){const d=()=>{document.documentElement.scrollTo({left:0,top:0})};return(n,l)=>(e.openBlock(),e.createBlock(B.Align,{class:"header",vertical:"center"},{default:e.withCtx(()=>[e.createElementVNode("div",{class:"title",onClick:l[0]||(l[0]=()=>d())},[e.createVNode(h.Info,{size:"large-2"},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"title",{},void 0,!0)]),_:3})]),e.createVNode(E.Separator),e.renderSlot(n.$slots,"end",{},void 0,!0)]),_:3}))}});const H=k._export_sfc(D,[["__scopeId","data-v-71be6924"]]),P=e.defineComponent({__name:"LocaleSelector",props:{locales:{},modelValue:{}},emits:["update:modelValue"],setup(s,{emit:d}){const n=s,{locales:l,modelValue:m}=e.toRefs(n),a=e.ref(),c=e.ref(!1),u=e.computed(()=>l.value.reduce((o,t)=>(o[t.code]={icon:t.icon,iconBackend:"flag-icons"},o),{})),i=e.computed(()=>l.value.find(o=>o.code===m.value).icon),r=o=>{var t;o&&((t=a.value)!=null&&t.$el.contains(o.target))||(c.value=!1,window.removeEventListener("mousedown",r))},p=()=>{c.value=!0,window.addEventListener("mousedown",r)},f=o=>{d("update:modelValue",o),r()};return e.onUnmounted(()=>{window.removeEventListener("mousedown",r)}),(o,t)=>(e.openBlock(),e.createBlock(B.Align,{class:"locale-selector",ref_key:"localeSelector",ref:a,horizontal:"center"},{default:e.withCtx(()=>[e.createVNode(b.Button,{class:"locale-button",onClick:t[0]||(t[0]=()=>p()),icon:i.value,iconBackend:"flag-icons-square",mood:"neutral",outline:"",size:"large-3",shape:"round"},null,8,["icon"]),e.createVNode(b.PopoverMenu,{class:"locale-menu no-spacing",onSelect:t[1]||(t[1]=v=>f(v)),items:u.value,visible:c.value},null,8,["items","visible"])]),_:1},512))}});const j=k._export_sfc(P,[["__scopeId","data-v-bee84f7a"]]);class C extends L.BaseError{getMessage(d){return`Invalid menu item level ${d}`}}const O=e.defineComponent({__name:"MenuItem",props:{active:{type:Boolean,default:!1},icon:{},iconBackend:{},label:{},level:{default:1},withSublevel:{type:Boolean,default:!1}},setup(s){const d=s,{active:n,icon:l,iconBackend:m,label:a,level:c,withSublevel:u}=e.toRefs(d),i=e.computed(()=>g.match(c.value).when(1,()=>"large-3").whenAny([2,3],()=>"large").or(o=>{throw new C(o)}).done),r=e.computed(()=>n.value?"elevated-2":"elevated"),p=e.computed(()=>g.match(c.value).when(1,()=>"large").whenAny([2,3],()=>"normal").or(o=>{throw new C(o)}).done),f=e.computed(()=>({active:n.value,[`level-${c.value}`]:!0,"with-sublevel":u.value}));return(o,t)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["menu-item",f.value])},[e.unref(l)?(e.openBlock(),e.createBlock(B.Icon,{key:0,class:"item-icon",backend:e.unref(m),elevation:r.value,size:i.value,value:e.unref(l)},null,8,["backend","elevation","size","value"])):e.createCommentVNode("",!0),e.createVNode(h.Info,{elevation:r.value,size:p.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(a)),1)]),_:1},8,["elevation","size"]),e.unref(u)?(e.openBlock(),e.createBlock(B.Icon,{key:1,class:"chevron",elevation:r.value,size:"large-3",value:"chevron-right"},null,8,["elevation"])):e.createCommentVNode("",!0)],2))}});const y=k._export_sfc(O,[["__scopeId","data-v-fb1cb1dd"]]),G=e.defineComponent({__name:"MenuSubsection",props:{icon:{},iconBackend:{},items:{},label:{},level:{default:0},prefix:{},router:{},translator:{}},setup(s){const d=s,{icon:n,iconBackend:l,items:m,label:a,level:c,prefix:u,router:i,translator:r}=e.toRefs(d),p=e.computed(()=>i.value.currentRoute.value.meta.menuItem),f=e.computed(()=>Object.entries(m.value).some(([v,w])=>"route"in w&&`${u.value}${v}`===p.value)),o=e.computed(()=>c.value+1),t=e.computed(()=>c.value+1);return(v,w)=>{const N=e.resolveComponent("MenuSubsection",!0);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.unref(a)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(c)===0?(e.openBlock(),e.createBlock(h.Info,{key:0,class:"section",elevation:"elevated"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)(e.unref(a)).toUpperCase()),1)]),_:1})):(e.openBlock(),e.createBlock(y,{key:1,active:f.value,icon:e.unref(n),iconBackend:e.unref(l),label:e.unref(a),level:e.unref(c),withSublevel:""},null,8,["active","icon","iconBackend","label","level"]))],64)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),(_,V)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,["items"in _?(e.openBlock(),e.createBlock(N,{key:0,icon:_.icon,iconBackend:_.iconBackend,items:_.items,level:t.value,label:_.label?e.unref(r)(_.label):"",prefix:`${e.unref(u)}${V}.`,router:e.unref(i),translator:e.unref(r)},null,8,["icon","iconBackend","items","level","label","prefix","router","translator"])):(e.openBlock(),e.createBlock(y,{key:1,onClick:()=>e.unref(i).push(_.route),active:`${e.unref(u)}${V}`===p.value,icon:_.icon,iconBackend:_.iconBackend,label:e.unref(r)(_.label),level:o.value},null,8,["onClick","active","icon","iconBackend","label","level"]))],64))),256))],64)}}});const M=k._export_sfc(G,[["__scopeId","data-v-284e669f"]]),J=s=>(e.pushScopeId("data-v-00bfa0a4"),s=s(),e.popScopeId(),s),K={class:"side-menu"},Q={class:"items"},W=J(()=>e.createElementVNode("div",{class:"pixel"},"Â ",-1)),X=e.defineComponent({__name:"SideMenu",props:{brandText:{},menu:{},router:{},translator:{type:Function}},setup(s){const d=s,{router:n}=e.toRefs(d);return(l,m)=>(e.openBlock(),e.createElementBlock("div",K,[e.createElementVNode("div",{class:"brand",onClick:m[0]||(m[0]=a=>e.unref(n).push({name:"default"}))},[e.createVNode(I.Logo),e.createVNode(T.BrandText,{elevation:"elevated-3",size:"large-4"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.brandText),1)]),_:1})]),e.createElementVNode("div",Q,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.menu,(a,c)=>(e.openBlock(),e.createBlock(M,{icon:a.icon,iconBackend:a.iconBackend,items:a.items,label:a.label??"",prefix:`${c}.`,router:e.unref(n),translator:l.translator},null,8,["icon","iconBackend","items","label","prefix","router","translator"]))),256)),W])]))}});const Y=k._export_sfc(X,[["__scopeId","data-v-00bfa0a4"]]),Z=e.defineComponent({__name:"ThemeToggle",props:{modelValue:{}},emits:["update:modelValue"],setup(s,{emit:d}){const n=s,{modelValue:l}=e.toRefs(n),m=e.computed(()=>g.match(l.value).when("dark",()=>"moon").when("light",()=>"sun").or(u=>{throw new x.UndefinedThemeError(u)}).done),a=e.computed(()=>g.match(l.value).when("dark",()=>"accent").when("light",()=>"important").or(u=>{throw new x.UndefinedThemeError(u)}).done),c=()=>{const u=g.match(l.value).when("dark",()=>"light").when("light",()=>"dark").or(i=>{throw new x.UndefinedThemeError(i)}).done;d("update:modelValue",u)};return(u,i)=>(e.openBlock(),e.createBlock(B.Align,{class:"theme-toggle"},{default:e.withCtx(()=>[e.createVNode(b.Button,{onClick:i[0]||(i[0]=()=>c()),icon:m.value,mood:a.value,outline:"",size:"large-2",shape:"round"},null,8,["icon","mood"])]),_:1}))}});const ee=k._export_sfc(Z,[["__scopeId","data-v-2d6e4878"]]);exports.AccountMenu=z;exports.CurrencySelector=F;exports.Form=R;exports.Header=H;exports.LocaleSelector=j;exports.SideMenu=Y;exports.SideMenuItem=y;exports.SideMenuSubsection=M;exports.ThemeToggle=ee;
