"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),se=require("numeral"),Ae=require("./LineBarChart-02ce0532.cjs"),at=require("./Popover-5322298f.cjs"),ae=require("./_plugin-vue_export-helper-f246444f.cjs"),R=require("./Icon-80a3c9ab.cjs"),T=require("./Info-ad8c31fe.cjs"),pe=require("./Input-05b931ff.cjs"),Fn=require("./marker.cjs"),Oe=require("./Table-31e6d530.cjs"),_e=require("./Header-33a8a4f8.cjs");require("./utils/error.cjs");require("./match-5382edcf.cjs");require("./datetime-a6d0f4bc.cjs");function It(t,n){return function(){return t.apply(n,arguments)}}const{toString:Ln}=Object.prototype,{getPrototypeOf:lt}=Object,Ie=(t=>n=>{const r=Ln.call(n);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),W=t=>(t=t.toLowerCase(),n=>Ie(n)===t),Fe=t=>n=>typeof n===t,{isArray:ve}=Array,xe=Fe("undefined");function zn(t){return t!==null&&!xe(t)&&t.constructor!==null&&!xe(t.constructor)&&H(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ft=W("ArrayBuffer");function jn(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Ft(t.buffer),n}const Un=Fe("string"),H=Fe("function"),Lt=Fe("number"),Le=t=>t!==null&&typeof t=="object",Mn=t=>t===!0||t===!1,Te=t=>{if(Ie(t)!=="object")return!1;const n=lt(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$n=W("Date"),Hn=W("File"),qn=W("Blob"),Jn=W("FileList"),Wn=t=>Le(t)&&H(t.pipe),Gn=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||H(t.append)&&((n=Ie(t))==="formdata"||n==="object"&&H(t.toString)&&t.toString()==="[object FormData]"))},Xn=W("URLSearchParams"),Yn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Se(t,n,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),ve(t))for(o=0,s=t.length;o<s;o++)n.call(null,t[o],o,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let f;for(o=0;o<l;o++)f=a[o],n.call(null,t[f],f,t)}}function zt(t,n){n=n.toLowerCase();const r=Object.keys(t);let o=r.length,s;for(;o-- >0;)if(s=r[o],n===s.toLowerCase())return s;return null}const jt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ut=t=>!xe(t)&&t!==jt;function tt(){const{caseless:t}=Ut(this)&&this||{},n={},r=(o,s)=>{const a=t&&zt(n,s)||s;Te(n[a])&&Te(o)?n[a]=tt(n[a],o):Te(o)?n[a]=tt({},o):ve(o)?n[a]=o.slice():n[a]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Se(arguments[o],r);return n}const Qn=(t,n,r,{allOwnKeys:o}={})=>(Se(n,(s,a)=>{r&&H(s)?t[a]=It(s,r):t[a]=s},{allOwnKeys:o}),t),Zn=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kn=(t,n,r,o)=>{t.prototype=Object.create(n.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),r&&Object.assign(t.prototype,r)},er=(t,n,r,o)=>{let s,a,l;const f={};if(n=n||{},t==null)return n;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!o||o(l,t,n))&&!f[l]&&(n[l]=t[l],f[l]=!0);t=r!==!1&&lt(t)}while(t&&(!r||r(t,n))&&t!==Object.prototype);return n},tr=(t,n,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=n.length;const o=t.indexOf(n,r);return o!==-1&&o===r},nr=t=>{if(!t)return null;if(ve(t))return t;let n=t.length;if(!Lt(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=t[n];return r},rr=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&lt(Uint8Array)),or=(t,n)=>{const o=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=o.next())&&!s.done;){const a=s.value;n.call(t,a[0],a[1])}},sr=(t,n)=>{let r;const o=[];for(;(r=t.exec(n))!==null;)o.push(r);return o},ar=W("HTMLFormElement"),lr=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,s){return o.toUpperCase()+s}),St=(({hasOwnProperty:t})=>(n,r)=>t.call(n,r))(Object.prototype),ir=W("RegExp"),Mt=(t,n)=>{const r=Object.getOwnPropertyDescriptors(t),o={};Se(r,(s,a)=>{let l;(l=n(s,a,t))!==!1&&(o[a]=l||s)}),Object.defineProperties(t,o)},ur=t=>{Mt(t,(n,r)=>{if(H(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(H(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},cr=(t,n)=>{const r={},o=s=>{s.forEach(a=>{r[a]=!0})};return ve(t)?o(t):o(String(t).split(n)),r},dr=()=>{},fr=(t,n)=>(t=+t,Number.isFinite(t)?t:n),Ye="abcdefghijklmnopqrstuvwxyz",kt="0123456789",$t={DIGIT:kt,ALPHA:Ye,ALPHA_DIGIT:Ye+Ye.toUpperCase()+kt},pr=(t=16,n=$t.ALPHA_DIGIT)=>{let r="";const{length:o}=n;for(;t--;)r+=n[Math.random()*o|0];return r};function mr(t){return!!(t&&H(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const vr=t=>{const n=new Array(10),r=(o,s)=>{if(Le(o)){if(n.indexOf(o)>=0)return;if(!("toJSON"in o)){n[s]=o;const a=ve(o)?[]:{};return Se(o,(l,f)=>{const g=r(l,s+1);!xe(g)&&(a[f]=g)}),n[s]=void 0,a}}return o};return r(t,0)},hr=W("AsyncFunction"),gr=t=>t&&(Le(t)||H(t))&&H(t.then)&&H(t.catch),p={isArray:ve,isArrayBuffer:Ft,isBuffer:zn,isFormData:Gn,isArrayBufferView:jn,isString:Un,isNumber:Lt,isBoolean:Mn,isObject:Le,isPlainObject:Te,isUndefined:xe,isDate:$n,isFile:Hn,isBlob:qn,isRegExp:ir,isFunction:H,isStream:Wn,isURLSearchParams:Xn,isTypedArray:rr,isFileList:Jn,forEach:Se,merge:tt,extend:Qn,trim:Yn,stripBOM:Zn,inherits:Kn,toFlatObject:er,kindOf:Ie,kindOfTest:W,endsWith:tr,toArray:nr,forEachEntry:or,matchAll:sr,isHTMLForm:ar,hasOwnProperty:St,hasOwnProp:St,reduceDescriptors:Mt,freezeMethods:ur,toObjectSet:cr,toCamelCase:lr,noop:dr,toFiniteNumber:fr,findKey:zt,global:jt,isContextDefined:Ut,ALPHABET:$t,generateString:pr,isSpecCompliantForm:mr,toJSONObject:vr,isAsyncFn:hr,isThenable:gr};function B(t,n,r,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),o&&(this.request=o),s&&(this.response=s)}p.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ht=B.prototype,qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qt[t]={value:t}});Object.defineProperties(B,qt);Object.defineProperty(Ht,"isAxiosError",{value:!0});B.from=(t,n,r,o,s,a)=>{const l=Object.create(Ht);return p.toFlatObject(t,l,function(g){return g!==Error.prototype},f=>f!=="isAxiosError"),B.call(l,t.message,n,r,o,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const br=null;function nt(t){return p.isPlainObject(t)||p.isArray(t)}function Jt(t){return p.endsWith(t,"[]")?t.slice(0,-2):t}function Et(t,n,r){return t?t.concat(n).map(function(s,a){return s=Jt(s),!r&&a?"["+s+"]":s}).join(r?".":""):n}function wr(t){return p.isArray(t)&&!t.some(nt)}const yr=p.toFlatObject(p,{},null,function(n){return/^is[A-Z]/.test(n)});function ze(t,n,r){if(!p.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,r=p.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,w){return!p.isUndefined(w[h])});const o=r.metaTokens,s=r.visitor||d,a=r.dots,l=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(n);if(!p.isFunction(s))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(p.isDate(v))return v.toISOString();if(!g&&p.isBlob(v))throw new B("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(v)||p.isTypedArray(v)?g&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,h,w){let x=v;if(v&&!w&&typeof v=="object"){if(p.endsWith(h,"{}"))h=o?h:h.slice(0,-2),v=JSON.stringify(v);else if(p.isArray(v)&&wr(v)||(p.isFileList(v)||p.endsWith(h,"[]"))&&(x=p.toArray(v)))return h=Jt(h),x.forEach(function(A,j){!(p.isUndefined(A)||A===null)&&n.append(l===!0?Et([h],j,a):l===null?h:h+"[]",m(A))}),!1}return nt(v)?!0:(n.append(Et(w,h,a),m(v)),!1)}const y=[],k=Object.assign(yr,{defaultVisitor:d,convertValue:m,isVisitable:nt});function C(v,h){if(!p.isUndefined(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+h.join("."));y.push(v),p.forEach(v,function(x,O){(!(p.isUndefined(x)||x===null)&&s.call(n,x,p.isString(O)?O.trim():O,h,k))===!0&&C(x,h?h.concat(O):[O])}),y.pop()}}if(!p.isObject(t))throw new TypeError("data must be an object");return C(t),n}function Nt(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function it(t,n){this._pairs=[],t&&ze(t,this,n)}const Wt=it.prototype;Wt.append=function(n,r){this._pairs.push([n,r])};Wt.toString=function(n){const r=n?function(o){return n.call(this,o,Nt)}:Nt;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Cr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gt(t,n,r){if(!n)return t;const o=r&&r.encode||Cr,s=r&&r.serialize;let a;if(s?a=s(n,r):a=p.isURLSearchParams(n)?n.toString():new it(n,r).toString(o),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class _r{constructor(){this.handlers=[]}use(n,r,o){return this.handlers.push({fulfilled:n,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){p.forEach(this.handlers,function(o){o!==null&&n(o)})}}const Bt=_r,Xt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xr=typeof URLSearchParams<"u"?URLSearchParams:it,Sr=typeof FormData<"u"?FormData:null,kr=typeof Blob<"u"?Blob:null,Er={isBrowser:!0,classes:{URLSearchParams:xr,FormData:Sr,Blob:kr},protocols:["http","https","file","blob","url","data"]},Yt=typeof window<"u"&&typeof document<"u",Nr=(t=>Yt&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Br=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Or=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yt,hasStandardBrowserEnv:Nr,hasStandardBrowserWebWorkerEnv:Br},Symbol.toStringTag,{value:"Module"})),J={...Or,...Er};function Tr(t,n){return ze(t,new J.classes.URLSearchParams,Object.assign({visitor:function(r,o,s,a){return J.isNode&&p.isBuffer(r)?(this.append(o,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function Rr(t){return p.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Vr(t){const n={},r=Object.keys(t);let o;const s=r.length;let a;for(o=0;o<s;o++)a=r[o],n[a]=t[a];return n}function Qt(t){function n(r,o,s,a){let l=r[a++];const f=Number.isFinite(+l),g=a>=r.length;return l=!l&&p.isArray(s)?s.length:l,g?(p.hasOwnProp(s,l)?s[l]=[s[l],o]:s[l]=o,!f):((!s[l]||!p.isObject(s[l]))&&(s[l]=[]),n(r,o,s[l],a)&&p.isArray(s[l])&&(s[l]=Vr(s[l])),!f)}if(p.isFormData(t)&&p.isFunction(t.entries)){const r={};return p.forEachEntry(t,(o,s)=>{n(Rr(o),s,r,0)}),r}return null}function Ar(t,n,r){if(p.isString(t))try{return(n||JSON.parse)(t),p.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const ut={transitional:Xt,adapter:["xhr","http"],transformRequest:[function(n,r){const o=r.getContentType()||"",s=o.indexOf("application/json")>-1,a=p.isObject(n);if(a&&p.isHTMLForm(n)&&(n=new FormData(n)),p.isFormData(n))return s&&s?JSON.stringify(Qt(n)):n;if(p.isArrayBuffer(n)||p.isBuffer(n)||p.isStream(n)||p.isFile(n)||p.isBlob(n))return n;if(p.isArrayBufferView(n))return n.buffer;if(p.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let f;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Tr(n,this.formSerializer).toString();if((f=p.isFileList(n))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return ze(f?{"files[]":n}:n,g&&new g,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Ar(n)):n}],transformResponse:[function(n){const r=this.transitional||ut.transitional,o=r&&r.forcedJSONParsing,s=this.responseType==="json";if(n&&p.isString(n)&&(o&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(n)}catch(f){if(l)throw f.name==="SyntaxError"?B.from(f,B.ERR_BAD_RESPONSE,this,null,this.response):f}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:J.classes.FormData,Blob:J.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],t=>{ut.headers[t]={}});const ct=ut,Dr=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pr=t=>{const n={};let r,o,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),o=l.substring(s+1).trim(),!(!r||n[r]&&Dr[r])&&(r==="set-cookie"?n[r]?n[r].push(o):n[r]=[o]:n[r]=n[r]?n[r]+", "+o:o)}),n},Ot=Symbol("internals");function Ce(t){return t&&String(t).trim().toLowerCase()}function Re(t){return t===!1||t==null?t:p.isArray(t)?t.map(Re):String(t)}function Ir(t){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)n[o[1]]=o[2];return n}const Fr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qe(t,n,r,o,s){if(p.isFunction(o))return o.call(this,n,r);if(s&&(n=r),!!p.isString(n)){if(p.isString(o))return n.indexOf(o)!==-1;if(p.isRegExp(o))return o.test(n)}}function Lr(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,o)=>r.toUpperCase()+o)}function zr(t,n){const r=p.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(s,a,l){return this[o].call(this,n,s,a,l)},configurable:!0})})}class je{constructor(n){n&&this.set(n)}set(n,r,o){const s=this;function a(f,g,m){const d=Ce(g);if(!d)throw new Error("header name must be a non-empty string");const y=p.findKey(s,d);(!y||s[y]===void 0||m===!0||m===void 0&&s[y]!==!1)&&(s[y||g]=Re(f))}const l=(f,g)=>p.forEach(f,(m,d)=>a(m,d,g));return p.isPlainObject(n)||n instanceof this.constructor?l(n,r):p.isString(n)&&(n=n.trim())&&!Fr(n)?l(Pr(n),r):n!=null&&a(r,n,o),this}get(n,r){if(n=Ce(n),n){const o=p.findKey(this,n);if(o){const s=this[o];if(!r)return s;if(r===!0)return Ir(s);if(p.isFunction(r))return r.call(this,s,o);if(p.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Ce(n),n){const o=p.findKey(this,n);return!!(o&&this[o]!==void 0&&(!r||Qe(this,this[o],o,r)))}return!1}delete(n,r){const o=this;let s=!1;function a(l){if(l=Ce(l),l){const f=p.findKey(o,l);f&&(!r||Qe(o,o[f],f,r))&&(delete o[f],s=!0)}}return p.isArray(n)?n.forEach(a):a(n),s}clear(n){const r=Object.keys(this);let o=r.length,s=!1;for(;o--;){const a=r[o];(!n||Qe(this,this[a],a,n,!0))&&(delete this[a],s=!0)}return s}normalize(n){const r=this,o={};return p.forEach(this,(s,a)=>{const l=p.findKey(o,a);if(l){r[l]=Re(s),delete r[a];return}const f=n?Lr(a):String(a).trim();f!==a&&delete r[a],r[f]=Re(s),o[f]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return p.forEach(this,(o,s)=>{o!=null&&o!==!1&&(r[s]=n&&p.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const o=new this(n);return r.forEach(s=>o.set(s)),o}static accessor(n){const o=(this[Ot]=this[Ot]={accessors:{}}).accessors,s=this.prototype;function a(l){const f=Ce(l);o[f]||(zr(s,l),o[f]=!0)}return p.isArray(n)?n.forEach(a):a(n),this}}je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(je.prototype,({value:t},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(o){this[r]=o}}});p.freezeMethods(je);const K=je;function Ze(t,n){const r=this||ct,o=n||r,s=K.from(o.headers);let a=o.data;return p.forEach(t,function(f){a=f.call(r,a,s.normalize(),n?n.status:void 0)}),s.normalize(),a}function Zt(t){return!!(t&&t.__CANCEL__)}function ke(t,n,r){B.call(this,t??"canceled",B.ERR_CANCELED,n,r),this.name="CanceledError"}p.inherits(ke,B,{__CANCEL__:!0});function jr(t,n,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):n(new B("Request failed with status code "+r.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Ur=J.hasStandardBrowserEnv?function(){return{write:function(r,o,s,a,l,f){const g=[];g.push(r+"="+encodeURIComponent(o)),p.isNumber(s)&&g.push("expires="+new Date(s).toGMTString()),p.isString(a)&&g.push("path="+a),p.isString(l)&&g.push("domain="+l),f===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Mr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $r(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function Kt(t,n){return t&&!Mr(n)?$r(t,n):n}const Hr=J.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function s(a){let l=a;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=s(window.location.href),function(l){const f=p.isString(l)?s(l):l;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}();function qr(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Jr(t,n){t=t||10;const r=new Array(t),o=new Array(t);let s=0,a=0,l;return n=n!==void 0?n:1e3,function(g){const m=Date.now(),d=o[a];l||(l=m),r[s]=g,o[s]=m;let y=a,k=0;for(;y!==s;)k+=r[y++],y=y%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),m-l<n)return;const C=d&&m-d;return C?Math.round(k*1e3/C):void 0}}function Tt(t,n){let r=0;const o=Jr(50,250);return s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,f=a-r,g=o(f),m=a<=l;r=a;const d={loaded:a,total:l,progress:l?a/l:void 0,bytes:f,rate:g||void 0,estimated:g&&l&&m?(l-a)/g:void 0,event:s};d[n?"download":"upload"]=!0,t(d)}}const Wr=typeof XMLHttpRequest<"u",Gr=Wr&&function(t){return new Promise(function(r,o){let s=t.data;const a=K.from(t.headers).normalize(),l=t.responseType;let f;function g(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}let m;if(p.isFormData(s)){if(J.hasStandardBrowserEnv||J.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((m=a.getContentType())!==!1){const[v,...h]=m?m.split(";").map(w=>w.trim()).filter(Boolean):[];a.setContentType([v||"multipart/form-data",...h].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(v+":"+h))}const y=Kt(t.baseURL,t.url);d.open(t.method.toUpperCase(),Gt(y,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function k(){if(!d)return;const v=K.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:v,config:t,request:d};jr(function(O){r(O),g()},function(O){o(O),g()},w),d=null}if("onloadend"in d?d.onloadend=k:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(k)},d.onabort=function(){d&&(o(new B("Request aborted",B.ECONNABORTED,t,d)),d=null)},d.onerror=function(){o(new B("Network Error",B.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let h=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||Xt;t.timeoutErrorMessage&&(h=t.timeoutErrorMessage),o(new B(h,w.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,d)),d=null},J.hasStandardBrowserEnv){const v=Hr(y)&&t.xsrfCookieName&&Ur.read(t.xsrfCookieName);v&&a.set(t.xsrfHeaderName,v)}s===void 0&&a.setContentType(null),"setRequestHeader"in d&&p.forEach(a.toJSON(),function(h,w){d.setRequestHeader(w,h)}),p.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),l&&l!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",Tt(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Tt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=v=>{d&&(o(!v||v.type?new ke(null,t,d):v),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const C=qr(y);if(C&&J.protocols.indexOf(C)===-1){o(new B("Unsupported protocol "+C+":",B.ERR_BAD_REQUEST,t));return}d.send(s||null)})},rt={http:br,xhr:Gr};p.forEach(rt,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Rt=t=>`- ${t}`,Xr=t=>p.isFunction(t)||t===null||t===!1,en={getAdapter:t=>{t=p.isArray(t)?t:[t];const{length:n}=t;let r,o;const s={};for(let a=0;a<n;a++){r=t[a];let l;if(o=r,!Xr(r)&&(o=rt[(l=String(r)).toLowerCase()],o===void 0))throw new B(`Unknown adapter '${l}'`);if(o)break;s[l||"#"+a]=o}if(!o){const a=Object.entries(s).map(([f,g])=>`adapter ${f} `+(g===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Rt).join(`
`):" "+Rt(a[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:rt};function Ke(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ke(null,t)}function Vt(t){return Ke(t),t.headers=K.from(t.headers),t.data=Ze.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),en.getAdapter(t.adapter||ct.adapter)(t).then(function(o){return Ke(t),o.data=Ze.call(t,t.transformResponse,o),o.headers=K.from(o.headers),o},function(o){return Zt(o)||(Ke(t),o&&o.response&&(o.response.data=Ze.call(t,t.transformResponse,o.response),o.response.headers=K.from(o.response.headers))),Promise.reject(o)})}const At=t=>t instanceof K?t.toJSON():t;function me(t,n){n=n||{};const r={};function o(m,d,y){return p.isPlainObject(m)&&p.isPlainObject(d)?p.merge.call({caseless:y},m,d):p.isPlainObject(d)?p.merge({},d):p.isArray(d)?d.slice():d}function s(m,d,y){if(p.isUndefined(d)){if(!p.isUndefined(m))return o(void 0,m,y)}else return o(m,d,y)}function a(m,d){if(!p.isUndefined(d))return o(void 0,d)}function l(m,d){if(p.isUndefined(d)){if(!p.isUndefined(m))return o(void 0,m)}else return o(void 0,d)}function f(m,d,y){if(y in n)return o(m,d);if(y in t)return o(void 0,m)}const g={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(m,d)=>s(At(m),At(d),!0)};return p.forEach(Object.keys(Object.assign({},t,n)),function(d){const y=g[d]||s,k=y(t[d],n[d],d);p.isUndefined(k)&&y!==f||(r[d]=k)}),r}const tn="1.6.1",dt={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{dt[t]=function(o){return typeof o===t||"a"+(n<1?"n ":" ")+t}});const Dt={};dt.transitional=function(n,r,o){function s(a,l){return"[Axios v"+tn+"] Transitional option '"+a+"'"+l+(o?". "+o:"")}return(a,l,f)=>{if(n===!1)throw new B(s(l," has been removed"+(r?" in "+r:"")),B.ERR_DEPRECATED);return r&&!Dt[l]&&(Dt[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(a,l,f):!0}};function Yr(t,n,r){if(typeof t!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const a=o[s],l=n[a];if(l){const f=t[a],g=f===void 0||l(f,a,t);if(g!==!0)throw new B("option "+a+" must be "+g,B.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new B("Unknown option "+a,B.ERR_BAD_OPTION)}}const ot={assertOptions:Yr,validators:dt},oe=ot.validators;class De{constructor(n){this.defaults=n,this.interceptors={request:new Bt,response:new Bt}}request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=me(this.defaults,r);const{transitional:o,paramsSerializer:s,headers:a}=r;o!==void 0&&ot.assertOptions(o,{silentJSONParsing:oe.transitional(oe.boolean),forcedJSONParsing:oe.transitional(oe.boolean),clarifyTimeoutError:oe.transitional(oe.boolean)},!1),s!=null&&(p.isFunction(s)?r.paramsSerializer={serialize:s}:ot.assertOptions(s,{encode:oe.function,serialize:oe.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&p.merge(a.common,a[r.method]);a&&p.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=K.concat(l,a);const f=[];let g=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(g=g&&h.synchronous,f.unshift(h.fulfilled,h.rejected))});const m=[];this.interceptors.response.forEach(function(h){m.push(h.fulfilled,h.rejected)});let d,y=0,k;if(!g){const v=[Vt.bind(this),void 0];for(v.unshift.apply(v,f),v.push.apply(v,m),k=v.length,d=Promise.resolve(r);y<k;)d=d.then(v[y++],v[y++]);return d}k=f.length;let C=r;for(y=0;y<k;){const v=f[y++],h=f[y++];try{C=v(C)}catch(w){h.call(this,w);break}}try{d=Vt.call(this,C)}catch(v){return Promise.reject(v)}for(y=0,k=m.length;y<k;)d=d.then(m[y++],m[y++]);return d}getUri(n){n=me(this.defaults,n);const r=Kt(n.baseURL,n.url);return Gt(r,n.params,n.paramsSerializer)}}p.forEach(["delete","get","head","options"],function(n){De.prototype[n]=function(r,o){return this.request(me(o||{},{method:n,url:r,data:(o||{}).data}))}});p.forEach(["post","put","patch"],function(n){function r(o){return function(a,l,f){return this.request(me(f||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}De.prototype[n]=r(),De.prototype[n+"Form"]=r(!0)});const Ve=De;class ft{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const o=this;this.promise.then(s=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](s);o._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(f=>{o.subscribe(f),a=f}).then(s);return l.cancel=function(){o.unsubscribe(a)},l},n(function(a,l,f){o.reason||(o.reason=new ke(a,l,f),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new ft(function(s){n=s}),cancel:n}}}const Qr=ft;function Zr(t){return function(r){return t.apply(null,r)}}function Kr(t){return p.isObject(t)&&t.isAxiosError===!0}const st={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(st).forEach(([t,n])=>{st[n]=t});const eo=st;function nn(t){const n=new Ve(t),r=It(Ve.prototype.request,n);return p.extend(r,Ve.prototype,n,{allOwnKeys:!0}),p.extend(r,n,null,{allOwnKeys:!0}),r.create=function(s){return nn(me(t,s))},r}const V=nn(ct);V.Axios=Ve;V.CanceledError=ke;V.CancelToken=Qr;V.isCancel=Zt;V.VERSION=tn;V.toFormData=ze;V.AxiosError=B;V.Cancel=V.CanceledError;V.all=function(n){return Promise.all(n)};V.spread=Zr;V.isAxiosError=Kr;V.mergeConfig=me;V.AxiosHeaders=K;V.formToJSON=t=>Qt(p.isHTMLForm(t)?new FormData(t):t);V.getAdapter=en.getAdapter;V.HttpStatusCode=eo;V.default=V;const Pe=V;se.localeData().delimiters.thousands=" ";se.localeData().delimiters.decimal=",";const to=t=>t===void 0?void 0:JSON.parse(JSON.stringify(t)),no=t=>{if(!Array.isArray(t)&&Object.getPrototypeOf(t)!==Object.prototype)throw new Error("Tried cloning instance of a class. Consider implementing clone method instead.");return to(t)},ro={key:0,class:"popover-header"},oo={key:1,class:"popover-body"},so={important:"",size:"small"},ao={size:"small"},lo=e.defineComponent({__name:"CellHint",props:{format:{},label:{},title:{},url:{}},setup(t){const n=t,{format:r,label:o,title:s,url:a}=e.toRefs(n),l=e.ref(),f=e.ref(!1),g=e.ref(),m=h=>{var w;h&&(!h.target||(w=g.value)!=null&&w.contains(h.target))||(f.value=!1,window.removeEventListener("mouseup",m))},d=h=>h.map(({name:w,valueFormatted:x})=>({label:w,value:x})),y=h=>h.map(({name:w,rate:x,value:O})=>({label:w,value:`${se(O).format("0,0")} (${se(x).format("0,0.00")}%)`})),k=h=>{switch(r.value){case"distribution":return d(h);case"rated_distribution":return y(h);default:throw new Error(`Unsupported format: ${r.value}`)}},C=async()=>{if(window.addEventListener("mouseup",m),l.value)return;const h=(await Pe(a.value)).data;l.value=k(h)},v=async()=>{f.value=!0,await C()};return(h,w)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["cell-hint",{visible:f.value}]),ref_key:"root",ref:g,onMouseover:w[1]||(w[1]=()=>v()),onMouseout:w[2]||(w[2]=()=>m())},[e.createElementVNode("span",{class:"label",onClick:w[0]||(w[0]=e.withModifiers(()=>v(),["stop"]))},e.toDisplayString(e.unref(o)),1),e.createVNode(at.Popover,{visible:f.value,parentClass:"cell",popoverClass:"cell-hint-popover"},{default:e.withCtx(()=>[e.unref(s)?(e.openBlock(),e.createElementBlock("div",ro,e.toDisplayString(e.unref(s)),1)):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createElementBlock("div",oo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,({label:x,value:O},A)=>(e.openBlock(),e.createElementBlock("div",{key:`line-${A}`},[e.createElementVNode("b",so,e.toDisplayString(x)+": ",1),e.createElementVNode("span",ao,e.toDisplayString(O),1)]))),128))])):(e.openBlock(),e.createBlock(Ae.Loader,{key:2}))]),_:1},8,["visible"])],34))}});const Pt=ae._export_sfc(lo,[["__scopeId","data-v-9c7f570a"]]),io=t=>(e.pushScopeId("data-v-7a1d1810"),t=t(),e.popScopeId(),t),uo={class:"column-hint"},co=io(()=>e.createElementVNode("i",{class:"la la-question-circle"},null,-1)),fo={class:"popover-header"},po={class:"popover-body"},mo=e.defineComponent({__name:"ColumnHint",props:{description:{},title:{},visible:{type:Boolean,default:!1}},setup(t){const n=t,{description:r,title:o,visible:s}=e.toRefs(n);return(a,l)=>(e.openBlock(),e.createElementBlock("div",uo,[co,e.createVNode(at.Popover,{visible:e.unref(s),parentClass:"cell",popoverClass:"column-hint-popover"},{default:e.withCtx(()=>[e.createElementVNode("div",fo,e.toDisplayString(e.unref(o)),1),e.createElementVNode("div",po,e.toDisplayString(e.unref(r)),1)]),_:1},8,["visible"])]))}});const vo=ae._export_sfc(mo,[["__scopeId","data-v-7a1d1810"]]),ho=e.defineComponent({__name:"BodyPopover",props:{autoPosition:{type:Boolean,default:!1},parentNode:{},popoverClass:{},visible:{type:Boolean}},setup(t){const n=t,{autoPosition:r,parentNode:o,popoverClass:s,visible:a}=e.toRefs(n),l=e.ref(),f=e.ref(),g=e.ref(),m=e.computed(()=>({[(s==null?void 0:s.value)??""]:!!s,visible:a.value})),d=e.computed(()=>{if(!(!r.value||l.value===void 0||g.value===void 0))return{left:`${l.value}px`,top:`${g.value}px`}}),y=()=>{if(!f.value||!(o!=null&&o.value))return;const C=o.value.getBoundingClientRect();l.value=0,g.value=0,e.nextTick(()=>{const v=C.left,h=C.top+document.documentElement.scrollTop,w=f.value.$el.offsetWidth,x=(w-C.width)/2;C.left-x<0?l.value=v:C.left+x+C.width>document.body.clientWidth?l.value=v-w+C.width:l.value=v-x;const O=f.value.$el.offsetHeight;C.bottom+O>document.body.clientHeight?g.value=h-O:g.value=h+C.height})},k=r!=null&&r.value?new ResizeObserver(()=>y()):void 0;return e.watch(a,C=>{!(r!=null&&r.value)||!k||(k.disconnect(),C&&e.nextTick(()=>{y(),k.observe(f.value.$el)}))},{immediate:!0}),(C,v)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"#app > .app-container"},[e.createVNode(R.Card,{class:e.normalizeClass(["no-spacing popover",m.value]),ref_key:"popover",ref:f,style:e.normalizeStyle(d.value)},{default:e.withCtx(()=>[e.renderSlot(C.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])]))}});const go=ae._export_sfc(ho,[["__scopeId","data-v-d948a8f2"]]),bo=e.defineComponent({__name:"DetailsSelector",props:{labels:{},open:{type:Boolean,default:!1},title:{}},emits:["hideDetails","showDetails"],setup(t,{emit:n}){const r=t,{labels:o,open:s,title:a}=e.toRefs(r),l=e.ref(!1),f=e.ref(),g=e.ref(),m=k=>{var C,v;!k.target||(C=g.value)!=null&&C.contains(k.target)||(v=f.value)!=null&&v.$el.contains(k.target)||(l.value=!1,window.removeEventListener("mouseup",m))},d=()=>{if(s.value){n("hideDetails");return}if(l.value){l.value=!1;return}l.value=!0,window.addEventListener("mouseup",m)},y=k=>{if(l.value=!1,s.value){n("hideDetails");return}n("showDetails",k)};return e.onUnmounted(()=>{window.removeEventListener("mouseup",m)}),(k,C)=>(e.openBlock(),e.createElementBlock("div",{class:"details-selector-container",ref_key:"root",ref:g,onClick:C[0]||(C[0]=e.withModifiers(()=>d(),["stop"]))},[e.createVNode(R.Align,{class:"details-selector",vertical:"center"},{default:e.withCtx(()=>[e.unref(a)?(e.openBlock(),e.createBlock(T.Info,{key:0,mood:"important-alt",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(a)),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(R.Icon,{value:e.unref(s)?"chevron-up":"chevron-down",mood:"important-alt",size:"large-2"},null,8,["value"])]),_:1}),e.createVNode(go,{ref_key:"popover",ref:f,parentNode:g.value,visible:l.value,autoPosition:"",popoverClass:"details-selector-popover"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),(v,h)=>(e.openBlock(),e.createBlock(T.Info,{class:"dropdown-item",onClick:e.withModifiers(()=>y(h),["stop"]),contrast:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(v),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["parentNode","visible"])],512))}});const wo=ae._export_sfc(bo,[["__scopeId","data-v-4d4dbc91"]]),yo={class:"pagination"},Co=["onClick"],_o=e.defineComponent({__name:"Pagination",props:{currentPageSize:{},id:{default:"pagination"},pageNumber:{},pageRadius:{default:3},pageSizeLabel:{},pageSizes:{default:()=>[20,50,100,500]},rowCount:{}},emits:["update:currentPageSize","update:pageNumber"],setup(t,{emit:n}){const r=t,{currentPageSize:o,id:s,pageNumber:a,pageRadius:l,pageSizeLabel:f,pageSizes:g,rowCount:m}=e.toRefs(r),d=e.computed(()=>Math.min(...g.value)),y=e.computed(()=>Math.ceil(m.value/o.value)),k=e.computed(()=>g.value.reduce((h,w)=>(h[w]=w.toString(),h),{})),C=e.computed(()=>{const h=[];for(let w=l.value-1;w>0;w--)a.value>w&&h.push(a.value-w);h.push(a.value);for(let w=1;w<l.value;w++)a.value<y.value-w-1&&h.push(a.value+w);return h}),v=h=>{o.value!==h&&n("update:currentPageSize",h)};return(h,w)=>(e.openBlock(),e.createElementBlock("div",yo,[e.unref(m)>e.unref(o)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(a)>0?(e.openBlock(),e.createBlock(T.Info,{key:0,class:"page",onClick:w[0]||(w[0]=()=>n("update:pageNumber",0)),mood:"important-alt"},{default:e.withCtx(()=>[e.createTextVNode("1")]),_:1})):e.createCommentVNode("",!0),e.unref(a)>e.unref(l)?(e.openBlock(),e.createBlock(T.Info,{key:1,class:"page-separator"},{default:e.withCtx(()=>[e.createTextVNode("…")]),_:1})):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,x=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["page",{current:x===e.unref(a)}]),onClick:()=>n("update:pageNumber",x),key:x},e.toDisplayString(x+1),11,Co))),128)),e.unref(a)<y.value-e.unref(l)-1?(e.openBlock(),e.createBlock(T.Info,{key:2,class:"page-separator"},{default:e.withCtx(()=>[e.createTextVNode("…")]),_:1})):e.createCommentVNode("",!0),e.unref(a)<y.value-1?(e.openBlock(),e.createBlock(T.Info,{key:3,class:"page",onClick:w[1]||(w[1]=()=>n("update:pageNumber",y.value-1)),mood:"important-alt"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(y.value),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(T.Info,{class:"page-size-label"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(f)),1)]),_:1})],64)):e.createCommentVNode("",!0),e.unref(m)>d.value?(e.openBlock(),e.createBlock(pe.Dropdown,{key:1,class:"page-size-selector","onUpdate:modelValue":w[2]||(w[2]=x=>v(parseInt(x.toString()))),id:e.unref(s),items:k.value,modelValue:e.unref(o)},{item:e.withCtx(({item:x})=>[e.createTextVNode(e.toDisplayString(x),1)]),_:1},8,["id","items","modelValue"])):e.createCommentVNode("",!0)]))}});const xo=ae._export_sfc(_o,[["__scopeId","data-v-764cc1be"]]),So=t=>(e.pushScopeId("data-v-b4f986aa"),t=t(),e.popScopeId(),t),ko=So(()=>e.createElementVNode("i",{class:"la la-eye secondary"},null,-1)),Eo=e.defineComponent({__name:"TrendChart",props:{formatter:{type:Function},title:{},url:{}},setup(t){const n=t,{formatter:r,title:o,url:s}=e.toRefs(n),a=e.ref(!1),l=e.ref([]),f=e.ref(),g=e.computed(()=>f.value?Object.assign({},f.value):{}),m=e.computed(()=>{var w;switch((w=f.value)==null?void 0:w.length){case 0:case void 0:return 0;case 1:return f.value[0];default:return f.value.slice(f.value.length/2).reduce((x,O)=>x+O,0)/Math.ceil(f.value.length/2)}}),d=e.computed(()=>{var w;switch((w=f.value)==null?void 0:w.length){case 0:case void 0:return 0;case 1:return f.value[0];default:return f.value.slice(0,f.value.length/2).reduce((x,O)=>x+O,0)/Math.floor(f.value.length/2)}}),y=e.computed(()=>d.value>m.value?"negative":d.value<m.value?"positive":"neutral"),k=e.computed(()=>{if(!f.value)return{};const w=new Array(f.value.length).fill(0).map((x,O)=>d.value+(m.value-d.value)*O/(f.value.length-1));return Object.assign({},w)}),C=async()=>{if(!f.value)return;const w=(await Pe({url:s.value})).data;l.value=Object.keys(w),f.value=Object.values(w)},v=()=>{a.value=!1,window.removeEventListener("mouseup",v)},h=async()=>{a.value=!0,window.addEventListener("mouseup",v),await C()};return(w,x)=>(e.openBlock(),e.createElementBlock("div",{class:"trend-chart-container",onClick:x[0]||(x[0]=e.withModifiers(()=>h(),["stop"]))},[ko,e.createVNode(at.Popover,{visible:a.value,parentClass:"cell",popoverClass:"trend-chart-popover"},{default:e.withCtx(()=>[e.unref(o)?(e.openBlock(),e.createBlock(_e.Header,{key:0,size:"small-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)),1)]),_:1})):e.createCommentVNode("",!0),f.value?(e.openBlock(),e.createBlock(Ae.LineBarChart,{key:1,activeLines:["values"],formatters:{trend:e.unref(r),values:e.unref(r)},moods:{trend:{mood:y.value},values:{mood:"important"}},styles:{trend:"line",values:"line"},values:{trend:k.value,values:g.value}},{"x-axis-label":e.withCtx(({index:O})=>[e.createTextVNode(e.toDisplayString(l.value[O]),1)]),_:1},8,["formatters","moods","values"])):(e.openBlock(),e.createBlock(Ae.Loader,{key:2}))]),_:1},8,["visible"])]))}});const No=ae._export_sfc(Eo,[["__scopeId","data-v-b4f986aa"]]),Bo={class:"common-table"},Oo={key:0,class:"controls d-flex justify-content-end mb-1"},To=["onMouseover","onMouseout"],Ro=["href"],Vo=["href"],Ao=["onClick"],et=50,Do=e.defineComponent({__name:"CommonTable",props:{cellClasses:{default:()=>({})},clientCurrencyDecimal:{default:0},clientCurrencySymbol:{default:""},clientCurrencySymbolPrefix:{type:Boolean,default:!0},colorMetrics:{type:Boolean,default:!1},colorizeLabel:{},columns:{},columnDetails:{default:()=>({})},columnLinks:{default:()=>({})},comparisonColumns:{},defaultOrderBy:{},detailsColumn:{},detailsRequests:{},detailsSelectorTitle:{},dragColumns:{type:Boolean,default:!1},fixedColumnNumber:{default:1},inlineFilterOperators:{default:()=>({})},inversedKpis:{},pageSizeLabel:{},primaryColumn:{default:"id"},primaryColumnAlias:{},request:{},rows:{},shortenColumns:{},showInlineFilters:{type:Boolean,default:!1},showRowNumber:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0},showTopTotal:{type:Boolean,default:!1},total:{},totalTitle:{},totalColumnKey:{},trendChartTitle:{},trendUrl:{},uncolorizeLabel:{}},emits:["move:column"],setup(t,{emit:n}){const r=t,o=async(i,c)=>typeof i=="function"?await i(c):(await Pe({...i,params:{...i.params,...c}})).data,s=async(i,c)=>typeof i=="function"?await i(c):(await Pe({...i,params:{...i.params??{},filter:c.inlineFilters.value,page_number:c.pageNumber,page_size:c.pageSize,order:c.orderBy,reversed:c.reversed}})).data,{cellClasses:a,clientCurrencyDecimal:l,clientCurrencySymbol:f,clientCurrencySymbolPrefix:g,colorMetrics:m,columns:d,columnDetails:y,columnLinks:k,comparisonColumns:C,defaultOrderBy:v,detailsColumn:h,detailsRequests:w,dragColumns:x,fixedColumnNumber:O,inlineFilterOperators:A,inversedKpis:j,primaryColumn:D,primaryColumnAlias:ee,request:U,rows:G,shortenColumns:I,showInlineFilters:he,showRowNumber:X,showPagination:Ue,showTopTotal:Me,total:te,totalColumnKey:$e,trendUrl:ge}=e.toRefs(r),be=()=>{const i={};for(const c of Object.keys(d.value))c in A.value&&(i[c]={operator:Object.keys(A.value[c])[0],value:""});return i},de=e.ref([]),Y=e.ref({}),le=e.ref([]),we=e.ref({}),ie=e.ref([]),ne=e.ref({}),E=e.ref(!1),S=e.ref(!1),N=e.ref([]),F=e.ref(!1),M=e.ref(be()),ue=e.ref(!0),L=e.ref(),re=e.ref(0),ce=e.ref(20),Ee=e.ref(0),q=e.ref(),Q=e.ref(),rn=e.computed(()=>{const i={};return S.value&&(i.inline_filters={icon:"filter"}),i}),on=e.computed(()=>C!=null&&C.value?Object.keys(C.value):void 0),sn=e.computed(()=>ie.value.reduce((i,c)=>(i[c]=no(d.value[c]),i),{})),pt=e.computed(()=>{if(w!=null&&w.value)return Object.entries(w.value).reduce((i,[c,{label:u}])=>(i[c]=u,i),{})}),mt=e.computed(()=>[...de.value].sort((i,c)=>{const u=(()=>{const b=qe(L.value[0].reduce((P,Z)=>P[Z],i),d.value[L.value[0][0]].type),_=qe(L.value[0].reduce((P,Z)=>P[Z],c),d.value[L.value[0][0]].type);return b>_?1:b<_?-1:0})();return L.value[1]?-u:u})),vt=e.computed(()=>!(U!=null&&U.value)||F.value?mt.value:mt.value.slice(re.value*ce.value,(re.value+1)*ce.value)),an=i=>{le.value.includes(i)||le.value.push(i)},Ne=(i,c)=>!I.value||!I.value.includes(i)?!1:c.length>et,ln=i=>!!i.tooltipTitle&&!!i.tooltipDescription,un=(i,c)=>{var b;const u=((b=j==null?void 0:j.value)==null?void 0:b.includes(c))??!1;return i>0?u?"negative":"positive":i<0?u?"positive":"negative":"neutral"},ht=(i,c,u)=>{if(q.value)return $(q.value[i][c],C.value[c].type??d.value[i].type,u)},$=(i,c,u)=>{let b=qe(i,c);switch(c){case"float":return se(parseFloat(b)).format("0,0.00");case"int":return se(parseInt(b)).format("0,0");case"money":{let _="0,0";l.value>0&&(_+="."+"0".repeat(l.value));const P=se(parseFloat(b)).format(_);return g.value?f.value+" "+P:P+" "+f.value}case"money_capped":{const _=parseFloat(b.toFixed(l.value))==0;if(b>0&&b<1&&_){const P=l.value===0?1:parseFloat("0."+"0".repeat(l.value-1)+"1");return g.value?`< ${f.value} ${P}`:`< ${P} ${f.value}`}else return $(i,"money",u)}case"percent":{let _=se(parseFloat(b)).format("0,0.00")+"%";return u==="difference"&&b>0&&(_=`+${_}`),_}case"time":return`${$(Math.floor(parseInt(b)/60),"int")}mn${$(parseInt(b)%60,"int")}s`;default:return b.toString()}},cn=async(i,c)=>{if(Y.value[i]&&Y.value[i][c[D.value]])return Y.value[i][c[D.value]];const{rows:u}=await o(w.value[i].request,{row:c,primaryColumn:(ee==null?void 0:ee.value)??D.value,primaryColumnValue:c[D.value]});return Y.value[i]||(Y.value[i]={}),Y.value[i][c[D.value]]=Object.values(u),Y.value[i][c[D.value]]},gt=(i,c)=>{const u=new URL(i.url,location.origin);if(Array.isArray(i.columns))for(const b of i.columns)u.searchParams.set(b,c[b]);else for(const[b,_]of Object.entries(i.columns))u.searchParams.set(_,c[b]);return u},dn=(i,c)=>{const u=new URL(y.value[i].baseUrl,location.origin);if(Array.isArray(y.value[i].columns))for(const b of y.value[i].columns)u.searchParams.set(b,c[b]);else for(const[b,_]of Object.entries(y.value[i].columns))u.searchParams.set(_,c[b]);return u.toString()},fn=i=>{if(i.totalUrl)return new URL(i.totalUrl).toString();const c=new URL(i.baseUrl);return c.searchParams.set("total","true"),c.toString()},pn=i=>!I.value||!I.value.includes(i)?-1:N.value.indexOf(i),mn=i=>{if(i in M.value)return M.value[i].operator},vn=i=>{if(i in M.value)return M.value[i].value},He=i=>A.value[i],hn=i=>{const c=He(i);if(!c)return;const u=["normal","small"];let b=0;for(const _ of Object.values(c)){const P=u.indexOf(_.size??"normal");P>b&&(b=P)}return{[`size-${u[b]}`]:!0}},gn=i=>{const c=He(i);return c?Object.entries(c).reduce((u,[b,_])=>(u[b]=_.label,u),{}):{}},bn=i=>d.value[i].type==="string"?"text":"number",bt=()=>`Table_OrderBy_${location.pathname}`,wn=()=>`Table_PageSize_${location.pathname}`,qe=(i,c)=>{switch(c){case"float":case"int":case"money":case"money_capped":case"percent":case"time":return parseFloat(i??0);default:return i}},yn=(i,c)=>{if(!ge)return"";const u=new URL(c?ge.value[c]:ge.value,location.origin);return u.searchParams.set((ee==null?void 0:ee.value)??D.value,i[D.value]),u.toString()},Be=(i,c,u)=>Ne(i,c)?[]:u?(h==null?void 0:h.value)===i?["flex-grow-1","text-left"]:I.value&&I.value.includes(i)&&vt.value.some(b=>Ne(i,b[i]))?["flex-grow-1","text-left"]:["flex-grow-1"]:["flew-grow-1"],Cn=i=>i in A.value,_n=()=>{he.value&&(E.value=!1)},wt=(i,c)=>!(!(k!=null&&k.value)||!(c in k.value)||"disable_for"in k.value[c]&&k.value[c].disable_for.includes(i[D.value])),xn=(i,c)=>{const[u]=ie.value.splice(i,1);ie.value.splice(c,0,u),n("move:column",{from:i,to:c})},Sn=i=>{const c=le.value.indexOf(i);c<0||le.value.splice(c,1)},yt=(i,c)=>{we.value[i]=c},ye=(i,c)=>!I.value||!I.value.includes(c)||i.length<=et?i:`${i.substring(0,et-3)}...`,kn=i=>{if(!Q.value)return;const c={left:Q.value.$el.scrollLeft,top:Q.value.$el.scrollTop};delete ne.value[i[D.value]],e.nextTick(()=>{Q.value.$el.scrollTo(c)})},En=(i,c)=>{const u=i.target.value;_t(c,{value:u})},Nn=(i,c)=>{i.key==="Enter"&&i.target.blur()},Bn=async(i,c)=>{if(!Q.value)return;const u={left:Q.value.$el.scrollLeft,top:Q.value.$el.scrollTop};ue.value=!0,ne.value[c[D.value]]=await cn(i,c),e.nextTick(()=>{Q.value.$el.scrollTo(u),ue.value=!1})},On=async(i=!1)=>{await Rn(i)||await Tn(i)||await xt(i)},Je=async i=>{await We(i),re.value=i},Ct=async i=>{const c=wn();if(i===void 0){const u=localStorage.getItem(c);u&&(ce.value=parseInt(u))}else localStorage.setItem(c,i.toString()),await We(0,i),re.value=0,ce.value=i},_t=(i,{operator:c,value:u})=>{if(c||(c=Object.keys(He(i))[0]),!c)return;const b={...M.value[i],operator:c};u!==void 0&&(b.value=u),M.value[i]=b,Je(0)},Tn=async i=>{const c=(()=>{for(const _ in localStorage){if(!_.startsWith("DataTables_"))continue;const P=_.substring(_.indexOf("/"));if(location.pathname!==P)return;const Z=localStorage.getItem(_);return Z?JSON.parse(Z):void 0}})();if(!c||!c.order||!c.order[0]||typeof c.order[0][0]=="number")return!1;const u=c.order[0][0].lastIndexOf("-"),b=u===-1?[[c.order[0][0]],c.order[0][1]==="desc"]:[[c.order[0][0].substring(0,u),c.order[0][0].substring(u+1)],c.order[0][1]==="desc"];return await fe(b,!1,i),!0},xt=async i=>{if(v!=null&&v.value){await fe(v.value,!1,i);return}const[c,{colspan:u}]=Object.entries(d.value).find(([b,{visible:_}])=>_);if(u===-1){await fe([[c],!1],!1,i);return}await fe([[c,(C!=null&&C.value?Object.keys(C.value)[0]:0).toString()],!1],!1,i)},Rn=async i=>{const c=localStorage.getItem(bt());return c?(await fe(JSON.parse(c),!1,i),!0):!1},Vn=async(i,c,u)=>{if(!(U!=null&&U.value))return!1;if(F.value)return!0;const b=await s(U.value,{inlineFilters:M.value,pageNumber:i,pageSize:c,orderBy:u[0],reversed:u[1]});return de.value=Object.values(b.rows),F.value=b.paginated!==!0,Ee.value=b.rowCount,b.detailedRows?ne.value=b.detailedRows:ne.value={},b.total&&(q.value=b.total),!0},An=()=>{if(!(G!=null&&G.value))return!1;let i=Object.values(G.value);for(const[c,u]of Object.entries(M.value))u.value&&(i=i.filter(b=>A.value[c][u.operator].callback(b[c],u.value)));return de.value=i,Ee.value=i.length,!0},We=async(i,c,u)=>{i===void 0&&(i=re.value),c===void 0&&(c=ce.value),u===void 0&&(u=L.value),ue.value=!0,An()||await Vn(re.value,ce.value,L.value),ue.value=!1},Dn=()=>{he.value&&(E.value=!0)},Pn=i=>{if(!I.value||!I.value.includes(i))return;const c=pn(i);c>=0?N.value.splice(c,1):N.value.push(i)},In=()=>{S.value=!S.value,S.value&&(M.value=be())},fe=async(i,c=!0,u=!0)=>{re.value=0,u&&await We(void 0,void 0,i),L.value=i,c&&localStorage.setItem(bt(),JSON.stringify(i))};return e.onMounted(()=>{ie.value=Object.keys(d.value),q.value=te==null?void 0:te.value,Promise.all([xt(!1),Ct()]).then(()=>On(!0))}),e.watch(d,()=>{M.value=be()}),U&&e.watch(U,()=>{F.value=!1,Je(0)},{deep:!0}),(i,c)=>(e.openBlock(),e.createElementBlock("div",Bo,[e.unref(Ue)?(e.openBlock(),e.createElementBlock("div",Oo,[e.createVNode(xo,{"onUpdate:pageNumber":c[0]||(c[0]=u=>Je(u)),"onUpdate:currentPageSize":c[1]||(c[1]=u=>Ct(u)),currentPageSize:ce.value,pageNumber:re.value,pageSizeLabel:i.pageSizeLabel,rowCount:Ee.value},null,8,["currentPageSize","pageNumber","pageSizeLabel","rowCount"])])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"table-container",onMouseover:c[7]||(c[7]=()=>Dn()),onMouseout:c[8]||(c[8]=()=>_n())},[e.createElementVNode("div",{class:e.normalizeClass(["action-buttons",{active:E.value}])},[e.unref(he)?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-small btn-success",onClick:c[2]||(c[2]=()=>In())},[e.createElementVNode("div",{class:e.normalizeClass(["las",S.value?"la-trash":"la-filter"])},null,2)])):e.createCommentVNode("",!0)],2),L.value?(e.openBlock(),e.createBlock(Oe.Table,{key:0,ref_key:"table",ref:Q,onAddColoredMetric:c[3]||(c[3]=u=>an(u)),"onMove:column":c[4]||(c[4]=({from:u,to:b})=>xn(u,b)),onRemoveColoredMetric:c[5]||(c[5]=u=>Sn(u)),"onUpdate:orderBy":c[6]||(c[6]=u=>fe(u)),additionalHeaders:rn.value,cellClasses:e.unref(a),colorMetrics:e.unref(m),coloredMetrics:le.value,columns:sn.value,comparisonColumnKeys:on.value,detailsRows:ne.value,dragColumns:e.unref(x),fixedColumnNumber:e.unref(O),inversedKpis:e.unref(j),orderBy:L.value,primaryColumn:e.unref(D),rows:vt.value,showRowNumber:e.unref(X),showTotal:!!q.value,showTopTotal:e.unref(Me)},e.createSlots({colorizeLabel:e.withCtx(({enabled:u})=>[e.createVNode(T.Info,{mood:"white",size:"small"},{default:e.withCtx(()=>[u?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(i.uncolorizeLabel),1)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(i.colorizeLabel),1)],64))]),_:2},1024)]),columnRowNumber:e.withCtx(()=>[e.createVNode(T.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode("#")]),_:1})]),rowNumber:e.withCtx(({value:u})=>[e.createVNode(T.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u),1)]),_:2},1024)]),totalRowNumber:e.withCtx(()=>[e.createVNode(T.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode("#")]),_:1})]),column:e.withCtx(({columnKey:u,isGhost:b})=>[e.createElementVNode("div",{class:"d-flex align-items-center",onMouseover:()=>yt(u,!0),onMouseout:()=>yt(u,!1)},[e.createVNode(T.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(d)[u].label),1)]),_:2},1024),!b&&ln(e.unref(d)[u])?(e.openBlock(),e.createBlock(vo,{key:0,description:e.unref(d)[u].tooltipDescription,title:e.unref(d)[u].tooltipTitle,visible:we.value[u]},null,8,["description","title","visible"])):e.createCommentVNode("",!0)],40,To)]),row:e.withCtx(({columnKey:u,index:b,row:_,spanIndex:P,subcolumnKey:Z,subindex:Ge,value:z})=>[e.renderSlot(i.$slots,"row",e.normalizeProps(e.guardReactiveProps({columnKey:u,index:b,row:_,spanIndex:P,subcolumnKey:Z,subindex:Ge,value:z})),()=>[Ge===void 0&&u==="trend"?(e.openBlock(),e.createBlock(No,{key:0,class:e.normalizeClass(Be(u,z,_.rowInfo.detailable)),formatter:Xe=>$(Xe,"int"),title:i.trendChartTitle,url:yn(_,Z)},null,8,["class","formatter","title","url"])):_.rowInfo.detailable&&u===e.unref(h)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[wt(_,u)&&_.rowInfo.detailable?(e.openBlock(),e.createBlock(T.Info,{key:0,class:e.normalizeClass(Be(u,z,_.rowInfo.detailable)),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createElementVNode("a",{class:"column-link",href:gt(e.unref(k)[u],_).toString()},e.toDisplayString(ye($(z,e.unref(d)[u].type),u)),9,Ro)]),_:2},1032,["class"])):(e.openBlock(),e.createBlock(T.Info,{key:1,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString($(z,e.unref(d)[u].type)),1)]),_:2},1024))],64)):wt(_,u)&&_.rowInfo.detailable?(e.openBlock(),e.createBlock(T.Info,{key:2,class:e.normalizeClass(Be(u,z,_.rowInfo.detailable)),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createElementVNode("a",{class:"column-link",href:gt(e.unref(k)[u],_).toString()},e.toDisplayString(ye($(z,e.unref(d)[u].type),u)),9,Vo)]),_:2},1032,["class"])):Ge===void 0&&z>=.01&&u in e.unref(y)?(e.openBlock(),e.createBlock(Pt,{key:3,format:e.unref(y)[u].format,label:ye($(z,e.unref(d)[u].type),u),title:e.unref(y)[u].title,url:dn(u,_)},null,8,["format","label","title","url"])):(e.openBlock(),e.createBlock(T.Info,{key:4,class:e.normalizeClass(Be(u,z,_.rowInfo.detailable)),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ye($(z,e.unref(d)[u].type),u)),1)]),_:2},1032,["class"])),Ne(u,z)?(e.openBlock(),e.createElementBlock("i",{key:5,class:e.normalizeClass(["flex-grow-1 expand-column fa",N.value.includes(u)?"fa-compress-alt":"fa-expand-alt"]),onClick:()=>Pn(u)},null,10,Ao)):e.createCommentVNode("",!0),pt.value&&_.rowInfo.detailable&&u===e.unref(h)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:6},[Ne(u,z)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Fn.Separator,{key:0})),e.createVNode(wo,{onHideDetails:()=>kn(_),onShowDetails:Xe=>Bn(Xe,_),labels:pt.value,open:ne.value[_[e.unref(D)]]!==void 0,title:i.detailsSelectorTitle},null,8,["onHideDetails","onShowDetails","labels","open","title"])],64)):e.createCommentVNode("",!0)],!0)]),additionalHeader:e.withCtx(({additionalHeader:u,columnKey:b})=>[u==="inline_filters"&&Cn(b)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["d-flex inline-filter",hn(b)])},[e.createVNode(pe.Dropdown,{class:"inline-filter-dropdown","onUpdate:modelValue":_=>_t(b,{operator:_.toString()}),id:`additional_header_${b}`,items:gn(b),modelValue:mn(b)},{item:e.withCtx(({item:_})=>[e.createVNode(T.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_),1)]),_:2},1024)]),_:2},1032,["onUpdate:modelValue","id","items","modelValue"]),e.createVNode(pe.Input,{class:"flex-grow-1 inline-filter-input",onBlur:_=>En(_,b),onKeyup:_=>Nn(_),modelValue:vn(b),type:bn(b)},null,8,["onBlur","onKeyup","modelValue","type"])],2)):e.createCommentVNode("",!0)]),total:e.withCtx(({columnKey:u,subcolumnKey:b,values:_})=>[e.renderSlot(i.$slots,e.unref(te),{columnKey:u,subcolumnKey:b,values:_},()=>[i.totalTitle&&u===e.unref($e)?(e.openBlock(),e.createBlock(T.Info,{key:0,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.totalTitle(Ee.value??de.value.length)),1)]),_:1})):q.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[b&&e.unref(C)&&e.unref(C)[b].format==="difference"?(e.openBlock(),e.createBlock(T.Info,{key:0,mood:un(q.value[u][b],u),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ht(u,b,e.unref(C)[b].format)),1)]),_:2},1032,["mood"])):q.value&&q.value[u]>=.01&&u in e.unref(y)?(e.openBlock(),e.createBlock(Pt,{key:1,format:e.unref(y)[u].format,label:ye($(q.value[u],e.unref(d)[u].type,e.unref(C)&&b?e.unref(C)[b].format:void 0),u),title:e.unref(y)[u].title,url:fn(e.unref(y)[u])},null,8,["format","label","title","url"])):u!=="trend"?(e.openBlock(),e.createBlock(T.Info,{key:2,contrast:"",size:"small"},{default:e.withCtx(()=>[b?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(ht(u,b,e.unref(C)?e.unref(C)[b].format:void 0)),1)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString($(q.value[u],e.unref(d)[u].type)),1)],64))]),_:2},1024)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],!0)]),_:2},[e.unref(C)?{name:"secondaryColumn",fn:e.withCtx(({subcolumnKey:u})=>[u?(e.openBlock(),e.createBlock(T.Info,{key:0,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(C)[u].label),1)]),_:2},1024)):e.createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["additionalHeaders","cellClasses","colorMetrics","coloredMetrics","columns","comparisonColumnKeys","detailsRows","dragColumns","fixedColumnNumber","inversedKpis","orderBy","primaryColumn","rows","showRowNumber","showTotal","showTopTotal"])):e.createCommentVNode("",!0)],32),e.createElementVNode("div",{class:e.normalizeClass(["loading-overlay",{visible:ue.value}])},[e.createVNode(Ae.Loader)],2)]))}});const Po=ae._export_sfc(Do,[["__scopeId","data-v-553e3408"]]),Io=["onClick"],Fo=["onClick"],Lo={class:"items"},zo=e.defineComponent({__name:"KpiSelector",props:{applyLabel:{},columns:{},defaultValue:{},filterLabel:{},groupNames:{},groupsTitle:{},modelValue:{},noColumnsFoundLabel:{},orderTitle:{},resetLabel:{},showModalLabel:{},title:{}},emits:["update:modelValue"],setup(t,{emit:n}){const r=t,{columns:o,defaultValue:s,groupNames:a,modelValue:l,showModalLabel:f}=e.toRefs(r),g=e.ref(Object.keys(a.value)[0]),m=e.ref([...l.value]),d=e.ref([]),y=e.ref([]),k=e.ref(""),C=e.ref(void 0),v=e.ref({left:0,top:0}),h=e.ref({left:0,top:0}),w=e.ref({left:0,top:0}),x=e.ref(void 0),O=e.ref(void 0),A=e.ref(void 0),j=e.ref(void 0),D=e.computed(()=>Object.fromEntries(Object.entries(o.value).filter(([E,S])=>S.fixed!==!0&&(k.value.trim()===""||S.label.toLowerCase().includes(k.value.trim().toLowerCase()))))),ee=e.computed(()=>Object.keys(a.value).reduce((E,S)=>(E[S]=Object.fromEntries(Object.entries(D.value).filter(([N,F])=>F.group===S)),E),{})),U=e.computed(()=>g.value===void 0?void 0:ee.value[g.value]),G=e.computed(()=>Object.fromEntries(Object.entries(a.value).filter(([E,S])=>Object.values(D.value).some(N=>N.group===E)))),I=e.computed(()=>{if(!(O.value===void 0||A.value===void 0||j.value===void 0))return O.value+j.value-A.value-w.value.top}),he=e.computed(()=>{if(I.value!==void 0)return`${I.value}px`}),X=e.computed(()=>{if(x.value===void 0||I.value===void 0)return;const E=m.value.indexOf(x.value),S=E-1-m.value.slice(0,E).reverse().findIndex(L=>o.value[L].fixed===!0);let N=m.value.slice(E+1).findIndex(L=>o.value[L].fixed===!0);N>=0?N+=E+1:N=m.value.length;const F=Ue(m.value[S]),M=F.offsetHeight,ue=Math.min(Math.round((I.value-F.offsetTop)/M-1),N-S-1);return S+ue+1}),Ue=E=>y.value[m.value.indexOf(E)],Me=E=>d.value[m.value.indexOf(E)],te=(E=!1,S)=>{S&&S.target!==S.currentTarget||(E&&(m.value=[...l.value]),C.value=!1,g.value=Object.keys(a.value)[0])},$e=E=>{const S=m.value.indexOf(E);S>=0&&m.value.splice(S,1)},ge=()=>{m.value=[...s.value]},be=E=>{const S=[...E];n("update:modelValue",S),te(!1)},de=E=>{g.value=E.toString()},Y=()=>{C.value=!0},le=E=>{const S=m.value.indexOf(E);S>=0?m.value.splice(S,1):m.value.push(E)},we=E=>{j.value=E.clientY},ie=()=>{const E=X.value;if(x.value!==void 0&&E!==void 0){const S=m.value.indexOf(x.value);m.value.splice(S,1),m.value.splice(E,0,x.value)}x.value=void 0,O.value=void 0,A.value=void 0,j.value=void 0,window.removeEventListener("mousemove",we),window.removeEventListener("mouseup",ie)},ne=(E,S)=>{x.value=S,O.value=Me(S).$el.offsetTop,A.value=E.clientY,j.value=E.clientY,window.addEventListener("mousemove",we),window.addEventListener("mouseup",ie)};return e.watch(k,E=>{E?(!g.value||!(g.value in G.value))&&(g.value=Object.keys(G.value)[0]):g.value||(g.value=Object.keys(G.value)[0])}),(E,S)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(pe.Button,{onClick:S[0]||(S[0]=()=>Y()),label:e.unref(f),mood:"neutral"},null,8,["label"]),(e.openBlock(),e.createBlock(e.Teleport,{to:"#app > .app-container"},[e.createVNode(R.Align,{class:e.normalizeClass(["kpi-selector-container no-spacing",{visible:C.value,hidden:C.value===!1}]),onClick:S[8]||(S[8]=e.withModifiers(N=>te(!0,N),["stop"])),column:"",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(R.Card,{class:"kpi-selector"},{default:e.withCtx(()=>[e.createVNode(R.Align,{class:"title",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(_e.Header,{class:"flex-max",size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(E.title),1)]),_:1}),e.createVNode(R.Align,{class:"flex-max no-spacing search-container",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(pe.Input,{class:"flex-max search",modelValue:k.value,"onUpdate:modelValue":S[1]||(S[1]=N=>k.value=N),placeholder:E.filterLabel},null,8,["modelValue","placeholder"]),e.createVNode(R.Icon,{class:"no-spacing",value:"search-alt-2"})]),_:1}),e.createVNode(R.Align,{class:"close-container flex-max no-spacing",horizontal:"right"},{default:e.withCtx(()=>[e.createVNode(R.Icon,{class:"close",onClick:S[2]||(S[2]=()=>te(!0)),size:"large-3",value:"x"})]),_:1})]),_:1}),e.createVNode(R.Align,{class:"body flex-max no-spacing"},{default:e.withCtx(()=>[g.value!==void 0&&U.value!==void 0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(R.Align,{class:"groups flex-max",column:""},{default:e.withCtx(()=>[e.createVNode(_e.Header,{size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(E.groupsTitle),1)]),_:1}),e.createVNode(Oe.Scrollable,{class:"flex-max no-spacing","onUpdate:scrollPosition":S[3]||(S[3]=N=>v.value=N),scrollPosition:v.value},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.entries(G.value),([N,F])=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["item no-spacing",{selected:g.value===N}]),onClick:()=>de(N)},[e.createVNode(T.Info,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(F),1)]),_:2},1024)],10,Io))),256))]),_:1},8,["scrollPosition"])]),_:1}),e.createVNode(R.Align,{class:"group-columns flex-max no-spacing",column:""},{default:e.withCtx(()=>[e.createVNode(_e.Header,{size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(a)[g.value]),1)]),_:1}),e.createVNode(Oe.Scrollable,{class:"flex-max no-spacing","onUpdate:scrollPosition":S[4]||(S[4]=N=>h.value=N),scrollPosition:h.value},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.entries(U.value),([N,F])=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["item no-spacing",{selected:m.value.includes(N)}]),onClick:()=>le(N),key:N},[e.createVNode(T.Info,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(F.label),1)]),_:2},1024)],10,Fo))),128))]),_:1},8,["scrollPosition"])]),_:1}),e.createVNode(R.Align,{class:"enabled-columns flex-max no-spacing",column:""},{default:e.withCtx(()=>[e.createVNode(R.Align,{class:"header",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(_e.Header,{class:"flex-max",size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(E.orderTitle),1)]),_:1}),e.createVNode(T.Info,{class:"reset",onClick:S[5]||(S[5]=()=>ge()),mood:"important-alt",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(E.resetLabel),1)]),_:1})]),_:1}),e.createVNode(Oe.Scrollable,{class:"flex-max no-spacing","onUpdate:scrollPosition":S[6]||(S[6]=N=>w.value=N),contentClass:x.value===void 0?void 0:"dragged",scrollPosition:w.value},{default:e.withCtx(()=>[e.createElementVNode("div",Lo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,N=>(e.openBlock(),e.createElementBlock("div",{class:"item-container no-spacing",ref_for:!0,ref_key:"enabledColumnContainers",ref:y},[e.createElementVNode("div",{class:e.normalizeClass(["separator-top no-spacing",{"place-after":X.value!==void 0&&x.value!==void 0&&N===m.value[X.value]&&X.value<m.value.indexOf(x.value)}])},null,2),e.createVNode(R.Align,{class:e.normalizeClass(["item no-spacing",{dragged:N===x.value}]),ref_for:!0,ref_key:"enabledColumnElements",ref:d,style:e.normalizeStyle(N===x.value?{top:he.value}:void 0),vertical:"center"},{default:e.withCtx(()=>[e.unref(o)[N].fixed?(e.openBlock(),e.createBlock(T.Info,{key:0,class:e.normalizeClass(["flex-max",{fixed:e.unref(o)[N].fixed}]),size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)[N].label),1)]),_:2},1032,["class"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(R.Icon,{class:"move",onMousedown:F=>ne(F,N),value:"dots-vertical-rounded"},null,8,["onMousedown"]),e.createVNode(T.Info,{class:"flex-max no-spacing",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)[N].label),1)]),_:2},1024),e.createVNode(R.Icon,{class:"no-spacing remove",onClick:()=>$e(N),value:"trash"},null,8,["onClick"])],64))]),_:2},1032,["class","style"]),e.createElementVNode("div",{class:e.normalizeClass(["separator-bottom no-spacing",{"place-after":X.value!==void 0&&x.value!==void 0&&N===m.value[X.value]&&X.value>=m.value.indexOf(x.value)}])},null,2)],512))),256))])]),_:1},8,["contentClass","scrollPosition"])]),_:1})],64)):(e.openBlock(),e.createBlock(R.Align,{key:1,class:"flex-max",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(T.Info,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(E.noColumnsFoundLabel),1)]),_:1})]),_:1}))]),_:1}),e.createVNode(R.Align,{class:"controls no-spacing",horizontal:"right"},{default:e.withCtx(()=>[e.createVNode(pe.Button,{onClick:S[7]||(S[7]=()=>be(m.value)),label:E.applyLabel,mood:"positive"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["class"])]))],64))}});const jo=ae._export_sfc(zo,[["__scopeId","data-v-c28be373"]]);exports.CommonTable=Po;exports.KpiSelector=jo;
