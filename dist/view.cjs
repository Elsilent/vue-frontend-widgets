"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),oe=require("numeral"),De=require("./LineBarChart-5c574c72.cjs"),ut=require("./Popover-5322298f.cjs"),ue=require("./_plugin-vue_export-helper-f246444f.cjs"),D=require("./Icon-80a3c9ab.cjs"),R=require("./Info-ad8c31fe.cjs"),Ur=require("./BodyPopover-7a2603c3.cjs"),he=require("./Input-230aad1a.cjs"),Ot=require("./Link-9c28ef4b.cjs"),Mr=require("./marker.cjs"),$r=require("./Table-55940c4a.cjs"),xe=require("./Header-33a8a4f8.cjs");require("./utils/error.cjs");require("./match-5382edcf.cjs");require("vue-router");require("./datetime-a6d0f4bc.cjs");function Mt(t,r){return function(){return t.apply(r,arguments)}}const{toString:Hr}=Object.prototype,{getPrototypeOf:ct}=Object,Ie=(t=>r=>{const n=Hr.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),G=t=>(t=t.toLowerCase(),r=>Ie(r)===t),Le=t=>r=>typeof r===t,{isArray:we}=Array,_e=Le("undefined");function qr(t){return t!==null&&!_e(t)&&t.constructor!==null&&!_e(t.constructor)&&U(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $t=G("ArrayBuffer");function Jr(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&$t(t.buffer),r}const Wr=Le("string"),U=Le("function"),Ht=Le("number"),ze=t=>t!==null&&typeof t=="object",Gr=t=>t===!0||t===!1,Re=t=>{if(Ie(t)!=="object")return!1;const r=ct(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xr=G("Date"),Yr=G("File"),Qr=G("Blob"),Zr=G("FileList"),Kr=t=>ze(t)&&U(t.pipe),en=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||U(t.append)&&((r=Ie(t))==="formdata"||r==="object"&&U(t.toString)&&t.toString()==="[object FormData]"))},tn=G("URLSearchParams"),rn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Se(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),we(t))for(o=0,s=t.length;o<s;o++)r.call(null,t[o],o,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let f;for(o=0;o<l;o++)f=a[o],r.call(null,t[f],f,t)}}function qt(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,s;for(;o-- >0;)if(s=n[o],r===s.toLowerCase())return s;return null}const Jt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wt=t=>!_e(t)&&t!==Jt;function ot(){const{caseless:t}=Wt(this)&&this||{},r={},n=(o,s)=>{const a=t&&qt(r,s)||s;Re(r[a])&&Re(o)?r[a]=ot(r[a],o):Re(o)?r[a]=ot({},o):we(o)?r[a]=o.slice():r[a]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Se(arguments[o],n);return r}const nn=(t,r,n,{allOwnKeys:o}={})=>(Se(r,(s,a)=>{n&&U(s)?t[a]=Mt(s,n):t[a]=s},{allOwnKeys:o}),t),on=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sn=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},an=(t,r,n,o)=>{let s,a,l;const f={};if(r=r||{},t==null)return r;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!o||o(l,t,r))&&!f[l]&&(r[l]=t[l],f[l]=!0);t=n!==!1&&ct(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},ln=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},un=t=>{if(!t)return null;if(we(t))return t;let r=t.length;if(!Ht(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},cn=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&ct(Uint8Array)),dn=(t,r)=>{const o=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=o.next())&&!s.done;){const a=s.value;r.call(t,a[0],a[1])}},fn=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},pn=G("HTMLFormElement"),mn=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,s){return o.toUpperCase()+s}),Tt=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),vn=G("RegExp"),Gt=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Se(n,(s,a)=>{let l;(l=r(s,a,t))!==!1&&(o[a]=l||s)}),Object.defineProperties(t,o)},hn=t=>{Gt(t,(r,n)=>{if(U(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(U(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gn=(t,r)=>{const n={},o=s=>{s.forEach(a=>{n[a]=!0})};return we(t)?o(t):o(String(t).split(r)),n},wn=()=>{},bn=(t,r)=>(t=+t,Number.isFinite(t)?t:r),Ke="abcdefghijklmnopqrstuvwxyz",Rt="0123456789",Xt={DIGIT:Rt,ALPHA:Ke,ALPHA_DIGIT:Ke+Ke.toUpperCase()+Rt},yn=(t=16,r=Xt.ALPHA_DIGIT)=>{let n="";const{length:o}=r;for(;t--;)n+=r[Math.random()*o|0];return n};function Cn(t){return!!(t&&U(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const xn=t=>{const r=new Array(10),n=(o,s)=>{if(ze(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[s]=o;const a=we(o)?[]:{};return Se(o,(l,f)=>{const w=n(l,s+1);!_e(w)&&(a[f]=w)}),r[s]=void 0,a}}return o};return n(t,0)},_n=G("AsyncFunction"),Sn=t=>t&&(ze(t)||U(t))&&U(t.then)&&U(t.catch),p={isArray:we,isArrayBuffer:$t,isBuffer:qr,isFormData:en,isArrayBufferView:Jr,isString:Wr,isNumber:Ht,isBoolean:Gr,isObject:ze,isPlainObject:Re,isUndefined:_e,isDate:Xr,isFile:Yr,isBlob:Qr,isRegExp:vn,isFunction:U,isStream:Kr,isURLSearchParams:tn,isTypedArray:cn,isFileList:Zr,forEach:Se,merge:ot,extend:nn,trim:rn,stripBOM:on,inherits:sn,toFlatObject:an,kindOf:Ie,kindOfTest:G,endsWith:ln,toArray:un,forEachEntry:dn,matchAll:fn,isHTMLForm:pn,hasOwnProperty:Tt,hasOwnProp:Tt,reduceDescriptors:Gt,freezeMethods:hn,toObjectSet:gn,toCamelCase:mn,noop:wn,toFiniteNumber:bn,findKey:qt,global:Jt,isContextDefined:Wt,ALPHABET:Xt,generateString:yn,isSpecCompliantForm:Cn,toJSONObject:xn,isAsyncFn:_n,isThenable:Sn};function B(t,r,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s)}p.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Yt=B.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qt[t]={value:t}});Object.defineProperties(B,Qt);Object.defineProperty(Yt,"isAxiosError",{value:!0});B.from=(t,r,n,o,s,a)=>{const l=Object.create(Yt);return p.toFlatObject(t,l,function(w){return w!==Error.prototype},f=>f!=="isAxiosError"),B.call(l,t.message,r,n,o,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const kn=null;function st(t){return p.isPlainObject(t)||p.isArray(t)}function Zt(t){return p.endsWith(t,"[]")?t.slice(0,-2):t}function Vt(t,r,n){return t?t.concat(r).map(function(s,a){return s=Zt(s),!n&&a?"["+s+"]":s}).join(n?".":""):r}function En(t){return p.isArray(t)&&!t.some(st)}const Nn=p.toFlatObject(p,{},null,function(r){return/^is[A-Z]/.test(r)});function je(t,r,n){if(!p.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=p.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!p.isUndefined(b[g])});const o=n.metaTokens,s=n.visitor||c,a=n.dots,l=n.indexes,w=(n.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(r);if(!p.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(p.isDate(v))return v.toISOString();if(!w&&p.isBlob(v))throw new B("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(v)||p.isTypedArray(v)?w&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,g,b){let E=v;if(v&&!b&&typeof v=="object"){if(p.endsWith(g,"{}"))g=o?g:g.slice(0,-2),v=JSON.stringify(v);else if(p.isArray(v)&&En(v)||(p.isFileList(v)||p.endsWith(g,"[]"))&&(E=p.toArray(v)))return g=Zt(g),E.forEach(function(H,q){!(p.isUndefined(H)||H===null)&&r.append(l===!0?Vt([g],q,a):l===null?g:g+"[]",h(H))}),!1}return st(v)?!0:(r.append(Vt(b,g,a),h(v)),!1)}const y=[],k=Object.assign(Nn,{defaultVisitor:c,convertValue:h,isVisitable:st});function C(v,g){if(!p.isUndefined(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));y.push(v),p.forEach(v,function(E,T){(!(p.isUndefined(E)||E===null)&&s.call(r,E,p.isString(T)?T.trim():T,g,k))===!0&&C(E,g?g.concat(T):[T])}),y.pop()}}if(!p.isObject(t))throw new TypeError("data must be an object");return C(t),r}function At(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function dt(t,r){this._pairs=[],t&&je(t,this,r)}const Kt=dt.prototype;Kt.append=function(r,n){this._pairs.push([r,n])};Kt.toString=function(r){const n=r?function(o){return r.call(this,o,At)}:At;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Bn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function er(t,r,n){if(!r)return t;const o=n&&n.encode||Bn,s=n&&n.serialize;let a;if(s?a=s(r,n):a=p.isURLSearchParams(r)?r.toString():new dt(r,n).toString(o),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class On{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){p.forEach(this.handlers,function(o){o!==null&&r(o)})}}const Dt=On,tr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tn=typeof URLSearchParams<"u"?URLSearchParams:dt,Rn=typeof FormData<"u"?FormData:null,Vn=typeof Blob<"u"?Blob:null,An={isBrowser:!0,classes:{URLSearchParams:Tn,FormData:Rn,Blob:Vn},protocols:["http","https","file","blob","url","data"]},rr=typeof window<"u"&&typeof document<"u",Dn=(t=>rr&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Pn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rr,hasStandardBrowserEnv:Dn,hasStandardBrowserWebWorkerEnv:Pn},Symbol.toStringTag,{value:"Module"})),W={...Fn,...An};function In(t,r){return je(t,new W.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,a){return W.isNode&&p.isBuffer(n)?(this.append(o,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},r))}function Ln(t){return p.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function zn(t){const r={},n=Object.keys(t);let o;const s=n.length;let a;for(o=0;o<s;o++)a=n[o],r[a]=t[a];return r}function nr(t){function r(n,o,s,a){let l=n[a++];const f=Number.isFinite(+l),w=a>=n.length;return l=!l&&p.isArray(s)?s.length:l,w?(p.hasOwnProp(s,l)?s[l]=[s[l],o]:s[l]=o,!f):((!s[l]||!p.isObject(s[l]))&&(s[l]=[]),r(n,o,s[l],a)&&p.isArray(s[l])&&(s[l]=zn(s[l])),!f)}if(p.isFormData(t)&&p.isFunction(t.entries)){const n={};return p.forEachEntry(t,(o,s)=>{r(Ln(o),s,n,0)}),n}return null}function jn(t,r,n){if(p.isString(t))try{return(r||JSON.parse)(t),p.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const ft={transitional:tr,adapter:["xhr","http"],transformRequest:[function(r,n){const o=n.getContentType()||"",s=o.indexOf("application/json")>-1,a=p.isObject(r);if(a&&p.isHTMLForm(r)&&(r=new FormData(r)),p.isFormData(r))return s&&s?JSON.stringify(nr(r)):r;if(p.isArrayBuffer(r)||p.isBuffer(r)||p.isStream(r)||p.isFile(r)||p.isBlob(r))return r;if(p.isArrayBufferView(r))return r.buffer;if(p.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let f;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return In(r,this.formSerializer).toString();if((f=p.isFileList(r))||o.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return je(f?{"files[]":r}:r,w&&new w,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),jn(r)):r}],transformResponse:[function(r){const n=this.transitional||ft.transitional,o=n&&n.forcedJSONParsing,s=this.responseType==="json";if(r&&p.isString(r)&&(o&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(r)}catch(f){if(l)throw f.name==="SyntaxError"?B.from(f,B.ERR_BAD_RESPONSE,this,null,this.response):f}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:W.classes.FormData,Blob:W.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],t=>{ft.headers[t]={}});const pt=ft,Un=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mn=t=>{const r={};let n,o,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),o=l.substring(s+1).trim(),!(!n||r[n]&&Un[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},Pt=Symbol("internals");function Ce(t){return t&&String(t).trim().toLowerCase()}function Ve(t){return t===!1||t==null?t:p.isArray(t)?t.map(Ve):String(t)}function $n(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const Hn=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function et(t,r,n,o,s){if(p.isFunction(o))return o.call(this,r,n);if(s&&(r=n),!!p.isString(r)){if(p.isString(o))return r.indexOf(o)!==-1;if(p.isRegExp(o))return o.test(r)}}function qn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function Jn(t,r){const n=p.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(s,a,l){return this[o].call(this,r,s,a,l)},configurable:!0})})}class Ue{constructor(r){r&&this.set(r)}set(r,n,o){const s=this;function a(f,w,h){const c=Ce(w);if(!c)throw new Error("header name must be a non-empty string");const y=p.findKey(s,c);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||w]=Ve(f))}const l=(f,w)=>p.forEach(f,(h,c)=>a(h,c,w));return p.isPlainObject(r)||r instanceof this.constructor?l(r,n):p.isString(r)&&(r=r.trim())&&!Hn(r)?l(Mn(r),n):r!=null&&a(n,r,o),this}get(r,n){if(r=Ce(r),r){const o=p.findKey(this,r);if(o){const s=this[o];if(!n)return s;if(n===!0)return $n(s);if(p.isFunction(n))return n.call(this,s,o);if(p.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=Ce(r),r){const o=p.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||et(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let s=!1;function a(l){if(l=Ce(l),l){const f=p.findKey(o,l);f&&(!n||et(o,o[f],f,n))&&(delete o[f],s=!0)}}return p.isArray(r)?r.forEach(a):a(r),s}clear(r){const n=Object.keys(this);let o=n.length,s=!1;for(;o--;){const a=n[o];(!r||et(this,this[a],a,r,!0))&&(delete this[a],s=!0)}return s}normalize(r){const n=this,o={};return p.forEach(this,(s,a)=>{const l=p.findKey(o,a);if(l){n[l]=Ve(s),delete n[a];return}const f=r?qn(a):String(a).trim();f!==a&&delete n[a],n[f]=Ve(s),o[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return p.forEach(this,(o,s)=>{o!=null&&o!==!1&&(n[s]=r&&p.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(s=>o.set(s)),o}static accessor(r){const o=(this[Pt]=this[Pt]={accessors:{}}).accessors,s=this.prototype;function a(l){const f=Ce(l);o[f]||(Jn(s,l),o[f]=!0)}return p.isArray(r)?r.forEach(a):a(r),this}}Ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(Ue.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});p.freezeMethods(Ue);const Z=Ue;function tt(t,r){const n=this||pt,o=r||n,s=Z.from(o.headers);let a=o.data;return p.forEach(t,function(f){a=f.call(n,a,s.normalize(),r?r.status:void 0)}),s.normalize(),a}function or(t){return!!(t&&t.__CANCEL__)}function ke(t,r,n){B.call(this,t??"canceled",B.ERR_CANCELED,r,n),this.name="CanceledError"}p.inherits(ke,B,{__CANCEL__:!0});function Wn(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new B("Request failed with status code "+n.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Gn=W.hasStandardBrowserEnv?function(){return{write:function(n,o,s,a,l,f){const w=[];w.push(n+"="+encodeURIComponent(o)),p.isNumber(s)&&w.push("expires="+new Date(s).toGMTString()),p.isString(a)&&w.push("path="+a),p.isString(l)&&w.push("domain="+l),f===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Xn(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yn(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}function sr(t,r){return t&&!Xn(r)?Yn(t,r):r}const Qn=W.hasStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let o;function s(a){let l=a;return r&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=s(window.location.href),function(l){const f=p.isString(l)?s(l):l;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}();function Zn(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Kn(t,r){t=t||10;const n=new Array(t),o=new Array(t);let s=0,a=0,l;return r=r!==void 0?r:1e3,function(w){const h=Date.now(),c=o[a];l||(l=h),n[s]=w,o[s]=h;let y=a,k=0;for(;y!==s;)k+=n[y++],y=y%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),h-l<r)return;const C=c&&h-c;return C?Math.round(k*1e3/C):void 0}}function Ft(t,r){let n=0;const o=Kn(50,250);return s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,f=a-n,w=o(f),h=a<=l;n=a;const c={loaded:a,total:l,progress:l?a/l:void 0,bytes:f,rate:w||void 0,estimated:w&&l&&h?(l-a)/w:void 0,event:s};c[r?"download":"upload"]=!0,t(c)}}const eo=typeof XMLHttpRequest<"u",to=eo&&function(t){return new Promise(function(n,o){let s=t.data;const a=Z.from(t.headers).normalize(),l=t.responseType;let f;function w(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}let h;if(p.isFormData(s)){if(W.hasStandardBrowserEnv||W.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((h=a.getContentType())!==!1){const[v,...g]=h?h.split(";").map(b=>b.trim()).filter(Boolean):[];a.setContentType([v||"multipart/form-data",...g].join("; "))}}let c=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(v+":"+g))}const y=sr(t.baseURL,t.url);c.open(t.method.toUpperCase(),er(y,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function k(){if(!c)return;const v=Z.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:v,config:t,request:c};Wn(function(T){n(T),w()},function(T){o(T),w()},b),c=null}if("onloadend"in c?c.onloadend=k:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(k)},c.onabort=function(){c&&(o(new B("Request aborted",B.ECONNABORTED,t,c)),c=null)},c.onerror=function(){o(new B("Network Error",B.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||tr;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),o(new B(g,b.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,c)),c=null},W.hasStandardBrowserEnv){const v=Qn(y)&&t.xsrfCookieName&&Gn.read(t.xsrfCookieName);v&&a.set(t.xsrfHeaderName,v)}s===void 0&&a.setContentType(null),"setRequestHeader"in c&&p.forEach(a.toJSON(),function(g,b){c.setRequestHeader(b,g)}),p.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),l&&l!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Ft(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ft(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=v=>{c&&(o(!v||v.type?new ke(null,t,c):v),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const C=Zn(y);if(C&&W.protocols.indexOf(C)===-1){o(new B("Unsupported protocol "+C+":",B.ERR_BAD_REQUEST,t));return}c.send(s||null)})},at={http:kn,xhr:to};p.forEach(at,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const It=t=>`- ${t}`,ro=t=>p.isFunction(t)||t===null||t===!1,ar={getAdapter:t=>{t=p.isArray(t)?t:[t];const{length:r}=t;let n,o;const s={};for(let a=0;a<r;a++){n=t[a];let l;if(o=n,!ro(n)&&(o=at[(l=String(n)).toLowerCase()],o===void 0))throw new B(`Unknown adapter '${l}'`);if(o)break;s[l||"#"+a]=o}if(!o){const a=Object.entries(s).map(([f,w])=>`adapter ${f} `+(w===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(It).join(`
`):" "+It(a[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:at};function rt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ke(null,t)}function Lt(t){return rt(t),t.headers=Z.from(t.headers),t.data=tt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ar.getAdapter(t.adapter||pt.adapter)(t).then(function(o){return rt(t),o.data=tt.call(t,t.transformResponse,o),o.headers=Z.from(o.headers),o},function(o){return or(o)||(rt(t),o&&o.response&&(o.response.data=tt.call(t,t.transformResponse,o.response),o.response.headers=Z.from(o.response.headers))),Promise.reject(o)})}const zt=t=>t instanceof Z?t.toJSON():t;function ge(t,r){r=r||{};const n={};function o(h,c,y){return p.isPlainObject(h)&&p.isPlainObject(c)?p.merge.call({caseless:y},h,c):p.isPlainObject(c)?p.merge({},c):p.isArray(c)?c.slice():c}function s(h,c,y){if(p.isUndefined(c)){if(!p.isUndefined(h))return o(void 0,h,y)}else return o(h,c,y)}function a(h,c){if(!p.isUndefined(c))return o(void 0,c)}function l(h,c){if(p.isUndefined(c)){if(!p.isUndefined(h))return o(void 0,h)}else return o(void 0,c)}function f(h,c,y){if(y in r)return o(h,c);if(y in t)return o(void 0,h)}const w={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(h,c)=>s(zt(h),zt(c),!0)};return p.forEach(Object.keys(Object.assign({},t,r)),function(c){const y=w[c]||s,k=y(t[c],r[c],c);p.isUndefined(k)&&y!==f||(n[c]=k)}),n}const lr="1.6.1",mt={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{mt[t]=function(o){return typeof o===t||"a"+(r<1?"n ":" ")+t}});const jt={};mt.transitional=function(r,n,o){function s(a,l){return"[Axios v"+lr+"] Transitional option '"+a+"'"+l+(o?". "+o:"")}return(a,l,f)=>{if(r===!1)throw new B(s(l," has been removed"+(n?" in "+n:"")),B.ERR_DEPRECATED);return n&&!jt[l]&&(jt[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(a,l,f):!0}};function no(t,r,n){if(typeof t!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const a=o[s],l=r[a];if(l){const f=t[a],w=f===void 0||l(f,a,t);if(w!==!0)throw new B("option "+a+" must be "+w,B.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new B("Unknown option "+a,B.ERR_BAD_OPTION)}}const lt={assertOptions:no,validators:mt},ne=lt.validators;class Pe{constructor(r){this.defaults=r,this.interceptors={request:new Dt,response:new Dt}}request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=ge(this.defaults,n);const{transitional:o,paramsSerializer:s,headers:a}=n;o!==void 0&&lt.assertOptions(o,{silentJSONParsing:ne.transitional(ne.boolean),forcedJSONParsing:ne.transitional(ne.boolean),clarifyTimeoutError:ne.transitional(ne.boolean)},!1),s!=null&&(p.isFunction(s)?n.paramsSerializer={serialize:s}:lt.assertOptions(s,{encode:ne.function,serialize:ne.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&p.merge(a.common,a[n.method]);a&&p.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),n.headers=Z.concat(l,a);const f=[];let w=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(w=w&&g.synchronous,f.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let c,y=0,k;if(!w){const v=[Lt.bind(this),void 0];for(v.unshift.apply(v,f),v.push.apply(v,h),k=v.length,c=Promise.resolve(n);y<k;)c=c.then(v[y++],v[y++]);return c}k=f.length;let C=n;for(y=0;y<k;){const v=f[y++],g=f[y++];try{C=v(C)}catch(b){g.call(this,b);break}}try{c=Lt.call(this,C)}catch(v){return Promise.reject(v)}for(y=0,k=h.length;y<k;)c=c.then(h[y++],h[y++]);return c}getUri(r){r=ge(this.defaults,r);const n=sr(r.baseURL,r.url);return er(n,r.params,r.paramsSerializer)}}p.forEach(["delete","get","head","options"],function(r){Pe.prototype[r]=function(n,o){return this.request(ge(o||{},{method:r,url:n,data:(o||{}).data}))}});p.forEach(["post","put","patch"],function(r){function n(o){return function(a,l,f){return this.request(ge(f||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Pe.prototype[r]=n(),Pe.prototype[r+"Form"]=n(!0)});const Ae=Pe;class vt{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(s=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](s);o._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(f=>{o.subscribe(f),a=f}).then(s);return l.cancel=function(){o.unsubscribe(a)},l},r(function(a,l,f){o.reason||(o.reason=new ke(a,l,f),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}static source(){let r;return{token:new vt(function(s){r=s}),cancel:r}}}const oo=vt;function so(t){return function(n){return t.apply(null,n)}}function ao(t){return p.isObject(t)&&t.isAxiosError===!0}const it={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(it).forEach(([t,r])=>{it[r]=t});const lo=it;function ir(t){const r=new Ae(t),n=Mt(Ae.prototype.request,r);return p.extend(n,Ae.prototype,r,{allOwnKeys:!0}),p.extend(n,r,null,{allOwnKeys:!0}),n.create=function(s){return ir(ge(t,s))},n}const V=ir(pt);V.Axios=Ae;V.CanceledError=ke;V.CancelToken=oo;V.isCancel=or;V.VERSION=lr;V.toFormData=je;V.AxiosError=B;V.Cancel=V.CanceledError;V.all=function(r){return Promise.all(r)};V.spread=so;V.isAxiosError=ao;V.mergeConfig=ge;V.AxiosHeaders=Z;V.formToJSON=t=>nr(p.isHTMLForm(t)?new FormData(t):t);V.getAdapter=ar.getAdapter;V.HttpStatusCode=lo;V.default=V;const Fe=V;oe.localeData().delimiters.thousands=" ";oe.localeData().delimiters.decimal=",";const io=t=>t===void 0?void 0:JSON.parse(JSON.stringify(t)),uo=t=>{if(!Array.isArray(t)&&Object.getPrototypeOf(t)!==Object.prototype)throw new Error("Tried cloning instance of a class. Consider implementing clone method instead.");return io(t)};function ur(t,r,n){const o={};for(const[s,a]of Object.entries(t))if(s in n)if((n[s].colspan??0)>1){const l=r?r[s]:void 0;let f;l===void 0?f=100:a===0?f=-100:f=(a-l)/a*100,o[s]={original:a,comparison:l??0,difference:f}}else o[s]=a;return o}function co(t,r,n,o){const s={};for(const a of Object.values(t)){const l=a[o],f=Object.values(r).find(w=>w[o]===l);s[l]=ur(a,f,n)}return s}const fo={key:0,class:"popover-header"},po={key:1,class:"popover-body"},mo={important:"",size:"small"},vo={size:"small"},ho=e.defineComponent({__name:"CellHint",props:{format:{},label:{},title:{},url:{}},setup(t){const r=t,{format:n,label:o,title:s,url:a}=e.toRefs(r),l=e.ref(),f=e.ref(!1),w=e.ref(),h=g=>{var b;g&&(!g.target||(b=w.value)!=null&&b.contains(g.target))||(f.value=!1,window.removeEventListener("mouseup",h))},c=g=>g.map(({name:b,valueFormatted:E})=>({label:b,value:E})),y=g=>g.map(({name:b,rate:E,value:T})=>({label:b,value:`${oe(T).format("0,0")} (${oe(E).format("0,0.00")}%)`})),k=g=>{switch(n.value){case"distribution":return c(g);case"rated_distribution":return y(g);default:throw new Error(`Unsupported format: ${n.value}`)}},C=async()=>{if(window.addEventListener("mouseup",h),l.value)return;const g=(await Fe(a.value)).data;l.value=k(g)},v=async()=>{f.value=!0,await C()};return(g,b)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["cell-hint",{visible:f.value}]),ref_key:"root",ref:w,onMouseover:b[1]||(b[1]=()=>v()),onMouseout:b[2]||(b[2]=()=>h())},[e.createElementVNode("span",{class:"label",onClick:b[0]||(b[0]=e.withModifiers(()=>v(),["stop"]))},e.toDisplayString(e.unref(o)),1),e.createVNode(ut.Popover,{visible:f.value,parentClass:"cell",popoverClass:"cell-hint-popover"},{default:e.withCtx(()=>[e.unref(s)?(e.openBlock(),e.createElementBlock("div",fo,e.toDisplayString(e.unref(s)),1)):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createElementBlock("div",po,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,({label:E,value:T},H)=>(e.openBlock(),e.createElementBlock("div",{key:`line-${H}`},[e.createElementVNode("b",mo,e.toDisplayString(E)+": ",1),e.createElementVNode("span",vo,e.toDisplayString(T),1)]))),128))])):(e.openBlock(),e.createBlock(De.Loader,{key:2}))]),_:1},8,["visible"])],34))}});const Ut=ue._export_sfc(ho,[["__scopeId","data-v-9c7f570a"]]),go=t=>(e.pushScopeId("data-v-7a1d1810"),t=t(),e.popScopeId(),t),wo={class:"column-hint"},bo=go(()=>e.createElementVNode("i",{class:"la la-question-circle"},null,-1)),yo={class:"popover-header"},Co={class:"popover-body"},xo=e.defineComponent({__name:"ColumnHint",props:{description:{},title:{},visible:{type:Boolean,default:!1}},setup(t){const r=t,{description:n,title:o,visible:s}=e.toRefs(r);return(a,l)=>(e.openBlock(),e.createElementBlock("div",wo,[bo,e.createVNode(ut.Popover,{visible:e.unref(s),parentClass:"cell",popoverClass:"column-hint-popover"},{default:e.withCtx(()=>[e.createElementVNode("div",yo,e.toDisplayString(e.unref(o)),1),e.createElementVNode("div",Co,e.toDisplayString(e.unref(n)),1)]),_:1},8,["visible"])]))}});const _o=ue._export_sfc(xo,[["__scopeId","data-v-7a1d1810"]]),So=e.defineComponent({__name:"DetailsSelector",props:{labels:{},open:{type:Boolean,default:!1},title:{}},emits:["hideDetails","showDetails"],setup(t,{emit:r}){const n=t,{labels:o,open:s,title:a}=e.toRefs(n),l=e.ref(!1),f=e.ref(),w=e.ref(),h=k=>{var C,v;!k.target||(C=w.value)!=null&&C.contains(k.target)||(v=f.value)!=null&&v.$el.contains(k.target)||(l.value=!1,window.removeEventListener("mouseup",h))},c=()=>{if(s.value){r("hideDetails");return}if(l.value){l.value=!1;return}l.value=!0,window.addEventListener("mouseup",h)},y=k=>{if(l.value=!1,s.value){r("hideDetails");return}r("showDetails",k)};return e.onUnmounted(()=>{window.removeEventListener("mouseup",h)}),(k,C)=>(e.openBlock(),e.createElementBlock("div",{class:"details-selector-container",ref_key:"root",ref:w,onClick:C[0]||(C[0]=e.withModifiers(()=>c(),["stop"]))},[e.createVNode(D.Align,{class:"details-selector",vertical:"center"},{default:e.withCtx(()=>[e.unref(a)?(e.openBlock(),e.createBlock(R.Info,{key:0,mood:"important-alt",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(a)),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(D.Icon,{value:e.unref(s)?"chevron-up":"chevron-down",mood:"important-alt",size:"large-2"},null,8,["value"])]),_:1}),e.createVNode(Ur.BodyPopover,{ref_key:"popover",ref:f,parentNode:w.value,visible:l.value,autoPosition:"",popoverClass:"details-selector-popover"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),(v,g)=>(e.openBlock(),e.createBlock(R.Info,{class:"dropdown-item",onClick:e.withModifiers(()=>y(g),["stop"]),contrast:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(v),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["parentNode","visible"])],512))}});const ko=ue._export_sfc(So,[["__scopeId","data-v-4d4dbc91"]]),Eo={class:"pagination"},No=["onClick"],Bo=e.defineComponent({__name:"Pagination",props:{currentPageSize:{},id:{default:"pagination"},pageNumber:{},pageRadius:{default:3},pageSizeLabel:{},pageSizes:{default:()=>[20,50,100,500]},rowCount:{}},emits:["update:currentPageSize","update:pageNumber"],setup(t,{emit:r}){const n=t,{currentPageSize:o,id:s,pageNumber:a,pageRadius:l,pageSizeLabel:f,pageSizes:w,rowCount:h}=e.toRefs(n),c=e.computed(()=>Math.min(...w.value)),y=e.computed(()=>Math.ceil(h.value/o.value)),k=e.computed(()=>w.value.reduce((g,b)=>(g[b]=b.toString(),g),{})),C=e.computed(()=>{const g=[];for(let b=l.value-1;b>0;b--)a.value>b&&g.push(a.value-b);g.push(a.value);for(let b=1;b<l.value;b++)a.value<y.value-b-1&&g.push(a.value+b);return g}),v=g=>{o.value!==g&&r("update:currentPageSize",g)};return(g,b)=>(e.openBlock(),e.createElementBlock("div",Eo,[e.unref(h)>e.unref(o)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(a)>0?(e.openBlock(),e.createBlock(R.Info,{key:0,class:"page",onClick:b[0]||(b[0]=()=>r("update:pageNumber",0)),mood:"important-alt"},{default:e.withCtx(()=>[e.createTextVNode("1")]),_:1})):e.createCommentVNode("",!0),e.unref(a)>e.unref(l)?(e.openBlock(),e.createBlock(R.Info,{key:1,class:"page-separator"},{default:e.withCtx(()=>[e.createTextVNode("…")]),_:1})):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,E=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["page",{current:E===e.unref(a)}]),onClick:()=>r("update:pageNumber",E),key:E},e.toDisplayString(E+1),11,No))),128)),e.unref(a)<y.value-e.unref(l)-1?(e.openBlock(),e.createBlock(R.Info,{key:2,class:"page-separator"},{default:e.withCtx(()=>[e.createTextVNode("…")]),_:1})):e.createCommentVNode("",!0),e.unref(a)<y.value-1?(e.openBlock(),e.createBlock(R.Info,{key:3,class:"page",onClick:b[1]||(b[1]=()=>r("update:pageNumber",y.value-1)),mood:"important-alt"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(y.value),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(R.Info,{class:"page-size-label"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(f)),1)]),_:1})],64)):e.createCommentVNode("",!0),e.unref(h)>c.value?(e.openBlock(),e.createBlock(he.Dropdown,{key:1,class:"page-size-selector","onUpdate:modelValue":b[2]||(b[2]=E=>v(parseInt(E.toString()))),id:e.unref(s),items:k.value,modelValue:e.unref(o)},{item:e.withCtx(({item:E})=>[e.createTextVNode(e.toDisplayString(E),1)]),_:1},8,["id","items","modelValue"])):e.createCommentVNode("",!0)]))}});const Oo=ue._export_sfc(Bo,[["__scopeId","data-v-764cc1be"]]),To=t=>(e.pushScopeId("data-v-b4f986aa"),t=t(),e.popScopeId(),t),Ro=To(()=>e.createElementVNode("i",{class:"la la-eye secondary"},null,-1)),Vo=e.defineComponent({__name:"TrendChart",props:{formatter:{type:Function},title:{},url:{}},setup(t){const r=t,{formatter:n,title:o,url:s}=e.toRefs(r),a=e.ref(!1),l=e.ref([]),f=e.ref(),w=e.computed(()=>f.value?Object.assign({},f.value):{}),h=e.computed(()=>{var b;switch((b=f.value)==null?void 0:b.length){case 0:case void 0:return 0;case 1:return f.value[0];default:return f.value.slice(f.value.length/2).reduce((E,T)=>E+T,0)/Math.ceil(f.value.length/2)}}),c=e.computed(()=>{var b;switch((b=f.value)==null?void 0:b.length){case 0:case void 0:return 0;case 1:return f.value[0];default:return f.value.slice(0,f.value.length/2).reduce((E,T)=>E+T,0)/Math.floor(f.value.length/2)}}),y=e.computed(()=>c.value>h.value?"negative":c.value<h.value?"positive":"neutral"),k=e.computed(()=>{if(!f.value)return{};const b=new Array(f.value.length).fill(0).map((E,T)=>c.value+(h.value-c.value)*T/(f.value.length-1));return Object.assign({},b)}),C=async()=>{if(!f.value)return;const b=(await Fe({url:s.value})).data;l.value=Object.keys(b),f.value=Object.values(b)},v=()=>{a.value=!1,window.removeEventListener("mouseup",v)},g=async()=>{a.value=!0,window.addEventListener("mouseup",v),await C()};return(b,E)=>(e.openBlock(),e.createElementBlock("div",{class:"trend-chart-container",onClick:E[0]||(E[0]=e.withModifiers(()=>g(),["stop"]))},[Ro,e.createVNode(ut.Popover,{visible:a.value,parentClass:"cell",popoverClass:"trend-chart-popover"},{default:e.withCtx(()=>[e.unref(o)?(e.openBlock(),e.createBlock(xe.Header,{key:0,size:"small-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)),1)]),_:1})):e.createCommentVNode("",!0),f.value?(e.openBlock(),e.createBlock(De.LineBarChart,{key:1,activeLines:["values"],formatters:{trend:e.unref(n),values:e.unref(n)},moods:{trend:{mood:y.value},values:{mood:"important"}},styles:{trend:"line",values:"line"},values:{trend:k.value,values:w.value}},{"x-axis-label":e.withCtx(({index:T})=>[e.createTextVNode(e.toDisplayString(l.value[T]),1)]),_:1},8,["formatters","moods","values"])):(e.openBlock(),e.createBlock(De.Loader,{key:2}))]),_:1},8,["visible"])]))}});const Ao=ue._export_sfc(Vo,[["__scopeId","data-v-b4f986aa"]]),Do={class:"common-table"},Po={key:0,class:"controls d-flex justify-content-end mb-1"},Fo=["onMouseover","onMouseout"],Io=["onClick"],nt=50,Lo=e.defineComponent({__name:"CommonTable",props:{cellClasses:{default:()=>({})},clientCurrencyDecimal:{default:0},clientCurrencySymbol:{default:""},clientCurrencySymbolPrefix:{type:Boolean,default:!0},colorMetrics:{type:Boolean,default:!1},colorizeLabel:{},columns:{},columnDetails:{default:()=>({})},columnLinks:{default:()=>({})},comparisonColumns:{},comparisonRequest:{},defaultOrderBy:{},detailsColumn:{},detailsRequests:{},detailsSelectorTitle:{},dragColumns:{type:Boolean,default:!1},fixedColumnNumber:{default:1},inlineFilterOperators:{default:()=>({})},inversedKpis:{},pageSizeLabel:{},primaryColumn:{default:"id"},primaryColumnAlias:{},request:{},rows:{},shortenColumns:{},showInlineFilters:{type:Boolean,default:!1},showRowNumber:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0},showTopTotal:{type:Boolean,default:!1},total:{},totalTitle:{},totalColumnKey:{},trendChartTitle:{},trendUrl:{},uncolorizeLabel:{}},emits:["move:column","update:loading","update:orderBy"],setup(t,{emit:r}){const n=t,o=async(i,u)=>typeof i=="function"?await i(u):(await Fe({...i,params:{...i.params,...u}})).data,s=async(i,u)=>typeof i=="function"?await i(u):(await Fe({...i,params:{...i.params??{},filter:u.inlineFilters.value,page_number:u.pageNumber,page_size:u.pageSize,order:u.orderBy,reversed:u.reversed}})).data,{cellClasses:a,clientCurrencyDecimal:l,clientCurrencySymbol:f,clientCurrencySymbolPrefix:w,colorMetrics:h,columns:c,columnDetails:y,columnLinks:k,comparisonColumns:C,comparisonRequest:v,defaultOrderBy:g,detailsColumn:b,detailsRequests:E,dragColumns:T,fixedColumnNumber:H,inlineFilterOperators:q,inversedKpis:X,primaryColumn:A,primaryColumnAlias:K,request:F,rows:ce,shortenColumns:z,showInlineFilters:se,showRowNumber:Me,showPagination:$e,showTopTotal:He,total:de,totalColumnKey:qe,trendUrl:be}=e.toRefs(n),fe=()=>{const i={};for(const u of Object.keys(c.value))u in q.value&&(i[u]={operator:Object.keys(q.value[u])[0],value:""});return i},ee=e.ref([]),pe=e.ref(void 0),x=e.ref({}),S=e.ref([]),O=e.ref({}),I=e.ref([]),te=e.ref({}),ye=e.ref(!1),Y=e.ref(!1),Ee=e.ref([]),Ne=e.ref(!1),M=e.ref(fe()),ae=e.ref(!0),J=e.ref(),re=e.ref(0),le=e.ref(20),Be=e.ref(0),j=e.ref(),Q=e.ref(),cr=e.computed(()=>{const i={};return Y.value&&(i.inline_filters={icon:"filter"}),i}),dr=e.computed(()=>C!=null&&C.value?Object.keys(C.value):void 0),ht=e.computed(()=>I.value.reduce((i,u)=>(i[u]=uo(c.value[u]),i),{})),gt=e.computed(()=>{if(E!=null&&E.value)return Object.entries(E.value).reduce((i,[u,{label:d}])=>(i[u]=d,i),{})}),wt=e.computed(()=>[...ee.value].sort((i,u)=>{const d=(()=>{const m=We(J.value[0].reduce((N,P)=>N[P],i),c.value[J.value[0][0]].type),_=We(J.value[0].reduce((N,P)=>N[P],u),c.value[J.value[0][0]].type);return m>_?1:m<_?-1:0})();return J.value[1]?-d:d})),bt=e.computed(()=>!(F!=null&&F.value)||Ne.value?wt.value:wt.value.slice(re.value*le.value,(re.value+1)*le.value)),fr=i=>{S.value.includes(i)||S.value.push(i)},Oe=(i,u)=>!z.value||!z.value.includes(i)?!1:u.length>nt,pr=i=>!!i.tooltipTitle&&!!i.tooltipDescription,Te=(i,u,d)=>{var _;if(!d||!(C!=null&&C.value)||!(d in C.value)||C.value[d].format!=="difference")return;const m=((_=X==null?void 0:X.value)==null?void 0:_.includes(u))??!1;return i>0?m?"negative":"positive":i<0?m?"positive":"negative":"neutral"},me=(i,u,d)=>{let m=We(i,u);switch(u){case"float":return oe(parseFloat(m)).format("0,0.00");case"int":return oe(parseInt(m)).format("0,0");case"money":{let _="0,0";l.value>0&&(_+="."+"0".repeat(l.value));const N=oe(parseFloat(m)).format(_);return w.value?f.value+" "+N:N+" "+f.value}case"money_capped":{const _=parseFloat(m.toFixed(l.value))==0;if(m>0&&m<1&&_){const N=l.value===0?1:parseFloat("0."+"0".repeat(l.value-1)+"1");return w.value?`< ${f.value} ${N}`:`< ${N} ${f.value}`}else return me(i,"money",d)}case"percent":{let _=oe(parseFloat(m)).format("0,0.00")+"%";return d==="difference"&&m>0&&(_=`+${_}`),_}case"time":return`${me(Math.floor(parseInt(m)/60),"int")}mn${me(parseInt(m)%60,"int")}s`;default:return m.toString()}},mr=async(i,u)=>{if(x.value[i]&&x.value[i][u[A.value]])return x.value[i][u[A.value]];const{rows:d}=await o(E.value[i].request,{row:u,primaryColumn:(K==null?void 0:K.value)??A.value,primaryColumnValue:u[A.value]});return x.value[i]||(x.value[i]={}),x.value[i][u[A.value]]=Object.values(d),x.value[i][u[A.value]]},yt=(i,u)=>{if(!i)return u.url;const d=new URL(i.url,location.origin);if(Array.isArray(i.columns))for(const m of i.columns)d.searchParams.set(m,u[m]);else for(const[m,_]of Object.entries(i.columns))d.searchParams.set(_,u[m]);return d},vr=(i,u)=>{const d=new URL(y.value[i].baseUrl,location.origin);if(Array.isArray(y.value[i].columns))for(const m of y.value[i].columns)d.searchParams.set(m,u[m]);else for(const[m,_]of Object.entries(y.value[i].columns))d.searchParams.set(_,u[m]);return d.toString()},hr=i=>{if(i.totalUrl)return new URL(i.totalUrl).toString();const u=new URL(i.baseUrl);return u.searchParams.set("total","true"),u.toString()},gr=i=>!z.value||!z.value.includes(i)?-1:Ee.value.indexOf(i),wr=i=>{if(i in M.value)return M.value[i].operator},br=i=>{if(i in M.value)return M.value[i].value},Je=i=>q.value[i],yr=i=>{const u=Je(i);if(!u)return;const d=["normal","small"];let m=0;for(const _ of Object.values(u)){const N=d.indexOf(_.size??"normal");N>m&&(m=N)}return{[`size-${d[m]}`]:!0}},Cr=i=>{const u=Je(i);return u?Object.entries(u).reduce((d,[m,_])=>(d[m]=_.label,d),{}):{}},xr=i=>c.value[i].type==="string"?"text":"number",Ct=()=>`Table_OrderBy_${location.pathname}`,_r=()=>`Table_PageSize_${location.pathname}`,We=(i,u)=>{switch(u){case"float":case"int":case"money":case"money_capped":case"percent":case"time":return parseFloat(i??0);default:return i}},ie=(i,u,d,m=!1)=>{const[_,N]=(()=>!d||!(C!=null&&C.value)||!(d in C.value)?[c.value[u].type,void 0]:[C.value[d].type??c.value[u].type,C.value[d].format])();let P=me(i,_);return N==="difference"&&(P=i>0?`+${P}`:P),m?kt(P,u):P},Sr=(i,u)=>{if(!be)return"";const d=new URL(u?be.value[u]:be.value,location.origin);return d.searchParams.set((K==null?void 0:K.value)??A.value,i[A.value]),d.toString()},xt=(i,u,d)=>Oe(i,u)?[]:d?(b==null?void 0:b.value)===i?["flex-grow-1","text-left"]:z.value&&z.value.includes(i)&&bt.value.some(m=>Oe(i,m[i]))?["flex-grow-1","text-left"]:["flex-grow-1"]:["flew-grow-1"],kr=i=>i in q.value,Er=()=>{se.value&&(ye.value=!1)},_t=(i,u)=>{if(!(k!=null&&k.value)||!(u in k.value))return!1;const d=k.value[u];return d===null?!!i.url:!("disable_for"in d&&d.disable_for.includes(i[A.value]))},Nr=(i,u)=>{const[d]=I.value.splice(i,1);I.value.splice(u,0,d),r("move:column",{from:i,to:u})},Br=i=>{const u=S.value.indexOf(i);u<0||S.value.splice(u,1)},St=(i,u)=>{O.value[i]=u},kt=(i,u)=>!z.value||!z.value.includes(u)||i.length<=nt?i:`${i.substring(0,nt-3)}...`,Or=i=>{if(!Q.value)return;const u={left:Q.value.$el.scrollLeft,top:Q.value.$el.scrollTop};delete te.value[i[A.value]],e.nextTick(()=>{Q.value.$el.scrollTo(u)})},Tr=(i,u)=>{const d=i.target.value;Nt(u,{value:d})},Rr=(i,u)=>{i.key==="Enter"&&i.target.blur()},Vr=async(i,u)=>{if(!Q.value)return;const d={left:Q.value.$el.scrollLeft,top:Q.value.$el.scrollTop};ae.value=!0,te.value[u[A.value]]=await mr(i,u),e.nextTick(()=>{Q.value.$el.scrollTo(d),ae.value=!1})},Ar=async(i=!1)=>{await Pr(i)||await Dr(i)||await Xe(i)},Ge=async i=>{await Ye(i),re.value=i},Et=async i=>{const u=_r();if(i===void 0){const d=localStorage.getItem(u);d&&(le.value=parseInt(d))}else localStorage.setItem(u,i.toString()),await Ye(0,i),re.value=0,le.value=i},Nt=(i,{operator:u,value:d})=>{if(u||(u=Object.keys(Je(i))[0]),!u)return;const m={...M.value[i],operator:u};d!==void 0&&(m.value=d),M.value[i]=m,Ge(0)},Dr=async i=>{const u=(()=>{for(const _ in localStorage){if(!_.startsWith("DataTables_"))continue;const N=_.substring(_.indexOf("/"));if(location.pathname!==N)return;const P=localStorage.getItem(_);return P?JSON.parse(P):void 0}})();if(!u||!u.order||!u.order[0]||typeof u.order[0][0]=="number")return!1;const d=u.order[0][0].lastIndexOf("-"),m=d===-1?[[u.order[0][0]],u.order[0][1]==="desc"]:[[u.order[0][0].substring(0,d),u.order[0][0].substring(d+1)],u.order[0][1]==="desc"];return await ve(m,!1,i),!0},Xe=async i=>{if(g!=null&&g.value){await ve(g.value,!1,i);return}const[u,{colspan:d}]=Object.entries(c.value).find(([m,{visible:_}])=>_);if(d===-1){await ve([[u],!1],!1,i);return}await ve([[u,(C!=null&&C.value?Object.keys(C.value)[0]:0).toString()],!1],!1,i)},Pr=async i=>{const u=localStorage.getItem(Ct());if(u){const d=JSON.parse(u)[0][0];if(c.value[d])return await ve(JSON.parse(u),!1,i),!0}else return!1},Fr=async(i,u,d)=>{if(!(F!=null&&F.value))return!1;if(Ne.value)return!0;const[m,_]=await(async()=>{const N=[s(F.value,{inlineFilters:M.value,pageNumber:i,pageSize:u,orderBy:d[0],reversed:d[1]})];v!=null&&v.value&&N.push(s(v.value,{inlineFilters:M.value,pageNumber:i,pageSize:u,orderBy:d[0],reversed:d[1]}));const P=await Promise.all(N);if(P.length>1&&P.some($=>$.paginated===!0))throw new Error("Paginated fetching is not supported for separate comparison requests.");return P})();return _?(pe.value=[m,_],Bt()):ee.value=Object.values(m.rows),Ne.value=m.paginated!==!0,Be.value=m.rowCount,m.detailedRows?te.value=m.detailedRows:te.value={},m.total&&!_&&(j.value=m.total),!0},Bt=()=>{if(!pe.value)return;const[i,u]=pe.value;ee.value=Object.values(co(i.rows,u.rows,c.value,A.value)),i.total&&(j.value=ur(i.total,u.total,c.value))},Ir=()=>{if(!(ce!=null&&ce.value))return!1;let i=Object.values(ce.value);for(const[u,d]of Object.entries(M.value))d.value&&(i=i.filter(m=>q.value[u][d.operator].callback(m[u],d.value)));return ee.value=i,Be.value=i.length,!0},Ye=async(i,u,d)=>{i===void 0&&(i=re.value),u===void 0&&(u=le.value),d===void 0&&(d=J.value),ae.value=!0,Ir()||await Fr(re.value,le.value,J.value),ae.value=!1},Lr=()=>{se.value&&(ye.value=!0)},zr=i=>{if(!z.value||!z.value.includes(i))return;const u=gr(i);u>=0?Ee.value.splice(u,1):Ee.value.push(i)},jr=()=>{Y.value=!Y.value,Y.value&&(M.value=fe())},ve=async(i,u=!0,d=!0)=>{re.value=0,J.value=i,d&&await Ye(void 0,void 0,i),u&&localStorage.setItem(Ct(),JSON.stringify(i)),r("update:orderBy",i)};return e.onMounted(()=>{I.value=Object.keys(c.value),j.value=de==null?void 0:de.value,Promise.all([Xe(!1),Et()]).then(()=>Ar(!0))}),e.watch(c,()=>{I.value=Object.keys(c.value),M.value=fe(),pe&&Bt()}),e.watch(ae,()=>{r("update:loading",ae.value)}),g&&e.watch(g,(i,u)=>{(i==null?void 0:i[0][0])!==(u==null?void 0:u[0][0])&&Xe(!0)}),F&&e.watch(F,()=>{Ne.value=!1,Ge(0)},{deep:!0}),(i,u)=>(e.openBlock(),e.createElementBlock("div",Do,[e.unref($e)?(e.openBlock(),e.createElementBlock("div",Po,[e.createVNode(Oo,{"onUpdate:pageNumber":u[0]||(u[0]=d=>Ge(d)),"onUpdate:currentPageSize":u[1]||(u[1]=d=>Et(d)),currentPageSize:le.value,pageNumber:re.value,pageSizeLabel:i.pageSizeLabel,rowCount:Be.value},null,8,["currentPageSize","pageNumber","pageSizeLabel","rowCount"])])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"table-container",onMouseover:u[7]||(u[7]=()=>Lr()),onMouseout:u[8]||(u[8]=()=>Er())},[e.createElementVNode("div",{class:e.normalizeClass(["action-buttons",{active:ye.value}])},[e.unref(se)?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-small btn-success",onClick:u[2]||(u[2]=()=>jr())},[e.createElementVNode("div",{class:e.normalizeClass(["las",Y.value?"la-trash":"la-filter"])},null,2)])):e.createCommentVNode("",!0)],2),J.value?(e.openBlock(),e.createBlock($r.Table,{key:0,ref_key:"table",ref:Q,onAddColoredMetric:u[3]||(u[3]=d=>fr(d)),"onMove:column":u[4]||(u[4]=({from:d,to:m})=>Nr(d,m)),onRemoveColoredMetric:u[5]||(u[5]=d=>Br(d)),"onUpdate:orderBy":u[6]||(u[6]=d=>ve(d)),additionalHeaders:cr.value,cellClasses:e.unref(a),colorMetrics:e.unref(h),coloredMetrics:S.value,columns:ht.value,comparisonColumnKeys:dr.value,detailsRows:te.value,dragColumns:e.unref(T),fixedColumnNumber:e.unref(H),inversedKpis:e.unref(X),orderBy:J.value,primaryColumn:e.unref(A),rows:bt.value,showRowNumber:e.unref(Me),showTotal:!!j.value,showTopTotal:e.unref(He)},e.createSlots({colorizeLabel:e.withCtx(({enabled:d})=>[e.createVNode(R.Info,{mood:"white",size:"small"},{default:e.withCtx(()=>[d?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(i.uncolorizeLabel),1)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(i.colorizeLabel),1)],64))]),_:2},1024)]),columnRowNumber:e.withCtx(()=>[e.createVNode(R.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode("#")]),_:1})]),rowNumber:e.withCtx(({value:d})=>[e.createVNode(R.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d),1)]),_:2},1024)]),totalRowNumber:e.withCtx(()=>[e.createVNode(R.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode("#")]),_:1})]),column:e.withCtx(({columnKey:d,isGhost:m})=>[e.createElementVNode("div",{class:"d-flex align-items-center",onMouseover:()=>St(d,!0),onMouseout:()=>St(d,!1)},[e.createVNode(R.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(c)[d].label),1)]),_:2},1024),!m&&pr(e.unref(c)[d])?(e.openBlock(),e.createBlock(_o,{key:0,description:e.unref(c)[d].tooltipDescription,title:e.unref(c)[d].tooltipTitle,visible:O.value[d]},null,8,["description","title","visible"])):e.createCommentVNode("",!0)],40,Fo)]),additionalHeader:e.withCtx(({additionalHeader:d,columnKey:m})=>[d==="inline_filters"&&kr(m)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["d-flex inline-filter",yr(m)])},[e.createVNode(he.Dropdown,{class:"inline-filter-dropdown","onUpdate:modelValue":_=>Nt(m,{operator:_.toString()}),id:`additional_header_${m}`,items:Cr(m),modelValue:wr(m)},{item:e.withCtx(({item:_})=>[e.createVNode(R.Info,{contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_),1)]),_:2},1024)]),_:2},1032,["onUpdate:modelValue","id","items","modelValue"]),e.createVNode(he.Input,{class:"flex-grow-1 inline-filter-input",onBlur:_=>Tr(_,m),onKeyup:_=>Rr(_),modelValue:br(m),type:xr(m)},null,8,["onBlur","onKeyup","modelValue","type"])],2)):e.createCommentVNode("",!0)]),total:e.withCtx(({columnKey:d,subcolumnKey:m,values:_})=>[e.renderSlot(i.$slots,e.unref(de),{columnKey:d,subcolumnKey:m,values:_},()=>[i.totalTitle&&d===e.unref(qe)?(e.openBlock(),e.createBlock(R.Info,{key:0,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.totalTitle(Be.value??ee.value.length)),1)]),_:1})):j.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[j.value&&j.value[d]>=.01&&d in e.unref(y)?(e.openBlock(),e.createBlock(Ut,{key:0,format:e.unref(y)[d].format,label:kt(me(j.value[d],e.unref(c)[d].type,e.unref(C)&&m?e.unref(C)[m].format:void 0),d),title:e.unref(y)[d].title,url:hr(e.unref(y)[d])},null,8,["format","label","title","url"])):m?(e.openBlock(),e.createBlock(R.Info,{key:1,mood:Te(j.value[d][m],d,m),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ie(j.value[d][m],d,m)),1)]),_:2},1032,["mood"])):(e.openBlock(),e.createBlock(R.Info,{key:2,mood:Te(j.value[d],d,m),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ie(j.value[d],d)),1)]),_:2},1032,["mood"]))],64)):e.createCommentVNode("",!0)],!0)]),_:2},[e.unref(C)?{name:"secondaryColumn",fn:e.withCtx(({subcolumnKey:d})=>[d?(e.openBlock(),e.createBlock(R.Info,{key:0,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(C)[d].label),1)]),_:2},1024)):e.createCommentVNode("",!0)]),key:"0"}:void 0,e.renderList(Object.keys(ht.value),d=>({name:`row-${d}`,fn:e.withCtx(({columnKey:m,index:_,row:N,spanIndex:P,subcolumnKey:$,subindex:Qe,value:L})=>[e.renderSlot(i.$slots,"row-"+m,e.normalizeProps(e.guardReactiveProps({columnKey:m,index:_,row:N,spanIndex:P,subcolumnKey:$,subindex:Qe,value:L})),()=>[Qe===void 0&&m==="trend"?(e.openBlock(),e.createBlock(Ao,{key:0,class:e.normalizeClass(xt(m,L,N.rowInfo.detailable)),formatter:Ze=>me(Ze,"int"),title:i.trendChartTitle,url:Sr(N,$)},null,8,["class","formatter","title","url"])):N.rowInfo.detailable&&m===e.unref(b)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[_t(N,m)&&N.rowInfo.detailable?(e.openBlock(),e.createBlock(Ot.Link,{key:0,to:yt(e.unref(k)[m],N).toString(),"is-external":!!N.url,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ie(L,m,$,!0)),1)]),_:2},1032,["to","is-external"])):(e.openBlock(),e.createBlock(R.Info,{key:1,mood:Te(L,m,$),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ie(L,m,$)),1)]),_:2},1032,["mood"]))],64)):_t(N,m)&&N.rowInfo.detailable?(e.openBlock(),e.createBlock(Ot.Link,{key:2,to:yt(e.unref(k)[m],N).toString(),"is-external":!!N.url,contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ie(L,m,$,!0)),1)]),_:2},1032,["to","is-external"])):Qe===void 0&&L>=.01&&m in e.unref(y)?(e.openBlock(),e.createBlock(Ut,{key:3,format:e.unref(y)[m].format,label:ie(L,m,$,!0),title:e.unref(y)[m].title,url:vr(m,N)},null,8,["format","label","title","url"])):(e.openBlock(),e.createBlock(R.Info,{key:4,class:e.normalizeClass(xt(m,L,N.rowInfo.detailable)),mood:Te(L,m,$),contrast:"",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(ie(L,m,$,!0)),1)]),_:2},1032,["class","mood"])),Oe(m,L)?(e.openBlock(),e.createElementBlock("i",{key:5,class:e.normalizeClass(["flex-grow-1 expand-column fa",Ee.value.includes(m)?"fa-compress-alt":"fa-expand-alt"]),onClick:()=>zr(m)},null,10,Io)):e.createCommentVNode("",!0)],!0),gt.value&&N.rowInfo.detailable&&m===e.unref(b)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[Oe(m,L)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Mr.Separator,{key:0})),e.createVNode(ko,{onHideDetails:()=>Or(N),onShowDetails:Ze=>Vr(Ze,N),labels:gt.value,open:te.value[N[e.unref(A)]]!==void 0,title:i.detailsSelectorTitle},null,8,["onHideDetails","onShowDetails","labels","open","title"])],64)):e.createCommentVNode("",!0)])}))]),1032,["additionalHeaders","cellClasses","colorMetrics","coloredMetrics","columns","comparisonColumnKeys","detailsRows","dragColumns","fixedColumnNumber","inversedKpis","orderBy","primaryColumn","rows","showRowNumber","showTotal","showTopTotal"])):e.createCommentVNode("",!0)],32),e.createElementVNode("div",{class:e.normalizeClass(["loading-overlay",{visible:ae.value}])},[e.createVNode(De.Loader)],2)]))}});const zo=ue._export_sfc(Lo,[["__scopeId","data-v-183dd173"]]),jo={class:"scrollable flex-max no-spacing"},Uo=["onClick"],Mo={class:"scrollable flex-max no-spacing"},$o=["onClick"],Ho={class:"scrollable"},qo={class:"items flex-max no-spacing"},Jo=e.defineComponent({__name:"KpiSelector",props:{applyLabel:{},columns:{},defaultValue:{},disabled:{type:Boolean},filterLabel:{},groupNames:{},groupsTitle:{},modelValue:{},noColumnsFoundLabel:{},orderTitle:{},resetLabel:{},showModalLabel:{},title:{}},emits:["update:modelValue"],setup(t,{emit:r}){const n=t,{columns:o,defaultValue:s,groupNames:a,modelValue:l,showModalLabel:f}=e.toRefs(n),w=e.ref(Object.keys(a.value)[0]),h=e.ref([...l.value]),c=e.ref([]),y=e.ref([]),k=e.ref(""),C=e.ref(void 0),v=e.ref(void 0),g=e.ref(void 0),b=e.ref(void 0),E=e.ref(void 0),T=e.computed(()=>Object.fromEntries(Object.entries(o.value).filter(([x,S])=>S.fixed!==!0&&(k.value.trim()===""||S.label.toLowerCase().includes(k.value.trim().toLowerCase()))))),H=e.computed(()=>Object.keys(a.value).reduce((x,S)=>(x[S]=Object.fromEntries(Object.entries(T.value).filter(([O,I])=>I.group===S)),x),{})),q=e.computed(()=>w.value===void 0?void 0:H.value[w.value]),X=e.computed(()=>Object.fromEntries(Object.entries(a.value).filter(([x,S])=>Object.values(T.value).some(O=>O.group===x)))),A=e.computed(()=>{if(!(g.value===void 0||b.value===void 0||E.value===void 0))return g.value+E.value-b.value}),K=e.computed(()=>{if(A.value!==void 0)return`${A.value}px`}),F=e.computed(()=>{if(v.value===void 0||A.value===void 0)return;const x=h.value.indexOf(v.value),S=x-1-h.value.slice(0,x).reverse().findIndex(Y=>o.value[Y].fixed===!0);let O=h.value.slice(x+1).findIndex(Y=>o.value[Y].fixed===!0);O>=0?O+=x+1:O=h.value.length;const I=ce(h.value[S]),te=I.offsetHeight,ye=Math.min(Math.round((A.value-I.offsetTop)/te-1),O-S-1);return S+ye+1}),ce=x=>y.value[h.value.indexOf(x)],z=x=>c.value[h.value.indexOf(x)],se=(x=!1,S)=>{S&&S.target!==S.currentTarget||(x&&(h.value=[...l.value]),C.value=!1,w.value=Object.keys(a.value)[0])},Me=x=>{const S=h.value.indexOf(x);S>=0&&h.value.splice(S,1)},$e=()=>{h.value=[...s.value]},He=x=>{const S=[...x];r("update:modelValue",S),se(!1)},de=x=>{w.value=x.toString()},qe=()=>{C.value=!0},be=x=>{const S=h.value.indexOf(x);S>=0?h.value.splice(S,1):h.value.push(x)},fe=x=>{E.value=x.clientY},ee=()=>{const x=F.value;if(v.value!==void 0&&x!==void 0){const S=h.value.indexOf(v.value);h.value.splice(S,1),h.value.splice(x,0,v.value)}v.value=void 0,g.value=void 0,b.value=void 0,E.value=void 0,window.removeEventListener("mousemove",fe),window.removeEventListener("mouseup",ee)},pe=(x,S)=>{v.value=S,g.value=z(S).$el.offsetTop,b.value=x.clientY,E.value=x.clientY,window.addEventListener("mousemove",fe),window.addEventListener("mouseup",ee)};return e.watch(k,x=>{x?(!w.value||!(w.value in X.value))&&(w.value=Object.keys(X.value)[0]):w.value||(w.value=Object.keys(X.value)[0])}),(x,S)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(he.Button,{onClick:S[0]||(S[0]=()=>qe()),disabled:x.disabled,label:e.unref(f),mood:"neutral",tabindex:"-1"},null,8,["disabled","label"]),(e.openBlock(),e.createBlock(e.Teleport,{to:"#app > .app-container"},[e.createVNode(D.Align,{class:e.normalizeClass(["kpi-selector-container no-spacing",{visible:C.value,hidden:C.value===!1}]),onClick:S[5]||(S[5]=e.withModifiers(O=>se(!0,O),["stop"])),column:"",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(D.Card,{class:"kpi-selector"},{default:e.withCtx(()=>[e.createVNode(D.Align,{class:"title",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(xe.Header,{class:"flex-max",size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(x.title),1)]),_:1}),e.createVNode(D.Align,{class:"flex-max no-spacing search-container",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(he.Input,{class:"flex-max search",modelValue:k.value,"onUpdate:modelValue":S[1]||(S[1]=O=>k.value=O),placeholder:x.filterLabel},null,8,["modelValue","placeholder"]),e.createVNode(D.Icon,{class:"no-spacing",value:"search-alt-2"})]),_:1}),e.createVNode(D.Align,{class:"close-container flex-max no-spacing",horizontal:"right"},{default:e.withCtx(()=>[e.createVNode(D.Icon,{class:"close",onClick:S[2]||(S[2]=()=>se(!0)),size:"large-3",value:"x"})]),_:1})]),_:1}),e.createVNode(D.Align,{class:"body flex-max no-spacing"},{default:e.withCtx(()=>[w.value!==void 0&&q.value!==void 0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(D.Align,{class:"groups flex-max",column:""},{default:e.withCtx(()=>[e.createVNode(xe.Header,{size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(x.groupsTitle),1)]),_:1}),e.createElementVNode("div",jo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.entries(X.value),([O,I])=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["item no-spacing",{selected:w.value===O}]),onClick:()=>de(O)},[e.createVNode(R.Info,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(I),1)]),_:2},1024)],10,Uo))),256))])]),_:1}),e.createVNode(D.Align,{class:"group-columns flex-max no-spacing",column:""},{default:e.withCtx(()=>[e.createVNode(xe.Header,{size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(a)[w.value]),1)]),_:1}),e.createElementVNode("div",Mo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.entries(q.value),([O,I])=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["item no-spacing",{selected:h.value.includes(O)}]),onClick:()=>be(O),key:O},[e.createVNode(R.Info,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(I.label),1)]),_:2},1024)],10,$o))),128))])]),_:1}),e.createVNode(D.Align,{class:"enabled-columns flex-max no-spacing",column:""},{default:e.withCtx(()=>[e.createVNode(D.Align,{class:"header",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(xe.Header,{class:"flex-max",size:"large-2"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(x.orderTitle),1)]),_:1}),e.createVNode(R.Info,{class:"reset",onClick:S[3]||(S[3]=()=>$e()),mood:"important-alt",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(x.resetLabel),1)]),_:1})]),_:1}),e.createElementVNode("div",Ho,[e.createElementVNode("div",qo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,O=>(e.openBlock(),e.createElementBlock("div",{class:"item-container no-spacing",ref_for:!0,ref_key:"enabledColumnContainers",ref:y},[e.createElementVNode("div",{class:e.normalizeClass(["separator-top no-spacing",{"place-after":F.value!==void 0&&v.value!==void 0&&O===h.value[F.value]&&F.value<h.value.indexOf(v.value)}])},null,2),e.createVNode(D.Align,{class:e.normalizeClass(["item no-spacing",{dragged:O===v.value}]),ref_for:!0,ref_key:"enabledColumnElements",ref:c,style:e.normalizeStyle(O===v.value?{top:K.value}:void 0),vertical:"center"},{default:e.withCtx(()=>[e.unref(o)[O].fixed?(e.openBlock(),e.createBlock(R.Info,{key:0,class:e.normalizeClass(["flex-max",{fixed:e.unref(o)[O].fixed}]),size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)[O].label),1)]),_:2},1032,["class"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(D.Icon,{class:"move",onMousedown:I=>pe(I,O),value:"dots-vertical-rounded"},null,8,["onMousedown"]),e.createVNode(R.Info,{class:"flex-max no-spacing",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)[O].label),1)]),_:2},1024),e.createVNode(D.Icon,{class:"no-spacing remove",onClick:()=>Me(O),value:"trash"},null,8,["onClick"])],64))]),_:2},1032,["class","style"]),e.createElementVNode("div",{class:e.normalizeClass(["separator-bottom no-spacing",{"place-after":F.value!==void 0&&v.value!==void 0&&O===h.value[F.value]&&F.value>=h.value.indexOf(v.value)}])},null,2)],512))),256))])])]),_:1})],64)):(e.openBlock(),e.createBlock(D.Align,{key:1,class:"flex-max",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(R.Info,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(x.noColumnsFoundLabel),1)]),_:1})]),_:1}))]),_:1}),e.createVNode(D.Align,{class:"controls no-spacing",horizontal:"right"},{default:e.withCtx(()=>[e.createVNode(he.Button,{onClick:S[4]||(S[4]=()=>He(h.value)),label:x.applyLabel,mood:"positive"},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["class"])]))],64))}});const Wo=ue._export_sfc(Jo,[["__scopeId","data-v-7dc2b42e"]]);exports.CommonTable=zo;exports.KpiSelector=Wo;
