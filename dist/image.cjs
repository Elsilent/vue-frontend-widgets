"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const N=require("./Logo-bd6e4e96.cjs"),e=require("vue"),l=require("./Icon-80a3c9ab.cjs"),p=require("./Info-ad8c31fe.cjs"),_=require("./LineBarChart-02ce0532.cjs"),V=require("./marker.cjs"),k=require("./format-ec3f3449.cjs"),g=require("./_plugin-vue_export-helper-f246444f.cjs"),b=require("./Badge-55f26f8c.cjs"),y=require("./Link-d41039cc.cjs");require("./utils/error.cjs");require("./match-5382edcf.cjs");require("numeral");require("vue-router");const x=.01,B=(i,n)=>{if(Math.abs(i)<x)return Math.abs(n)<x?"equal":"less-full";if(Math.abs(n)<x)return"greater-full";const t=(i-n)/n;return i>n?{greater:t}:{less:t}},I=e.defineComponent({__name:"ComparisonKpiCard",props:{comparisonValue:{},formatter:{},inversed:{type:Boolean,default:!1},label:{},value:{}},setup(i){const n=i,{comparisonValue:t,inversed:s,value:o}=e.toRefs(n),f=e.computed(()=>o===void 0||o.value===void 0||t===void 0||t.value===void 0),u=e.computed(()=>f.value?"equal":B(o.value,t.value)),h=e.computed(()=>{const a="minus",r="up-arrow-alt",c="down-arrow-alt";switch(u.value){case"equal":return a;case"greater-full":return r;case"less-full":return c}return"less"in u.value?c:r}),C=e.computed(()=>{switch(u.value){case"equal":return 0;case"greater-full":return 1;case"less-full":return-1}return"less"in u.value?u.value.less:u.value.greater}),d=e.computed(()=>{const a="neutral",r=s.value?"important":"positive",c=s.value?"positive":"important";switch(u.value){case"equal":return a;case"greater-full":return r;case"less-full":return c}return"less"in u.value?c:r}),v=e.computed(()=>({loading:f.value}));return(a,r)=>(e.openBlock(),e.createBlock(l.Card,{class:e.normalizeClass(["kpi-card",v.value])},{default:e.withCtx(()=>[e.createVNode(l.Align,{column:""},{default:e.withCtx(()=>[e.createVNode(l.Align,{vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,{class:"flex-max",size:"large-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.label),1)]),_:1}),e.createVNode(p.Info,{important:"",size:"large-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o)===void 0?" ":a.formatter(e.unref(o))),1)]),_:1})]),_:1}),e.createVNode(l.Align,{class:"spacing-small",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(l.Icon,{mood:d.value,value:h.value},null,8,["mood","value"]),e.createVNode(p.Info,{mood:d.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(k.formatOptions).proportion(C.value)),1)]),_:1},8,["mood"]),e.createVNode(V.Separator),e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(t)===void 0?" ":a.formatter(e.unref(t))),1)]),_:1})]),_:1})]),_:1}),e.unref(o)===void 0||e.unref(t)===void 0?(e.openBlock(),e.createBlock(l.Align,{key:0,class:"loader-container no-spacing",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(_.Loader)]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["class"]))}});const q=g._export_sfc(I,[["__scopeId","data-v-2721093f"]]),D=e.defineComponent({__name:"Dot",props:{mood:{default:()=>({mood:"accent"})}},setup(i){const n=i,{mood:t}=e.toRefs(n),s=e.computed(()=>{const o={};return"mood"in t.value?o[`mood-background-${t.value.mood}`]=!0:"chart"in t.value&&(o[`chart-${t.value.chart}`]=!0),o});return(o,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dot",s.value])},null,2))}});const z=e.defineComponent({__name:"KpiCard",props:{formatter:{type:Function},icon:{},label:{},mood:{},value:{}},setup(i){const n=i,{value:t}=e.toRefs(n),s=e.computed(()=>({loading:t===void 0||t.value===void 0}));return(o,f)=>(e.openBlock(),e.createBlock(l.Card,{class:e.normalizeClass(["kpi-card",s.value])},{default:e.withCtx(()=>[e.createVNode(l.Align,{vertical:"center"},{default:e.withCtx(()=>[e.createVNode(l.Align,{class:"flex-max",column:""},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:1}),e.createVNode(p.Info,{mood:o.mood,size:"large-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(t)===void 0?" ":o.formatter(e.unref(t))),1)]),_:1},8,["mood"])]),_:1}),e.createVNode(l.Icon,{mood:o.mood,value:o.icon,size:"large-6"},null,8,["mood","value"])]),_:1}),e.unref(t)===void 0?(e.openBlock(),e.createBlock(l.Align,{key:0,class:"loader-container no-spacing",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(_.Loader)]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["class"]))}});const S=g._export_sfc(z,[["__scopeId","data-v-e84b3f2e"]]),T=e.defineComponent({__name:"ProgressBar",props:{mood:{},value:{}},setup(i){const n=i,{value:t}=e.toRefs(n),s=e.computed(()=>({"--width":`${t.value*100}%`}));return(o,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["progress-bar",[`mood-background-${o.mood}`]]),style:e.normalizeStyle(s.value)},null,6))}});const w=g._export_sfc(T,[["__scopeId","data-v-01158dc3"]]),L=e.defineComponent({__name:"KpiDistributionTable",props:{dimensionLabel:{},metrics:{},rows:{}},setup(i){const n=i,{metrics:t,rows:s}=e.toRefs(n),o=e.computed(()=>{const d=Object.keys(t.value);return d[d.length-1]}),f=(d=!1)=>{const v={};for(const a of Object.values(s.value))for(const[r,c]of Object.entries(a))r in v||(v[r]=0),d||(v[r]+=+c);return Object.keys(s.value).reduce((a,r)=>(a[r]=Object.keys(t.value).reduce((c,m)=>(c[m]=v[m]===0?0:s.value[r][m]/v[m],c),{}),a),{})},u=e.ref(f(!0));setTimeout(()=>{u.value=f()},10),e.watch(t,()=>{u.value=f()}),e.watch(s,()=>{u.value=f()});const h=e.computed(()=>Object.values(t.value).map(d=>{switch(d.align){case"left":return"min-content 1fr";case"center":default:return"max-content 1fr"}}).join(" ")),C=e.computed(()=>({"--alignment":`max-content ${h.value}`}));return(d,v)=>(e.openBlock(),e.createElementBlock("div",{class:"kpi-distribution-table",style:e.normalizeStyle(C.value)},[e.createVNode(l.Align,{class:"cell header-cell row-first",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.dimensionLabel),1)]),_:1})]),_:1}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t),(a,r)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(l.Align,{class:"cell header-cell",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.label),1)]),_:2},1024)]),_:2},1024),e.createVNode(l.Align,{class:e.normalizeClass(["cell header-cell",{"row-last":r===o.value}]),horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.label)+" (%)",1)]),_:2},1024)]),_:2},1032,["class"])],64))),256)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),(a,r)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(l.Align,{class:"cell row-first",vertical:"center"},{default:e.withCtx(()=>[e.renderSlot(d.$slots,"cell(dimension)",{value:{name:r,link:a.link}},()=>[e.createVNode(y.Link,{to:a.link},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r),1)]),_:2},1032,["to"])],!0)]),_:2},1024),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t),(c,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(l.Align,{class:"cell",horizontal:c.align??"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.formatter(a[m])),1)]),_:2},1024)]),_:2},1032,["horizontal"]),e.createVNode(l.Align,{class:e.normalizeClass(["cell",{"row-last":m===o.value}]),horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(w,{mood:c.mood,value:u.value[r][m]},null,8,["mood","value"]),e.createVNode(b.Badge,{mood:c.mood,outline:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(k.formatOptions).proportion(u.value[r][m])),1)]),_:2},1032,["mood"])]),_:2},1032,["class"])],64))),256))],64))),256))],4))}});const A=g._export_sfc(L,[["__scopeId","data-v-561b21a2"]]);exports.Avatar=N.Avatar;exports.Logo=N.Logo;exports.Icon=l.Icon;exports.LineBarChart=_.LineBarChart;exports.Loader=_.Loader;exports.ComparisonKpiCard=q;exports.Dot=D;exports.KpiCard=S;exports.KpiDistributionTable=A;exports.ProgressBar=w;
