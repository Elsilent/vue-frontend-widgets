"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const w=require("./Logo-8bf77bab.cjs"),e=require("vue"),a=require("./Icon-a896463e.cjs"),p=require("./Info-ad8c31fe.cjs"),v=require("./LineBarChart-00ae972c.cjs"),k=require("./marker.cjs"),N=require("./format-2cbbb805.cjs"),g=require("./_plugin-vue_export-helper-f246444f.cjs"),y=require("./Badge-55f26f8c.cjs");require("./utils/error.cjs");require("./match-5382edcf.cjs");require("numeral");const x=.01,B=(i,n)=>{if(Math.abs(i)<x)return Math.abs(n)<x?"equal":"less-full";if(Math.abs(n)<x)return"greater-full";const t=(i-n)/n;return i>n?{greater:t}:{less:t}},b=e.defineComponent({__name:"ComparisonKpiCard",props:{comparisonValue:{},formatter:{},inversed:{type:Boolean,default:!1},label:{},value:{}},setup(i){const n=i,{comparisonValue:t,inversed:s,value:r}=e.toRefs(n),f=e.computed(()=>r===void 0||r.value===void 0||t===void 0||t.value===void 0),u=e.computed(()=>f.value?"equal":B(r.value,t.value)),h=e.computed(()=>{const l="minus",o="up-arrow-alt",c="down-arrow-alt";switch(u.value){case"equal":return l;case"greater-full":return o;case"less-full":return c}return"less"in u.value?c:o}),C=e.computed(()=>{switch(u.value){case"equal":return 0;case"greater-full":return 1;case"less-full":return-1}return"less"in u.value?u.value.less:u.value.greater}),d=e.computed(()=>{const l="neutral",o=s.value?"important":"positive",c=s.value?"positive":"important";switch(u.value){case"equal":return l;case"greater-full":return o;case"less-full":return c}return"less"in u.value?c:o}),_=e.computed(()=>({loading:f.value}));return(l,o)=>(e.openBlock(),e.createBlock(a.Card,{class:e.normalizeClass(["kpi-card",_.value])},{default:e.withCtx(()=>[e.createVNode(a.Align,{column:""},{default:e.withCtx(()=>[e.createVNode(a.Align,{vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,{class:"flex-max",size:"large-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.label),1)]),_:1}),e.createVNode(p.Info,{important:"",size:"large-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)===void 0?" ":l.formatter(e.unref(r))),1)]),_:1})]),_:1}),e.createVNode(a.Align,{class:"spacing-small",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(a.Icon,{mood:d.value,value:h.value},null,8,["mood","value"]),e.createVNode(p.Info,{mood:d.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N.formatOptions).proportion(C.value)),1)]),_:1},8,["mood"]),e.createVNode(k.Separator),e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(t)===void 0?" ":l.formatter(e.unref(t))),1)]),_:1})]),_:1})]),_:1}),e.unref(r)===void 0||e.unref(t)===void 0?(e.openBlock(),e.createBlock(a.Align,{key:0,class:"loader-container no-spacing",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(v.Loader)]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["class"]))}});const I=g._export_sfc(b,[["__scopeId","data-v-2721093f"]]),D=e.defineComponent({__name:"Dot",props:{mood:{default:"accent"}},setup(i){const n=i,{mood:t}=e.toRefs(n),s=e.computed(()=>({[`mood-background-${t.value}`]:!0}));return(r,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dot",s.value])},null,2))}});const q=e.defineComponent({__name:"KpiCard",props:{formatter:{type:Function},icon:{},label:{},mood:{},value:{}},setup(i){const n=i,{value:t}=e.toRefs(n),s=e.computed(()=>({loading:t===void 0||t.value===void 0}));return(r,f)=>(e.openBlock(),e.createBlock(a.Card,{class:e.normalizeClass(["kpi-card",s.value])},{default:e.withCtx(()=>[e.createVNode(a.Align,{vertical:"center"},{default:e.withCtx(()=>[e.createVNode(a.Align,{class:"flex-max",column:""},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.label),1)]),_:1}),e.createVNode(p.Info,{mood:r.mood,size:"large-3"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(t)===void 0?" ":r.formatter(e.unref(t))),1)]),_:1},8,["mood"])]),_:1}),e.createVNode(a.Icon,{mood:r.mood,value:r.icon,size:"large-6"},null,8,["mood","value"])]),_:1}),e.unref(t)===void 0?(e.openBlock(),e.createBlock(a.Align,{key:0,class:"loader-container no-spacing",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(v.Loader)]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["class"]))}});const z=g._export_sfc(q,[["__scopeId","data-v-e84b3f2e"]]),S=e.defineComponent({__name:"ProgressBar",props:{mood:{},value:{}},setup(i){const n=i,{value:t}=e.toRefs(n),s=e.computed(()=>({"--width":`${t.value*100}%`}));return(r,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["progress-bar",[`mood-background-${r.mood}`]]),style:e.normalizeStyle(s.value)},null,6))}});const V=g._export_sfc(S,[["__scopeId","data-v-01158dc3"]]),T=e.defineComponent({__name:"KpiDistributionTable",props:{dimensionLabel:{},metrics:{},rows:{}},setup(i){const n=i,{metrics:t,rows:s}=e.toRefs(n),r=e.computed(()=>{const d=Object.keys(t.value);return d[d.length-1]}),f=(d=!1)=>{const _={};for(const l of Object.values(s.value))for(const[o,c]of Object.entries(l))o in _||(_[o]=0),d||(_[o]+=c);return Object.keys(s.value).reduce((l,o)=>(l[o]=Object.keys(t.value).reduce((c,m)=>(c[m]=_[m]===0?0:s.value[o][m]/_[m],c),{}),l),{})},u=e.ref(f(!0));setTimeout(()=>{u.value=f()},10),e.watch(t,()=>{u.value=f()}),e.watch(s,()=>{u.value=f()});const h=e.computed(()=>Object.values(t.value).map(d=>{switch(d.align){case"left":return"min-content 1fr";case"center":default:return"max-content 1fr"}}).join(" ")),C=e.computed(()=>({"--alignment":`max-content ${h.value}`}));return(d,_)=>(e.openBlock(),e.createElementBlock("div",{class:"kpi-distribution-table",style:e.normalizeStyle(C.value)},[e.createVNode(a.Align,{class:"cell header-cell row-first",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.dimensionLabel),1)]),_:1})]),_:1}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t),(l,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(a.Align,{class:"cell header-cell",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.label),1)]),_:2},1024)]),_:2},1024),e.createVNode(a.Align,{class:e.normalizeClass(["cell header-cell",{"row-last":o===r.value}]),horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.label)+" (%)",1)]),_:2},1024)]),_:2},1032,["class"])],64))),256)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),(l,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(a.Align,{class:"cell row-first",vertical:"center"},{default:e.withCtx(()=>[e.renderSlot(d.$slots,"cell(dimension)",{value:o},()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o),1)]),_:2},1024)],!0)]),_:2},1024),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t),(c,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(a.Align,{class:"cell",horizontal:c.align??"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(p.Info,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.formatter(l[m])),1)]),_:2},1024)]),_:2},1032,["horizontal"]),e.createVNode(a.Align,{class:e.normalizeClass(["cell",{"row-last":m===r.value}]),horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(V,{mood:c.mood,value:u.value[o][m]},null,8,["mood","value"]),e.createVNode(y.Badge,{mood:c.mood,outline:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N.formatOptions).proportion(u.value[o][m])),1)]),_:2},1032,["mood"])]),_:2},1032,["class"])],64))),256))],64))),256))],4))}});const A=g._export_sfc(T,[["__scopeId","data-v-08dca286"]]);exports.Avatar=w.Avatar;exports.Logo=w.Logo;exports.Icon=a.Icon;exports.LineBarChart=v.LineBarChart;exports.Loader=v.Loader;exports.ComparisonKpiCard=I;exports.Dot=D;exports.KpiCard=z;exports.KpiDistributionTable=A;exports.ProgressBar=V;
