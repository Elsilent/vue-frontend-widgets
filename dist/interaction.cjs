"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const E=require("./PopoverMenu-e979b6ef.cjs"),e=require("vue"),C=require("./datetime-a6d0f4bc.cjs"),x=require("./Icon-a896463e.cjs"),L=require("./Input-df2d695a.cjs"),ee=require("./Grid-fc252a0d.cjs"),h=require("./utils/date.cjs"),te=require("./match-5382edcf.cjs"),R=require("./_plugin-vue_export-helper-f246444f.cjs"),N=require("./Info-ad8c31fe.cjs"),ne=require("./Popover-eb6b32e2.cjs"),P=require("./utils/sort.cjs");require("./utils/error.cjs");const ae=7*6,oe=e.defineComponent({__name:"Calendar",props:{minDate:{default:"2020-01-01"},mode:{},monthLabels:{},range:{},yearMonth:{}},emits:["update:range","update:yearMonth"],setup(t,{emit:n}){const s=t,o=C.DateTime.now(),d=o.year,{minDate:a,mode:k,monthLabels:y,range:c,yearMonth:v}=e.toRefs(s),M=e.computed(()=>C.DateTime.fromFormat(v.value,h.dateFormat.yearMonth).month-1),w=e.computed(()=>C.DateTime.fromFormat(v.value,h.dateFormat.yearMonth).year),V=e.computed(()=>y.value.reduce((r,p,b)=>(r[b]=p,r),{})),B=e.computed(()=>C.DateTime.fromFormat(c.value[1],h.dateFormat.yearMonthDay)),I=e.computed(()=>C.DateTime.fromFormat(c.value[0],h.dateFormat.yearMonthDay)),D=e.computed(()=>{const r=C.DateTime.fromFormat(a.value,h.dateFormat.yearMonthDay).year;return new Array(d-r+1).fill(0).reduce((p,b,Z)=>{const q=r+Z;return p[q]=q.toString(),p},{})}),_=e.computed(()=>C.DateTime.fromFormat(v.value,h.dateFormat.yearMonth).startOf("month")),F=e.computed(()=>{const r=_.value.startOf("week");return _.value.hasSame(r,"day")?_.value.minus(C.Duration.fromObject({weeks:1})):r}),A=e.computed(()=>new Array(ae).fill(0).map((r,p)=>F.value.plus({days:p}))),g=r=>r.hasSame(_.value,"month"),i=r=>({"in-range":r>=I.value&&r<=B.value,now:o.hasSame(r,"day"),"range-end":r.hasSame(B.value,"day"),"range-start":r.hasSame(I.value,"day"),"this-month":g(r)}),f=r=>o.hasSame(r,"day")?"important":g(r)&&r>=I.value&&r<=B.value?"accent":"neutral",u=e.computed(()=>_.value.endOf("month")<o),l=e.computed(()=>C.DateTime.fromFormat(a.value,h.dateFormat.yearMonthDay).startOf("month")<_.value),m=()=>{const r=_.value.month;O(r<12?r:0,r<12?void 0:_.value.year+1)},S=()=>{const r=_.value.month-2;O(r>=0?r:11,r>=0?void 0:_.value.year-1)},O=(r,p)=>{const b=_.value.set({year:p,month:parseInt(r)+1}).toFormat(h.dateFormat.yearMonth);n("update:yearMonth",b)},Q=r=>{const p=te.match(k.value).when("end",()=>[c.value[0],r.toFormat(h.dateFormat.yearMonthDay)]).when("start",()=>[r.toFormat(h.dateFormat.yearMonthDay),c.value[1]]).done;n("update:range",h.normalizeRange(p))},X=r=>{const p=_.value.set({year:parseInt(r)}).toFormat(h.dateFormat.yearMonth);n("update:yearMonth",p)};return(r,p)=>(e.openBlock(),e.createBlock(x.Align,{class:"calendar",column:""},{default:e.withCtx(()=>[e.createVNode(x.Align,{class:"header"},{default:e.withCtx(()=>[e.createVNode(E.Button,{class:"month-picker",onClick:p[0]||(p[0]=e.withModifiers(()=>S(),["stop"])),disabled:!l.value,icon:"chevron-left",mood:"neutral",outline:"",size:"large-4"},null,8,["disabled"]),e.createVNode(L.Dropdown,{class:"flex-max spacing-small","onUpdate:modelValue":p[1]||(p[1]=b=>O(b)),items:V.value,modelValue:M.value,size:"small"},null,8,["items","modelValue"]),e.createVNode(L.Dropdown,{class:"spacing-small","onUpdate:modelValue":p[2]||(p[2]=b=>X(b)),items:D.value,modelValue:w.value,size:"small"},null,8,["items","modelValue"]),e.createVNode(E.Button,{class:"month-picker spacing-small",onClick:p[3]||(p[3]=e.withModifiers(()=>m(),["stop"])),disabled:!u.value,icon:"chevron-right",mood:"neutral",outline:"",size:"large-4"},null,8,["disabled"])]),_:1}),e.createVNode(x.Align,{class:"calendar-grid-container flex-max",horizontal:"center",vertical:"center"},{default:e.withCtx(()=>[e.createVNode(ee.Grid,{class:"calendar-grid no-spacing",columns:7},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.value,b=>(e.openBlock(),e.createBlock(E.Button,{class:e.normalizeClass(["day",i(b)]),onClick:e.withModifiers(()=>Q(b),["stop"]),disabled:b>e.unref(o),label:b.day.toString(),mood:f(b),outline:f(b)==="neutral"},null,8,["onClick","class","disabled","label","mood","outline"]))),256))]),_:1})]),_:1})]),_:1}))}});const j=R._export_sfc(oe,[["__scopeId","data-v-b6dd336b"]]),re=e.defineComponent({__name:"DateRangePicker",props:{dateRangePresets:{},disabled:{type:Boolean,default:!1},modelValue:{},monthLabels:{},translator:{}},emits:["update:modelValue"],setup(t,{emit:n}){const s=t,{dateRangePresets:o,disabled:d,modelValue:a}=e.toRefs(s),k=e.ref(!1),y=e.ref(),c=e.ref(),v=u=>{const l=C.DateTime.fromFormat(u[0],h.dateFormat.yearMonthDay),m=C.DateTime.fromFormat(u[1],h.dateFormat.yearMonthDay),S=l.toFormat(h.dateFormat.yearMonth),O=l.hasSame(m,"month")&&m.endOf("month")<C.DateTime.now()?m.plus({month:1}).toFormat(h.dateFormat.yearMonth):m.toFormat(h.dateFormat.yearMonth);return[S,O]},M=()=>h.rangeToDisplayFormat(a.value),w=e.ref(M()),V=u=>{const l=v(u);i.value=l[0],f.value=l[1]},B=()=>{var u;k.value||d.value||(k.value=!0,V(a.value),(u=c.value)==null||u.$el.focus())},I=u=>{const[l,m]=h.rangeFromPreset(u);return l===a.value[0]&&m===a.value[1]},D=e.ref("start"),_=u=>{n("update:modelValue",u),D.value==="start"?D.value="end":F()};e.watch(a,()=>{w.value=M()});const F=u=>{var l,m,S;if(!u||!((l=y.value)!=null&&l.$el.contains(u.relatedTarget))){k.value=!1,D.value="start",(m=c.value)==null||m.$el.blur();return}(S=c.value)==null||S.$el.focus()},A=u=>{const l=h.rangeFromPreset(o.value[u]);n("update:modelValue",l),V(l),F()},g=v(a.value),i=e.ref(g[0]),f=e.ref(g[1]);return e.watch(w,u=>{const l=h.tryRangeFromDisplayFormat(u);l&&n("update:modelValue",l)}),(u,l)=>(e.openBlock(),e.createBlock(x.Align,{class:"date-range-picker",onClick:l[6]||(l[6]=()=>B()),ref_key:"dateRangePicker",ref:y,tabindex:"-1"},{default:e.withCtx(()=>[e.createVNode(L.Input,{ref_key:"dateRangePickerInput",ref:c,modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=m=>w.value=m),onBlur:l[1]||(l[1]=m=>F(m)),disabled:e.unref(d)},null,8,["modelValue","disabled"]),e.createVNode(E.Button,{class:"no-spacing",disabled:e.unref(d),icon:"calendar",mood:"inactive"},null,8,["disabled"]),e.createVNode(ne.Popover,{class:"date-range-picker-body no-spacing",visible:k.value},{default:e.withCtx(()=>[e.createVNode(x.Align,{class:"sections"},{default:e.withCtx(()=>[e.createVNode(x.Align,{class:"presets",column:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),(m,S)=>(e.openBlock(),e.createBlock(N.Info,{class:e.normalizeClass(["preset",{active:I(m)}]),onClick:e.withModifiers(()=>A(S),["stop"]),size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.translator(m.label)),1)]),_:2},1032,["onClick","class"]))),256))]),_:1}),e.createVNode(x.Align,{class:"calendars"},{default:e.withCtx(()=>[e.createVNode(j,{"onUpdate:range":l[2]||(l[2]=m=>_(m)),range:e.unref(a),yearMonth:i.value,"onUpdate:yearMonth":l[3]||(l[3]=m=>i.value=m),mode:D.value,monthLabels:u.monthLabels},null,8,["range","yearMonth","mode","monthLabels"]),e.createVNode(j,{"onUpdate:range":l[4]||(l[4]=m=>_(m)),range:e.unref(a),yearMonth:f.value,"onUpdate:yearMonth":l[5]||(l[5]=m=>f.value=m),mode:D.value,monthLabels:u.monthLabels},null,8,["range","yearMonth","mode","monthLabels"])]),_:1})]),_:1})]),_:1},8,["visible"])]),_:1},512))}});const le=R._export_sfc(re,[["__scopeId","data-v-34fdd6cc"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const se=typeof window<"u",ue=()=>{},T=Array.isArray;function z(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function ce(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!ie(t[s],n[s]))return!1;return!0}function ie(t,n){return T(t)?$(t,n):T(n)?$(n,t):t===n}function $(t,n){return T(n)?t.length===n.length&&t.every((s,o)=>s===n[o]):t.length===1&&t[0]===n}var U;(function(t){t.pop="pop",t.push="push"})(U||(U={}));var Y;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Y||(Y={}));Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var K;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(K||(K={}));Symbol(process.env.NODE_ENV!=="production"?"router view location matched":"");Symbol(process.env.NODE_ENV!=="production"?"router view depth":"");const J=Symbol(process.env.NODE_ENV!=="production"?"router":""),de=Symbol(process.env.NODE_ENV!=="production"?"route location":"");Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function G(t){const n=e.inject(J),s=e.inject(de),o=e.computed(()=>n.resolve(e.unref(t.to))),d=e.computed(()=>{const{matched:c}=o.value,{length:v}=c,M=c[v-1],w=s.matched;if(!M||!w.length)return-1;const V=w.findIndex(z.bind(null,M));if(V>-1)return V;const B=H(c[v-2]);return v>1&&H(M)===B&&w[w.length-1].path!==B?w.findIndex(z.bind(null,c[v-2])):V}),a=e.computed(()=>d.value>-1&&pe(s.params,o.value.params)),k=e.computed(()=>d.value>-1&&d.value===s.matched.length-1&&ce(s.params,o.value.params));function y(c={}){return ve(c)?n[e.unref(t.replace)?"replace":"push"](e.unref(t.to)).catch(ue):Promise.resolve()}if(process.env.NODE_ENV!=="production"&&se){const c=e.getCurrentInstance();if(c){const v={route:o.value,isActive:a.value,isExactActive:k.value};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(v),e.watchEffect(()=>{v.route=o.value,v.isActive=a.value,v.isExactActive=k.value},{flush:"post"})}}return{route:o,href:e.computed(()=>o.value.href),isActive:a,isExactActive:k,navigate:y}}const me=e.defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:G,setup(t,{slots:n}){const s=e.reactive(G(t)),{options:o}=e.inject(J),d=e.computed(()=>({[W(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[W(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const a=n.default&&n.default(s);return t.custom?a:e.h("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:d.value},a)}}}),fe=me;function ve(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function pe(t,n){for(const s in n){const o=n[s],d=t[s];if(typeof o=="string"){if(o!==d)return!1}else if(!T(d)||d.length!==o.length||o.some((a,k)=>a!==d[k]))return!1}return!0}function H(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const W=(t,n,s)=>t??n??s,he=["href"],ge=e.defineComponent({__name:"Link",props:{to:{}},setup(t){const n=t,{to:s}=e.toRefs(n);return(o,d)=>typeof e.unref(s)=="string"||"name"in e.unref(s)?(e.openBlock(),e.createBlock(e.unref(fe),{key:0,class:"link",to:e.unref(s)},{default:e.withCtx(()=>[e.createVNode(N.Info,{mood:"important-alt"},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["to"])):(e.openBlock(),e.createElementBlock("a",{key:1,class:"link",href:e.unref(s).toString()},[e.createVNode(N.Info,{mood:"important-alt"},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"default",{},void 0,!0)]),_:3})],8,he))}});const ke=R._export_sfc(ge,[["__scopeId","data-v-1937b929"]]),_e=["disabled"],ye=e.defineComponent({__name:"MultiSelect",props:{allItemsLabel:{},disabled:{type:Boolean,default:!1},items:{},modelValue:{},noInline:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:n}){const s=t,{disabled:o,items:d,modelValue:a}=e.toRefs(s),k=e.ref(!1),y=e.ref(null),c=e.ref(null),v=e.ref(""),M=e.computed(()=>!a||!a.value?!1:Object.keys(d.value).every(g=>a.value.includes(g))),w=e.computed(()=>Object.values(d.value).sort(P.sort).join(", ")),V=e.computed(()=>(v.value?Object.entries(d.value).filter(([,i])=>i.toLowerCase().includes(v.value.toLowerCase())).map(([i])=>i):Object.keys(d.value)).sort(P.sort).reduce((i,f)=>(i[f]=d.value[f],i),{})),B=e.computed(()=>!(a!=null&&a.value)||a.value===void 0?1:-Object.keys(V.value).indexOf(a.value.toString())),I=e.computed(()=>!a||!a.value?[]:[...a.value].sort(P.sort)),D=e.computed(()=>({"--item-count":Object.keys(V.value).length,"--selection-offset":B.value})),_=()=>{var g;o.value||(k.value=!0,(g=c.value)==null||g.focus())},F=g=>{var i,f,u;if(!((i=y.value)!=null&&i.$el.contains(g.relatedTarget))){k.value=!1,v.value="",(f=c.value)==null||f.blur();return}(u=c.value)==null||u.focus()},A=g=>{if(!a||!a.value||o&&o.value||!k.value)return;const i=[...a.value],f=i.indexOf(g);f>=0?i.splice(f,1):i.push(g),n("update:modelValue",i)};return(g,i)=>(e.openBlock(),e.createBlock(x.Align,{class:"multiselect-container",ref_key:"multiSelectContainer",ref:y,inline:!g.noInline,column:""},{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["multiselect",{active:k.value,disabled:e.unref(o)}]),onClick:i[2]||(i[2]=()=>_()),style:e.normalizeStyle(D.value),tabindex:"-1"},[e.createVNode(x.Align,{class:"current-item",vertical:"center"},{default:e.withCtx(()=>[!e.unref(a)||e.unref(a).length===0?(e.openBlock(),e.createBlock(N.Info,{key:0,class:"default-value"},{default:e.withCtx(()=>[e.createTextVNode(" ")]),_:1})):(e.openBlock(),e.createBlock(x.Align,{key:1,class:"current-values",wrap:""},{default:e.withCtx(()=>[M.value&&g.allItemsLabel?(e.openBlock(),e.createBlock(N.Info,{key:0,class:"current-value all-items",title:w.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.allItemsLabel),1)]),_:1},8,["title"])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(I.value,f=>(e.openBlock(),e.createBlock(N.Info,{class:"current-value no-spacing",onClick:e.withModifiers(()=>A(f),["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(d)[f]),1)]),_:2},1032,["onClick"]))),256))]),_:1})),e.withDirectives(e.createElementVNode("input",{class:"flex-max new-value-input no-spacing",ref_key:"newValueInput",ref:c,onBlur:i[0]||(i[0]=f=>F(f)),disabled:e.unref(o),"onUpdate:modelValue":i[1]||(i[1]=f=>v.value=f)},null,40,_e),[[e.vModelText,v.value]]),e.createVNode(x.Icon,{backend:"boxicons-solid",size:"small-2",value:"down-arrow"})]),_:1}),e.createVNode(x.Align,{class:"dropdown-menu no-spacing",column:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.value,(f,u)=>{var l;return e.openBlock(),e.createBlock(N.Info,{class:e.normalizeClass(["item no-spacing",{current:(l=e.unref(a))==null?void 0:l.includes(u)}]),onClick:e.withModifiers(()=>A(u),["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(f),1)]),_:2},1032,["class","onClick"])}),256))]),_:1})],6)]),_:1},8,["inline"]))}});const be=R._export_sfc(ye,[["__scopeId","data-v-e8639c6c"]]),we=e.defineComponent({__name:"Toggle",props:{mood:{default:"positive"},modelValue:{type:Boolean}},emits:["checked","unchecked","update:modelValue"],setup(t,{emit:n}){const s=t,{modelValue:o,mood:d}=e.toRefs(s),a=e.computed(()=>{const y=o.value?d.value:"inactive";return{active:o.value,[`mood-background-${y}`]:!0,[`mood-border-${y}`]:!0}}),k=()=>{const y=!o.value;n(y?"checked":"unchecked"),n("update:modelValue",y)};return(y,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["toggle",a.value]),onClick:c[0]||(c[0]=()=>k())},null,2))}});const Ve=R._export_sfc(we,[["__scopeId","data-v-49b20089"]]);exports.Button=E.Button;exports.PopoverMenu=E.PopoverMenu;exports.Dropdown=L.Dropdown;exports.Input=L.Input;exports.Calendar=j;exports.DateRangePicker=le;exports.Link=ke;exports.MultiSelect=be;exports.Toggle=Ve;
